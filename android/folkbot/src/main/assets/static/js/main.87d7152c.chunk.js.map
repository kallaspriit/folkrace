{"version":3,"sources":["components/BlockButton/BlockButton.module.scss","components/Field/Field.module.scss","components/ButtonGroup/ButtonGroup.module.scss","components/IconButton/IconButton.module.scss","components/Log/Log.module.scss","components/MainMenu/MainMenu.module.scss","components/TitleBar/TitleBar.module.scss","components/TextButton/TextButton.module.scss","components/List/List.module.scss","components/Status/Status.module.scss","components/Loading/Loading.module.scss","components/Stack/Stack.module.scss","components/NameValuePair/NameValuePair.module.scss","components/PageView/PageView.module.scss","views/ErrorView/ErrorView.module.scss","hooks/useScrollToBottom.ts","views/ConfigureConnectionView/ConfigureConnectionView.module.scss","components/Grid/Grid.module.scss","views/StatusView/StatusView.module.scss","views/LoadingView/LoadingView.module.scss","components/Flex/Flex.module.scss","routes.ts","services/buildPath.ts","services/buildUrl.ts","state/websocketHostState.ts","theme/icons/password-hide-icon.svg","services/getWebsocketHost.ts","components/Flex/Flex.tsx","components/Container/Container.tsx","components/Loading/Loading.tsx","components/Row/Row.tsx","components/BlockButton/BlockButton.tsx","components/Expanded/Expanded.tsx","theme/icons/password-show-icon.svg","theme/icons/back-icon.svg","components/Stack/Stack.tsx","components/Field/Field.tsx","components/Form/Form.tsx","components/GridBox/GridBox.tsx","components/Column/Column.tsx","components/Paragraph/Paragraph.tsx","components/NameValuePair/NameValuePair.tsx","components/TextButton/TextButton.tsx","lib/transport/Transport.ts","components/IconButton/IconButton.tsx","components/TitleBar/TitleBar.tsx","components/View/View.tsx","theme/icons/network-icon.svg","lib/transport/WebsocketTransport.ts","lib/transport/NativeTransport.ts","lib/transport/MultiTransport.ts","state/transportStatusState.ts","theme/icons/tick-icon.svg","theme/icons/controller-icon.svg","views/ConfigureConnectionView/ConfigureConnectionView.tsx","services/storeWebsocketHost.ts","components/MainMenu/MainMenu.tsx","hooks/useDisableScrolling.ts","theme/icons/map-icon.svg","theme/icons/remote-icon.svg","theme/icons/settings-icon.svg","theme/icons/status-icon.svg","views/ControllerView/ControllerView.tsx","views/MapView/MapView.tsx","config.ts","lib/gamepad/GamepadManager.ts","lib/gamepad/ManagedGamepad.ts","lib/tracked-vehicle-kinematics/TrackedVehicleKinematics.ts","services/kinematics.ts","lib/remote-controller/RemoteController.ts","services/getControllerRate.ts","services/clamp.ts","services/rotationsPerMinuteToEncoderCountsPerSecond.ts","lib/robot/Robot.ts","services/nativeTransport.ts","services/websocketTransport.ts","services/multiTransport.ts","services/robot.ts","state/logMessagesState.ts","services/assertUnreachable.ts","hooks/useLog.ts","hooks/useRemoteControl.ts","services/map.ts","lib/ticker/Ticker.ts","lib/visualizer/Layer.ts","lib/visualizer/Visualizer.ts","hooks/useVisualizer.ts","services/radiansToDegrees.ts","state/odometryPoseState.ts","theme/icons/forward-arrow-icon.svg","state/odometryStepsState.ts","views/RemoteView/RemoteView.tsx","services/drawRobot.ts","services/getVectorLength.ts","components/List/List.tsx","components/PageList/PageList.tsx","components/ButtonGroup/ButtonGroup.tsx","components/RenderCount/RenderCount.tsx","views/ExperimentsView/LogExperiment.tsx","state/serialStatusState.ts","components/PageView/PageView.tsx","hooks/usePrevious.ts","views/ExperimentsView/MainMenuExperiment.tsx","views/ExperimentsView/SoundExperiment.tsx","state/activeTransportNameState.ts","state/lastHeartbeatTimeState.ts","state/timerState.ts","state/aliveState.ts","state/attitudeState.ts","state/buttonsState.ts","state/currentSpeedsState.ts","state/currentsState.ts","state/encodersState.ts","state/lidarMeasurementsState.ts","state/lidarStatusState.ts","state/loadState.ts","state/loopFrequencyState.ts","state/motorsConnectedState.ts","state/serverIpState.ts","state/targetSpeedsState.ts","state/usbState.ts","state/voltageState.ts","views/ExperimentsView/StateExperiment.tsx","hooks/useTransportListener.ts","views/ExperimentsView/TransportExperiment.tsx","theme/icons/battery-icon.svg","views/ExperimentsView/VisualizerExperiment.tsx","views/ExperimentsView/ExperimentsView.tsx","views/SettingsView/SettingsView.tsx","theme/icons/serial-icon.svg","components/Status/Status.tsx","components/BatteryStatus/BatteryStatus.tsx","theme/icons/lidar-icon.svg","components/FirmwareStatus/FirmwareStatus.tsx","components/Grid/Grid.tsx","theme/icons/clear-icon.svg","components/LidarStatus/LidarStatus.tsx","theme/icons/motors-icon.svg","components/Log/Log.tsx","theme/icons/transport-icon.svg","components/MotorsStatus/MotorsStatus.tsx","components/SerialStatus/SerialStatus.tsx","components/TransportStatus/TransportStatus.tsx","views/StatusView/StatusView.tsx","views/MainMenuView/MainMenuView.tsx","views/ErrorView/ErrorView.tsx","views/NotFoundView/NotFoundView.tsx","App.tsx","components/ErrorBoundary/ErrorBoundary.tsx","hooks/useInterval.ts","components/LowBatteryAlarm/LowBatteryAlarm.tsx","hooks/useLowBatteryAlarm.ts","services/assertArgumentCount.ts","services/encoderCountsPerSecondToRotationsPerMinute.ts","state/odometryState.ts","handlers/useHandleEncoderCommand.ts","services/getEuclideanDistance.ts","hooks/useHandleCommand.ts","handlers/useHandleHeartbeatCommand.ts","handlers/useHandleAttitudeCommand.ts","handlers/useHandleCurrentCommand.ts","handlers/useHandleVoltageCommand.ts","handlers/useHandleButtonCommand.ts","handlers/useHandleTargetSpeedCommand.ts","handlers/useHandleLidarStateCommand.ts","handlers/useHandleLidarMeasurementCommand.ts","handlers/useHandleSerialCommand.ts","handlers/useHandleMotorsCommand.ts","handlers/useHandleIpCommand.ts","handlers/useHandleResetCommand.ts","handlers/useHandleUsbCommand.ts","components/StateRouter/StateRouter.tsx","hooks/useStateRouter.ts","views/LoadingView/LoadingView.tsx","Root.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","useScrollToBottom","ref","isEnabled","useState","isFirstExecution","setIsFirstExecution","el","current","isNearBottom","scrollHeight","clientHeight","scrollTop","setImmediate","scrollTo","top","CONFIGURE_CONNECTION_VIEW_PATH","MAIN_MENU_VIEW_PATH","buildPath","path","params","removeOptional","url","Object","keys","forEach","name","value","undefined","regexp","RegExp","match","Error","replace","missingRequiredArgumentNames","Array","from","matchAll","map","missingArgumentMatch","filter","arg","substr","length","join","buildUrl","_g","websocketHostState","atom","key","default","localStorage","websocketHost","FlexBase","tag","this","props","children","secondary","alternate","column","row","inline","nowrap","overflow","expanded","shrinkable","padded","paddedHorizontal","paddedVertical","limited","scrollable","center","cover","panX","panY","tiny","small","large","extraLarge","compact","strong","thin","italic","light","lighter","darker","hideOnSmallScreens","ignorePointerEvents","debug","debug2","debug3","mainAxisAlignment","crossAxisAlignment","selfAlignment","flex","className","textAlign","flexRef","rest","element","React","createElement","onClick","style","component","type","alignSelf","classNames","styles","Component","Flex","forwardRef","Container","Loading","loading","LoadingIndicator","segmentCount","segmentWidth","segmentLength","spacing","fadeSteps","fadeTo","segmentColor","red","green","blue","alpha","innerRadius","opacityDelta","segments","i","opacity","Math","min","rotation","push","x1","y1","x2","y2","transform","rgbaColor","radius","ceil","size","viewBox","xmlns","stroke","strokeWidth","strokeLinecap","Row","BlockButton","tertiary","quaternary","disabled","leading","trailing","e","content","Expanded","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPasswordHideIcon","_ref","svgRef","title","titleId","id","cx","cy","r","d","ForwardRef","SvgPasswordShowIcon","_polygon","Stack","referenceFirstChild","stack","Field","requiresActivation","label","defaultValue","error","register","expandTrailing","withoutBorder","onChange","onFocus","onBlur","hasValue","setHasValue","hasFocus","setHasFocus","showPassword","setShowPassword","isActivated","setIsActivated","togglePassword","usePasswordToggle","useTrailing","constraintsIdentifier","field","htmlFor","aria-describedby","hasValueNow","handleValueChange","input","aria-label","border","message","Form","GridBox","half","useSize","fullSize","width","height","Column","autoscroll","useRef","P","NameValuePair","vertical","TextButton","withoutUnderline","SvgBackIcon","enableBackground","xmlSpace","xmlnsXlink","points","TransportStatus","IconButton","badge","icon","Children","count","TitleBar","fixed","transparent","onBack","child","index","View","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_path","_g14","_g15","_g16","_g17","_g18","_g19","_g20","_path2","_g21","_g22","_g23","_ellipse","_path3","_g24","_g25","_g26","_g27","_g28","_g29","_path4","_g30","_g31","_g32","_path5","_g33","_g34","_g35","_g36","_g37","_g38","_path6","_g39","_path7","_g40","_g41","_g42","_path8","_g43","_path9","_g44","WebsocketTransport","options","listeners","state","DISCONNECTED","wasConnected","ws","reconnectTimeout","useSSL","log","dummyLogger","reconnectInterval","WebSocket","listener","listenerIndex","findIndex","existingListener","splice","a","host","port","info","console","onopen","onclose","onerror","onmessage","close","clearTimeout","setState","RECONNECTING","CONNECTING","_event","CONNECTED","event","logDetails","code","reason","wasClean","warn","setTimeout","connect","onError","data","onMessageReceived","send","onMessageSent","newState","previousState","onStatusChanged","NativeTransport","bridgeExists","native","window","app","receive","MultiTransport","transports","activeTransport","getActiveTransport","getName","getAvailableTransport","getState","promises","transport","Promise","resolve","all","connectedTransport","getConnectedTransport","addListener","eventTransport","wasSentSuccessfully","find","isAvailable","transportStatusState","SvgNetworkIcon","fill","strokeLinejoin","strokeMiterlimit","ry","x","y","rx","lineHeight","fontWeight","fontSize","fontFamily","letterSpacing","wordSpacing","SvgTickIcon","ConfigureConnectionView","history","useHistory","isHostUpdated","setIsHostUpdated","transportStatus","useRecoilValue","useRecoilState","setWebsocketHost","useForm","handleSubmit","formState","onSubmit","storeWebsocketHost","goBack","errors","required","MainMenu","activeItemIndex","onItemClick","handleItemClick","useCallback","currentTarget","HTMLElement","indexString","dataset","parseInt","isValidElement","cloneElement","active","background","MainMenuItem","memo","disablerCount","useDisableScrolling","useEffect","notScrollableClassName","document","querySelector","classList","add","remove","SvgControllerIcon","SvgMapIcon","SvgRemoteIcon","SvgSettingsIcon","SvgStatusIcon","ControllerView","MapView","config","clientVersion","process","websocket","websocketPort","battery","low","critical","alarmInterval","vehicle","trackWidth","maxSpeed","wheelDiameter","trackIcrMultiplier","encoderCountsPerRotation","gearboxRatio","speedUpdateInterval","rates","rcRate","expoRate","superRate","odometry","maxStepCount","minimumStepDistanceMeters","ignoreSentCommands","ignoreReceivedCommands","GamepadManager","gamepads","_handleGamepadConnected","handleGamepadConnected","bind","_handleGamepadDisconnected","handleGamepadDisconnected","navigator","getGamepads","addEventListener","gamepad","removeEventListener","stopPolling","buttons","axes","defaultDeadzone","getAutoDeadzone","managedGamepad","ManagedGamepad","onConnect","onUpdate","autoPoll","addUpdateListener","startPolling","getGamepadByIndex","item","onDisconnect","multiplier","maxAxisValue","axisValue","absValue","abs","axisDeadzone","updateListeners","isPolling","animationFrameRequest","poll","axisIndex","deadzone","requestAnimationFrame","cancelAnimationFrame","getCurrentState","newButtons","haveButtonsChanged","reduce","haveChanged","newButton","previousButton","pressed","touched","applyDeadzone","updateListener","TrackedVehicleKinematics","speedMetersPerSecond","PI","speedsMetersPerSecond","left","speedToRpm","right","rotationPerMinute","rotationsPerMinute","rpmToSpeed","speed","omega","speeds","getLimitedSpeed","trackRpms","trackSpeeds","rpmsToSpeeds","icrXLeft","icrXRight","velocity","b","threshold","leftDifference","rightDifference","isLeftDifferent","isRightDifferent","maxRequestedSpeedMagnitude","max","normalizationFactor","currentPose","motion","dt","angleChange","updatedAngle","angle","coordinateSystemRotation","positionChange","cos","sin","position","kinematics","RemoteController","robot","scheduleUpdateMotorSpeeds","lastSentTargetRpms","throttle","updateMotorSpeeds","motorSpeeds","motionToSpeeds","motorRpms","speedsToRpms","isSpeedDifferent","setMotorTargetRpms","getControllerRate","rateCommand","Number","POSITIVE_INFINITY","angleRate","clamp","rotationsPerMinutePerEncoderCountsPerSecond","rotationsPerMinuteToEncoderCountsPerSecond","round","Robot","pingSentTime","targetLidarRpm","setMotorsTargetEncoderCountsPerSecond","encoderCountsPerSecond","transportOnly","Date","now","command","args","nativeTransport","websocketTransport","multiTransport","addTransport","LogMessageType","assertUnreachable","_impossible","logMessagesState","logMessageCount","useLog","setLogMessagesState","useSetRecoilState","appendLogMessage","getLogMessage","logMessages","timestamp","INFO","WARN","ERROR","RECEIVE","SEND","logToConsole","slice","useMemo","trace","useRemoteControl","gamepadName","setGamepadName","remoteController","gamepadManager","remainingGamepad","getFirstAvailableGamepad","stop","isPressedA","isPressedX","setSpeed","setOmega","destroy","inMin","inMax","outMin","outMax","capped","uncapped","Ticker","isRunning","frameNumber","scheduledAnimationFrame","lastTickTime","autoStart","start","scheduleNextFrame","currentTime","tick","time","frame","Layer","canvas","ctx","ticker","mouseDownCounter","defaultStyle","fillStyle","strokeStyle","font","textBaseline","getTransform","_layer","render","_info","onMouseDownEvent","onMouseUpEvent","onMouseMoveEvent","getContext","clientWidth","pointerEvents","horizontalScaling","verticalSkewing","horizontalSkewing","verticalScaling","horizontalTranslation","verticalTranslation","scale","rotate","applyStyle","onmousedown","handleMouseEvent","onmouseup","onmousemove","opt","screenCenter","worldToScreen","save","beginPath","arc","restore","lifetime","age","getScale","color","toString","drawCircle","isPolar","screenSize","translate","fillRect","padding","centered","origin","offset","strokeRect","screenFrom","screenTo","to","moveTo","lineTo","defaultRowCount","cellHeight","defaultColumnCount","cellWidth","rows","columns","toCartesian","rowY","drawLine","columnX","grid","isArray","occupancy","delta","drawBox","tipSize","directionVector","Vector","fromObject","subtract","drawDirection","drawText","text","screenOrigin","fillText","worldSize","screenToWorld","gridSize","toX","clone","toY","drawArrow","lineWidth","startIndex","values","samples","range","xPos","wasAnyValueCapped","cappedValue","isCapped","yPos","draw","layer","distance","coordinates","angleCorrection","world","screen","getScreenOrigin","multiply","angleDegrees","setTransform","clearRect","lineCap","canvasToScreen","isMouseDown","Visualizer","container","layers","containerSize","createCanvasElement","append","useVisualizer","setup","visualizer","radiansToDegrees","radians","normalizeRange","degrees","result","_defs","_polyline","initialOdometryPose","odometryPoseState","odometryStepsState","_odometryPose","_odometrySteps","StateSubscription","odometryPose","odometrySteps","RemoteView","visualizerContainerRef","resetOdometrySteps","useResetRecoilState","resetOdometryPose","mapLayerOptions","createLayer","circleStep","drawGrid","circleRadius","toFixed","drawCoordinateSystem","clear","odometryStep","previousStep","drawObject","arrowScale","drawRobot","vector","SvgForwardArrowIcon","List","ListItem","removeTrailing","leadingIconAutoSize","PageList","pages","buildPagePath","page","ButtonGroup","equalWidth","rounded","ButtonGroupButton","renderCountMap","useRenderCount","renderCount","LogExperiment","setLogMessages","menu","requestState","SerialStatus","PageView","pageCount","activePageIndex","buildPage","previousPageIndex","usePrevious","viewport","slider","_","isActive","isPrevious","isVisible","MainMenuExperiment","setActiveItemIndex","pageIndex","SoundExperiment","useSound","play","pause","isPlaying","duration","activeTransportNameState","lastHeartbeatTimeState","timerState","aliveState","selector","get","lastHeartbeatTime","getTime","attitudeState","buttonsState","currentSpeedsState","currentsState","encodersState","lidarMeasurementsState","lidarStatusState","loadState","loopFrequencyState","motorsConnectedState","serialStatusState","serverIpState","targetSpeedsState","usbState","voltageState","StateExperiment","activeTransportName","serverIp","serialStatus","isAlive","areMotorsConnected","timer","voltage","load","loopFrequency","attitude","currents","targetSpeeds","currentSpeeds","encoders","lidarStatus","usb","lidarMeasurements","toLocaleTimeString","modifier","roll","pitch","yaw","requestCurrent","isValid","targetRpm","currentRpm","motorPwm","vendorId","productId","useTransportListener","removeListener","existingWebsocketHost","getOptions","updateOptions","TransportExperiment","connectionState","setConnectionState","_previousState","_transport","ping","VisualizerExperiment","ExperimentsView","SettingsView","SvgBatteryIcon","Status","description","status","BatteryStatus","getTitle","SvgSerialIcon","FirmwareStatus","Grid","rowsTemplate","columnsTemplate","augmentedStyle","gridTemplateRows","gridTemplateColumns","SvgLidarIcon","LidarStatus","SvgClearIcon","Log","LogItem","getMessageTypeName","messageType","SvgMotorsIcon","MotorsStatus","isRemoteControlMode","setIsRemoteControlMode","motorsConnected","handleClick","SerialStatusEnum","NOT_SUPPORTED","DEVICE_NOT_FOUND","DISABLED","getDescription","getStatus","SvgTransportIcon","TransportStatusEnum","location","reload","StatusView","menus","defaultMenu","MainMenuView","useRouteMatch","activeMenuInfo","handleMainMenuItemClick","getMenuByIndex","activeMenuIndex","ErrorView","href","NotFoundView","App","rootRedirectPath","exact","ErrorBoundary","errorLogger","useInterval","callback","delay","callbackRef","setInterval","cb","clearInterval","LowBatteryAlarm","batteryVoltage","isBatteryCritical","useLowBatteryAlarm","assertArgumentCount","expectedCount","encoderCountsPerSecondToRotationsPerMinute","countsPerSecond","odometryState","set","useHandleEncoderCommand","setEncoders","setCurrentSpeeds","setOdometry","leftCountsSinceLastUpdate","rightCountsSinceLastUpdate","getMotionFromMotorRpms","currentOdometryPose","currentOdometrySteps","updatedPose","getUpdatedPose","previousOdometryStep","sqrt","pow","updatedOdometrySteps","shift","useHandleCommand","handleHeartbeatCommand","setLoad","setLoopFrequency","setLastHeartbeatTimeState","loadPercentage","useHandleHeartbeatCommand","handleAttitudeCommand","setAttitude","useHandleAttitudeCommand","handleEncoderCommand","handleCurrentCommand","setCurrents","useHandleCurrentCommand","handleVoltageCommand","setVoltage","useHandleVoltageCommand","handleButtonCommand","setButtons","buttonName","isPressed","useHandleButtonCommand","handleTargetSpeedCommand","setTargetSpeeds","useHandleTargetSpeedCommand","handleLidarStateCommand","setLidarStatus","useHandleLidarStateCommand","handleLidarMeasurementCommand","setLidarMeasurements","receivedMeasurements","quality","existingLidarMeasurements","excessiveMeasurementCount","newMeasurements","useHandleLidarMeasurementCommand","handleSerialStatusCommand","setSerialStatus","serialType","useHandleSerialStatusCommand","handleMotorsCommand","setMotorsConnected","isConnected","useHandleMotorsCommand","handleIpCommand","setServerIp","useHandleIpCommand","handleResetCommand","handleUsbCommand","setUsb","useHandleUsbCommand","handlerMap","h","c","v","t","l","m","serial","motors","ip","reset","handler","StateRouter","setTransportStatus","setActiveTransportName","setTimer","handleCommand","currentTransportState","newStatus","previousStatus","split","includes","useStateRouter","LoadingView","Root","StrictMode","Suspense","fallback","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.87d7152c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"block-button\":\"BlockButton_block-button__3UR-L\",\"block-button--inline\":\"BlockButton_block-button--inline__11k1i\",\"wrap\":\"BlockButton_wrap__3KLzf\",\"content\":\"BlockButton_content__TGhcu\",\"children\":\"BlockButton_children__2C_j1\",\"loading-wrap\":\"BlockButton_loading-wrap__30c4K\",\"wrap--inline\":\"BlockButton_wrap--inline__uIzNY\",\"wrap--secondary\":\"BlockButton_wrap--secondary__1u-Sj\",\"wrap--tertiary\":\"BlockButton_wrap--tertiary__3C_Bf\",\"wrap--quaternary\":\"BlockButton_wrap--quaternary__1-Lxy\",\"wrap--disabled\":\"BlockButton_wrap--disabled__q0QFF\",\"wrap--loading\":\"BlockButton_wrap--loading__ptCDF\",\"wrap--with-leading\":\"BlockButton_wrap--with-leading__8EPIW\",\"wrap--with-trailing\":\"BlockButton_wrap--with-trailing__UN2yD\",\"icon\":\"BlockButton_icon__1Lp_U\",\"icon--leading\":\"BlockButton_icon--leading__1Ui5N\",\"icon--trailing\":\"BlockButton_icon--trailing__ZEZQT\",\"wrap--size-small\":\"BlockButton_wrap--size-small__24_nl\",\"wrap--size-large\":\"BlockButton_wrap--size-large__295Gb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"Field_field__13Hw_\",\"field--has-error\":\"Field_field--has-error__2u5FW\",\"shake\":\"Field_shake__1rRNi\",\"border\":\"Field_border__3VS2Y\",\"error\":\"Field_error__Nr4bU\",\"field--has-leading\":\"Field_field--has-leading__wNeuY\",\"label\":\"Field_label__1lbCI\",\"field--has-value\":\"Field_field--has-value__EJqzy\",\"field--has-focus\":\"Field_field--has-focus__1Eg0Z\",\"field--deactivated\":\"Field_field--deactivated__3GE48\",\"border--transparent\":\"Field_border--transparent__2RZk8\",\"icon\":\"Field_icon__2hClT\",\"icon--leading\":\"Field_icon--leading__2i3IY\",\"icon--trailing\":\"Field_icon--trailing__1USxs\",\"icon--expand-trailing\":\"Field_icon--expand-trailing__2Sz5G\",\"input\":\"Field_input__2PqCw\",\"toggle-password\":\"Field_toggle-password__HC9Bj\",\"toggle-password--visible\":\"Field_toggle-password--visible__3P0ya\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button-group\":\"ButtonGroup_button-group__1ujli\",\"button-group-button\":\"ButtonGroup_button-group-button__PKrE6\",\"button-group-button--transparent\":\"ButtonGroup_button-group-button--transparent__3OTap\",\"button-group-button--secondary\":\"ButtonGroup_button-group-button--secondary__37n1j\",\"button-group-button--tertiary\":\"ButtonGroup_button-group-button--tertiary__iTS_f\",\"button-group-button--quaternary\":\"ButtonGroup_button-group-button--quaternary__1qn-4\",\"button-group--small\":\"ButtonGroup_button-group--small__iDygL\",\"button-group--equal-width\":\"ButtonGroup_button-group--equal-width__20iuq\",\"button-group--rounded\":\"ButtonGroup_button-group--rounded__1eVm3\",\"leading-icon\":\"ButtonGroup_leading-icon__3TjvJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon-button\":\"IconButton_icon-button__17Df2\",\"icon\":\"IconButton_icon__39pnG\",\"icon--secondary\":\"IconButton_icon--secondary__12lVB\",\"icon--large\":\"IconButton_icon--large__3VmKq\",\"icon--extra-large\":\"IconButton_icon--extra-large__1iJdm\",\"icon-text\":\"IconButton_icon-text__btoto\",\"icon-text--large\":\"IconButton_icon-text--large__SqMp2\",\"icon-text--extra-large\":\"IconButton_icon-text--extra-large__35Oqc\",\"badge\":\"IconButton_badge__3Wdqu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"log\":\"Log_log__3gbpG\",\"log-item\":\"Log_log-item__3Zaq4\",\"log-item--info\":\"Log_log-item--info__3uuyd\",\"log-item--send\":\"Log_log-item--send__1xM1Y\",\"log-item--receive\":\"Log_log-item--receive__1m5Eh\",\"log-item--warn\":\"Log_log-item--warn__35f2v\",\"log-item--error\":\"Log_log-item--error__EZ6Kk\",\"message-line\":\"Log_message-line__3UeLE\",\"clear-button\":\"Log_clear-button__1wMHg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stack\":\"MainMenu_stack__2DqyR\",\"main-menu-item\":\"MainMenu_main-menu-item__3vVGP\",\"main-menu-item--active\":\"MainMenu_main-menu-item--active__3JCAb\",\"main-menu-item--background\":\"MainMenu_main-menu-item--background__1sHY5\",\"main-menu-icon\":\"MainMenu_main-menu-icon__19yjk\",\"main-menu-text\":\"MainMenu_main-menu-text__33PV2\",\"background-behind\":\"MainMenu_background-behind__1Iha3\",\"background-front\":\"MainMenu_background-front__wJbJK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title-bar\":\"TitleBar_title-bar__2tl8b\",\"title-bar--transparent\":\"TitleBar_title-bar--transparent__yMAod\",\"title-bar--secondary\":\"TitleBar_title-bar--secondary__1YS32\",\"title-bar--fixed\":\"TitleBar_title-bar--fixed__1-qo-\",\"title-bar--border\":\"TitleBar_title-bar--border__3_ZR0\",\"back-button\":\"TitleBar_back-button__2ifIP\",\"back-button--primary\":\"TitleBar_back-button--primary__qc0Ad\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text-button\":\"TextButton_text-button__282eb\",\"text-button--without-underline\":\"TextButton_text-button--without-underline__2oWTF\",\"text-button--lighter\":\"TextButton_text-button--lighter__3JhH6\",\"children\":\"TextButton_children__2ZF5l\",\"icon\":\"TextButton_icon__3_Q9c\",\"icon--leading\":\"TextButton_icon--leading__-Y_8T\",\"icon--trailing\":\"TextButton_icon--trailing__307Oi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list-item\":\"List_list-item__kvBjl\",\"list-item--compact\":\"List_list-item--compact__3zh4R\",\"leading-icon\":\"List_leading-icon__3pOHX\",\"leading-icon--auto-size\":\"List_leading-icon--auto-size__20FoX\",\"trailing-icon\":\"List_trailing-icon__2QwtM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__2iRVr\",\"status--good\":\"Status_status--good__3D5xi\",\"status--warn\":\"Status_status--warn__2SlDh\",\"status--error\":\"Status_status--error__2eIqx\",\"icon-wrap\":\"Status_icon-wrap__1iSGU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__1xOjL\",\"loading--size-small\":\"Loading_loading--size-small__pkHEo\",\"loading--size-large\":\"Loading_loading--size-large__jnMWV\",\"loading-indicator\":\"Loading_loading-indicator__uT85A\",\"spin\":\"Loading_spin__2siu6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stack\":\"Stack_stack__6GZXA\",\"stack--no-reference\":\"Stack_stack--no-reference__hH78m\",\"stack--reference-first-child\":\"Stack_stack--reference-first-child__38f5o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name-value-pair\":\"NameValuePair_name-value-pair__3iTaJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewport\":\"PageView_viewport__1aN6g\",\"slider\":\"PageView_slider__l7uWY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error-view\":\"ErrorView_error-view__1_DGT\",\"message\":\"ErrorView_message__344Ge\",\"animation\":\"ErrorView_animation__24j9h\"};","import { useState } from \"react\";\r\n\r\nexport function useScrollToBottom(ref: React.RefObject<HTMLElement>, isEnabled = true) {\r\n  const [isFirstExecution, setIsFirstExecution] = useState(true);\r\n\r\n  if (!isEnabled) {\r\n    return;\r\n  }\r\n\r\n  // get the dom node from the reference\r\n  const el = ref.current;\r\n\r\n  // return if element could not be found\r\n  if (!el) {\r\n    return;\r\n  }\r\n\r\n  // check whether we're aready near the bottom\r\n  const isNearBottom = el.scrollHeight - el.clientHeight <= el.scrollTop + 50;\r\n\r\n  // only force the scroll if near bottom\r\n  if (!isNearBottom && !isFirstExecution) {\r\n    return;\r\n  }\r\n\r\n  // set not first execution\r\n  if (isFirstExecution) {\r\n    setIsFirstExecution(false);\r\n  }\r\n\r\n  // execute next frame in case height changes\r\n  setImmediate(() => {\r\n    const el = ref.current;\r\n\r\n    // element might have gone away\r\n    if (!el) {\r\n      return;\r\n    }\r\n\r\n    // scroll to bottom\r\n    el.scrollTo({\r\n      top: el.scrollHeight,\r\n    });\r\n  });\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"ConfigureConnectionView_icon__2Mp0U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__3FH8M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status-grid\":\"StatusView_status-grid__3G7hc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading-view\":\"LoadingView_loading-view__2JzUB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"Flex_flex__3F9hD\",\"flex--ignore-pointer-events\":\"Flex_flex--ignore-pointer-events__2EiZa\",\"flex--secondary\":\"Flex_flex--secondary__1l1Gt\",\"flex--alternate\":\"Flex_flex--alternate__uJkBk\",\"flex--row\":\"Flex_flex--row__20wfa\",\"flex--column\":\"Flex_flex--column__3qThQ\",\"flex--inline\":\"Flex_flex--inline__3nhEy\",\"flex--nowrap\":\"Flex_flex--nowrap__37AWK\",\"flex--overflow\":\"Flex_flex--overflow__2IYwg\",\"flex--expanded\":\"Flex_flex--expanded__19QqO\",\"flex--unshrinkable\":\"Flex_flex--unshrinkable__16wvX\",\"flex--shrinkable\":\"Flex_flex--shrinkable__3nJCC\",\"flex--padded\":\"Flex_flex--padded__1gh4y\",\"flex--padded-horizontal\":\"Flex_flex--padded-horizontal__1Tjmk\",\"flex--padded-vertical\":\"Flex_flex--padded-vertical__2JCSb\",\"flex--padded-compact\":\"Flex_flex--padded-compact__2i3qv\",\"flex--padded-horizontal-compact\":\"Flex_flex--padded-horizontal-compact__3rAMe\",\"flex--padded-vertical-compact\":\"Flex_flex--padded-vertical-compact__2XNsF\",\"flex--limited\":\"Flex_flex--limited__2u4tr\",\"flex--scrollable\":\"Flex_flex--scrollable__8FiqD\",\"flex--center-flex\":\"Flex_flex--center-flex__2bFOP\",\"flex--center-text\":\"Flex_flex--center-text__3xxok\",\"flex--cover\":\"Flex_flex--cover__1mLRh\",\"flex--pan-x\":\"Flex_flex--pan-x__1Nb1o\",\"flex--pan-y\":\"Flex_flex--pan-y__7XREz\",\"flex--paragraph\":\"Flex_flex--paragraph__3vuMY\",\"flex--span\":\"Flex_flex--span__3CJsW\",\"flex--tiny\":\"Flex_flex--tiny__2Rqgc\",\"flex--small\":\"Flex_flex--small__2dueL\",\"flex--large\":\"Flex_flex--large__32Hmv\",\"flex--extra-large\":\"Flex_flex--extra-large__YKrhR\",\"flex--compact\":\"Flex_flex--compact__3LIfA\",\"flex--strong\":\"Flex_flex--strong__1NFGN\",\"flex--light\":\"Flex_flex--light__3t_nm\",\"flex--thin\":\"Flex_flex--thin__3pnop\",\"flex--italic\":\"Flex_flex--italic__2NLwJ\",\"flex--lighter\":\"Flex_flex--lighter__3pgxt\",\"flex--darker\":\"Flex_flex--darker__23dnU\",\"flex--justify-content-flex-start\":\"Flex_flex--justify-content-flex-start__2MC3d\",\"flex--justify-content-flex-end\":\"Flex_flex--justify-content-flex-end__3OdaF\",\"flex--justify-content-center\":\"Flex_flex--justify-content-center__1cc1X\",\"flex--justify-content-baseline\":\"Flex_flex--justify-content-baseline__1eOpb\",\"flex--justify-content-stretch\":\"Flex_flex--justify-content-stretch__1AQuc\",\"flex--justify-content-space-between\":\"Flex_flex--justify-content-space-between__3JTBT\",\"flex--justify-content-space-evenly\":\"Flex_flex--justify-content-space-evenly__16N71\",\"flex--align-items-flex-start\":\"Flex_flex--align-items-flex-start__2hZc5\",\"flex--align-items-flex-end\":\"Flex_flex--align-items-flex-end__-qZ3t\",\"flex--align-items-center\":\"Flex_flex--align-items-center__15SVx\",\"flex--align-items-baseline\":\"Flex_flex--align-items-baseline__3VgyY\",\"flex--align-items-stretch\":\"Flex_flex--align-items-stretch__tIggZ\",\"flex--align-items-space-between\":\"Flex_flex--align-items-space-between__2LR67\",\"flex--align-items-space-evenly\":\"Flex_flex--align-items-space-evenly__1Jtn5\",\"flex--hide-on-small-screens\":\"Flex_flex--hide-on-small-screens__2fSCr\",\"flex--has-click-handler\":\"Flex_flex--has-click-handler__1wy8Q\",\"flex--debug\":\"Flex_flex--debug__1qI3v\",\"flex--debug2\":\"Flex_flex--debug2__2JNr0\",\"flex--debug3\":\"Flex_flex--debug3__33Mfr\"};","/**\r\n * These route name and params definitions are declared in a separate file to be able to build type safe\r\n * paths and url's while enabling code splitting so respective declarations do not need to be imported from\r\n * the components that we want to split into separate bundles.\r\n */\r\n\r\n// configure connection view\r\nexport const CONFIGURE_CONNECTION_VIEW_PATH = \"/configure-connection\";\r\n\r\n// main menu view\r\nexport const MAIN_MENU_VIEW_PATH = \"/main/:menu?/:page?/:modifier?\";\r\n\r\nexport type MainMenuViewMenu = \"status\" | \"map\" | \"controller\" | \"remote\" | \"settings\";\r\n\r\nexport interface MainMenuViewParams {\r\n  menu?: MainMenuViewMenu;\r\n  page?: string;\r\n  modifier?: string;\r\n}\r\n","export function buildPath<Params extends { [K in keyof Params]?: string } = Record<string, string>>(\r\n  path: string,\r\n  params?: Params,\r\n  removeOptional = false,\r\n) {\r\n  // path is something like /my/:menu/:page?\r\n  let url = path;\r\n\r\n  // replace provided parameters\r\n  if (params) {\r\n    Object.keys(params).forEach((name) => {\r\n      const value = params[name as keyof Params];\r\n\r\n      if (value === undefined) {\r\n        return;\r\n      }\r\n\r\n      const regexp = new RegExp(`/:${name}[?]?`);\r\n\r\n      if (!url.match(regexp)) {\r\n        throw new Error(`Url argument called \"${name}\" could not be found in path \"${path}\"`);\r\n      }\r\n\r\n      url = url.replace(regexp, `/${value}`);\r\n    });\r\n  }\r\n\r\n  // remove optional arguments without values if requested\r\n  if (removeOptional) {\r\n    url = url.replace(/\\/:\\w+\\?/g, \"\");\r\n  }\r\n\r\n  // find missing required arguments\r\n  const missingRequiredArgumentNames = Array.from(url.matchAll(/\\/:([\\w?]+)/g))\r\n    .map((missingArgumentMatch) => missingArgumentMatch[1])\r\n    .filter((arg) => arg.substr(-1) !== \"?\");\r\n\r\n  // throw for missing required arguments\r\n  if (missingRequiredArgumentNames.length === 1) {\r\n    throw new Error(`Url argument \"${missingRequiredArgumentNames[0]}\" is required in path \"${path}\"`);\r\n  } else if (missingRequiredArgumentNames.length > 1) {\r\n    throw new Error(`Url arguments \"${missingRequiredArgumentNames.join('\", \"')}\" are required in path \"${path}\"`);\r\n  }\r\n\r\n  return url;\r\n}\r\n","import { buildPath } from \"./buildPath\";\r\n\r\nexport function buildUrl<Params extends { [K in keyof Params]?: string } = Record<string, string>>(\r\n  path: string,\r\n  params?: Params,\r\n) {\r\n  return buildPath(path, params, true);\r\n}\r\n","import { atom } from \"recoil\";\r\nimport { getWebsocketHost } from \"../services/getWebsocketHost\";\r\n\r\nexport const websocketHostState = atom<string | undefined>({\r\n  key: \"websocketHostState\",\r\n  default: getWebsocketHost(),\r\n});\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPasswordHideIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 22\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"password-hide-icon\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Isolation_Mode\",\n    \"data-name\": \"Isolation Mode\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 16,\n    cy: 11,\n    r: 4\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16,0C5.61,0,0,7.81,0,11S5.61,22,16,22s16-7.81,16-11S26.39,0,16,0Zm0,17a6,6,0,1,1,6-6A6,6,0,0,1,16,17Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPasswordHideIcon);\nexport default __webpack_public_path__ + \"static/media/password-hide-icon.bdda9b91.svg\";\nexport { ForwardRef as ReactComponent };","export function getWebsocketHost(): string | undefined {\r\n  return localStorage.websocketHost;\r\n}\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport styles from \"./Flex.module.scss\";\r\n\r\nexport type FlexAlignment =\r\n  | \"flex-start\"\r\n  | \"flex-end\"\r\n  | \"center\"\r\n  | \"baseline\"\r\n  | \"stretch\"\r\n  | \"space-between\"\r\n  | \"space-evenly\";\r\n\r\nexport type TextAlignment = \"left\" | \"center\" | \"right\" | \"justify\";\r\n\r\n// this is only true for default <Flex/> element that uses <div /> as base element\r\nexport type FlexElement = HTMLDivElement;\r\n\r\nexport type FlexTag = keyof React.ReactHTML;\r\n\r\nexport interface FlexOptions {\r\n  secondary?: boolean;\r\n  alternate?: boolean;\r\n  column?: boolean;\r\n  row?: boolean;\r\n  inline?: boolean;\r\n  nowrap?: boolean;\r\n  overflow?: boolean;\r\n  expanded?: boolean;\r\n  shrinkable?: boolean;\r\n  padded?: boolean;\r\n  paddedHorizontal?: boolean;\r\n  paddedVertical?: boolean;\r\n  limited?: boolean;\r\n  scrollable?: boolean;\r\n  center?: boolean;\r\n  cover?: boolean;\r\n  panX?: boolean;\r\n  panY?: boolean;\r\n  tiny?: boolean;\r\n  small?: boolean;\r\n  large?: boolean;\r\n  extraLarge?: boolean;\r\n  compact?: boolean;\r\n  strong?: boolean;\r\n  light?: boolean;\r\n  thin?: boolean;\r\n  italic?: boolean;\r\n  lighter?: boolean;\r\n  darker?: boolean;\r\n  hideOnSmallScreens?: boolean;\r\n  debug?: boolean;\r\n  debug2?: boolean;\r\n  debug3?: boolean;\r\n  ignorePointerEvents?: boolean;\r\n  mainAxisAlignment?: FlexAlignment;\r\n  crossAxisAlignment?: FlexAlignment;\r\n  selfAlignment?: FlexAlignment;\r\n  flex?: string | number;\r\n  className?: string;\r\n  textAlign?: TextAlignment;\r\n}\r\n\r\ninterface FlexRef {\r\n  /**\r\n   * Inner forwarded ref.\r\n   *\r\n   * @deprecated Use normal \"ref\" instead.\r\n   */\r\n  flexRef?: React.Ref<FlexElement>;\r\n}\r\n\r\nexport type FlexProps<T extends FlexTag = \"div\"> = React.ComponentPropsWithoutRef<T> & FlexOptions & FlexRef;\r\n\r\n// generic version, don't use directly, use <Flex/>, <P/> etc\r\nexport class FlexBase<T extends FlexTag = \"div\"> extends React.Component<FlexProps<T>> {\r\n  tag: FlexTag = \"div\";\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      secondary,\r\n      alternate,\r\n      column,\r\n      row,\r\n      inline,\r\n      nowrap,\r\n      overflow,\r\n      expanded,\r\n      shrinkable,\r\n      padded,\r\n      paddedHorizontal,\r\n      paddedVertical,\r\n      limited,\r\n      scrollable,\r\n      center,\r\n      cover,\r\n      panX,\r\n      panY,\r\n      tiny,\r\n      small,\r\n      large,\r\n      extraLarge,\r\n      compact,\r\n      strong,\r\n      thin,\r\n      italic,\r\n      light,\r\n      lighter,\r\n      darker,\r\n      hideOnSmallScreens,\r\n      ignorePointerEvents,\r\n      debug,\r\n      debug2,\r\n      debug3,\r\n      mainAxisAlignment,\r\n      crossAxisAlignment,\r\n      selfAlignment,\r\n      flex,\r\n      className,\r\n      textAlign,\r\n      flexRef,\r\n      ...rest\r\n    } = this.props;\r\n\r\n    // unable to suport scrollable and limited in a single element\r\n    if (scrollable && limited) {\r\n      throw new Error(\r\n        \"Please don't use scrollable and limited together but rather add another Flex element inside scrollable one that is limited\",\r\n      );\r\n    }\r\n\r\n    // no need to add shrinkable when already defined expanded\r\n    if (expanded && shrinkable) {\r\n      throw new Error(\"Please don't use expanded and schrinkable together as expanded already defaults to shrinkable\");\r\n    }\r\n\r\n    // create jsx element with given tag name\r\n    const element = React.createElement(this.tag) as JSX.Element;\r\n\r\n    // some additional properties might exist but not available in the generic typings\r\n    const onClick = (rest as any).onClick as React.MouseEvent<T> | undefined;\r\n    const style = (rest as any).style as React.CSSProperties | undefined;\r\n\r\n    const component = (\r\n      <element.type\r\n        ref={flexRef}\r\n        style={{\r\n          alignSelf: selfAlignment,\r\n          textAlign: textAlign,\r\n          flex,\r\n          ...style,\r\n        }}\r\n        onClick={onClick}\r\n        className={classNames(\r\n          styles.flex,\r\n          {\r\n            // for some reason inline styles seem to mess up animation performance\r\n            [styles[\"flex--justify-content-flex-start\"]]: mainAxisAlignment === \"flex-start\",\r\n            [styles[\"flex--justify-content-flex-end\"]]: mainAxisAlignment === \"flex-end\",\r\n            [styles[\"flex--justify-content-center\"]]: mainAxisAlignment === \"center\",\r\n            [styles[\"flex--justify-content-baseline\"]]: mainAxisAlignment === \"baseline\",\r\n            [styles[\"flex--justify-content-stretch\"]]: mainAxisAlignment === \"stretch\",\r\n            [styles[\"flex--justify-content-space-between\"]]: mainAxisAlignment === \"space-between\",\r\n            [styles[\"flex--justify-content-space-evenly\"]]: mainAxisAlignment === \"space-evenly\",\r\n            [styles[\"flex--align-items-flex-start\"]]: crossAxisAlignment === \"flex-start\",\r\n            [styles[\"flex--align-items-flex-end\"]]: crossAxisAlignment === \"flex-end\",\r\n            [styles[\"flex--align-items-center\"]]: crossAxisAlignment === \"center\",\r\n            [styles[\"flex--align-items-baseline\"]]: crossAxisAlignment === \"baseline\",\r\n            [styles[\"flex--align-items-stretch\"]]: crossAxisAlignment === \"stretch\",\r\n            [styles[\"flex--align-items-space-between\"]]: crossAxisAlignment === \"space-between\",\r\n            [styles[\"flex--align-items-space-evenly\"]]: crossAxisAlignment === \"space-evenly\",\r\n            [styles[\"flex--secondary\"]]: secondary,\r\n            [styles[\"flex--alternate\"]]: alternate,\r\n            [styles[\"flex--row\"]]: row,\r\n            [styles[\"flex--column\"]]: column,\r\n            [styles[\"flex--inline\"]]: inline,\r\n            [styles[\"flex--nowrap\"]]: nowrap,\r\n            [styles[\"flex--overflow\"]]: overflow,\r\n            [styles[\"flex--expanded\"]]: expanded,\r\n            [styles[\"flex--shrinkable\"]]: shrinkable || expanded || scrollable, // expanded and scrollable are shrinkable by default\r\n            [styles[\"flex--padded\"]]: padded && !compact,\r\n            [styles[\"flex--padded-horizontal\"]]: paddedHorizontal && !compact,\r\n            [styles[\"flex--padded-vertical\"]]: paddedVertical && !compact,\r\n            [styles[\"flex--padded-compact\"]]: padded && compact,\r\n            [styles[\"flex--padded-horizontal-compact\"]]: paddedHorizontal && compact,\r\n            [styles[\"flex--padded-vertical-compact\"]]: paddedVertical && compact,\r\n            [styles[\"flex--limited\"]]: limited,\r\n            [styles[\"flex--scrollable\"]]: scrollable && !limited,\r\n            [styles[\"flex--center-flex\"]]: center && this.tag !== \"p\",\r\n            [styles[\"flex--center-text\"]]: center && this.tag === \"p\",\r\n            [styles[\"flex--cover\"]]: cover,\r\n            [styles[\"flex--pan-x\"]]: panX,\r\n            [styles[\"flex--pan-y\"]]: panY,\r\n            [styles[\"flex--paragraph\"]]: this.tag === \"p\",\r\n            [styles[\"flex--span\"]]: this.tag === \"span\",\r\n            [styles[\"flex--tiny\"]]: tiny,\r\n            [styles[\"flex--small\"]]: small,\r\n            [styles[\"flex--large\"]]: large,\r\n            [styles[\"flex--extra-large\"]]: extraLarge,\r\n            [styles[\"flex--compact\"]]: compact,\r\n            [styles[\"flex--strong\"]]: strong,\r\n            [styles[\"flex--thin\"]]: thin,\r\n            [styles[\"flex--light\"]]: light,\r\n            [styles[\"flex--italic\"]]: italic,\r\n            [styles[\"flex--lighter\"]]: lighter,\r\n            [styles[\"flex--darker\"]]: darker,\r\n            [styles[\"flex--hide-on-small-screens\"]]: hideOnSmallScreens,\r\n            [styles[\"flex--ignore-pointer-events\"]]: ignorePointerEvents,\r\n            [styles[\"flex--debug\"]]: debug,\r\n            [styles[\"flex--debug2\"]]: debug2,\r\n            [styles[\"flex--debug3\"]]: debug3,\r\n            [styles[\"flex--has-click-handler\"]]: onClick !== undefined,\r\n          },\r\n          className,\r\n        )}\r\n        {...rest}\r\n      >\r\n        {children}\r\n      </element.type>\r\n    );\r\n\r\n    // wrap created flex element in limited width wrap if requested\r\n    if (limited) {\r\n      return (\r\n        <Flex\r\n          row\r\n          overflow={overflow}\r\n          expanded={expanded}\r\n          cover={cover}\r\n          scrollable={scrollable}\r\n          ignorePointerEvents={ignorePointerEvents}\r\n          mainAxisAlignment=\"center\"\r\n        >\r\n          {component}\r\n        </Flex>\r\n      );\r\n    }\r\n\r\n    return component;\r\n  }\r\n}\r\n\r\nexport const Flex = React.forwardRef<FlexElement, FlexProps<\"div\">>(function Flex(props, ref) {\r\n  return <FlexBase<\"div\"> {...props} flexRef={ref} />;\r\n});\r\n","import React from \"react\";\r\nimport { FlexProps, Flex } from \"../Flex/Flex\";\r\n\r\nexport const Container: React.FC<FlexProps> = ({ children, ...rest }) => (\r\n  <Flex column {...rest}>\r\n    {children}\r\n  </Flex>\r\n);\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Container } from \"../Container/Container\";\r\nimport styles from \"./Loading.module.scss\";\r\n\r\nexport type LoadingSize = \"small\" | \"medium\" | \"large\";\r\n\r\nexport interface LoadingProps {\r\n  small?: boolean;\r\n  large?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const Loading: React.FC<LoadingProps> = ({ small, large, className }) => (\r\n  <Container\r\n    className={classNames(\r\n      styles.loading,\r\n      {\r\n        [styles[\"loading--size-small\"]]: small,\r\n        [styles[\"loading--size-large\"]]: large,\r\n      },\r\n      className,\r\n    )}\r\n  >\r\n    <LoadingIndicator />\r\n  </Container>\r\n);\r\n\r\nexport interface LoadingIndicatorProps extends React.ComponentPropsWithoutRef<\"svg\"> {\r\n  segmentCount?: number;\r\n  segmentWidth?: number;\r\n  segmentLength?: number;\r\n  spacing?: number;\r\n  fadeSteps?: number;\r\n  fadeTo?: number;\r\n  segmentColor?: {\r\n    red: number;\r\n    green: number;\r\n    blue: number;\r\n    alpha: number;\r\n  };\r\n}\r\n\r\nexport const LoadingIndicator: React.FC<LoadingIndicatorProps> = ({\r\n  segmentCount = 12,\r\n  segmentWidth = 2,\r\n  segmentLength = 5,\r\n  spacing = 3,\r\n  fadeSteps = 11,\r\n  fadeTo = 31 / 98,\r\n  segmentColor = {\r\n    red: 0,\r\n    green: 0,\r\n    blue: 0,\r\n    alpha: 98 / 255,\r\n  },\r\n  className,\r\n  ...rest\r\n}) => {\r\n  const innerRadius = segmentWidth * 2 + spacing;\r\n  const opacityDelta = (1 - fadeTo) / fadeSteps;\r\n  const segments = [];\r\n\r\n  for (let i = 0; i < segmentCount; i++) {\r\n    const opacity = 1 - Math.min(i, fadeSteps) * opacityDelta;\r\n    const rotation = (-i * 360) / segmentCount;\r\n\r\n    segments.push(\r\n      <line\r\n        key={i}\r\n        x1=\"0\"\r\n        y1={innerRadius}\r\n        x2=\"0\"\r\n        y2={innerRadius + segmentLength}\r\n        style={{ opacity: opacity }}\r\n        transform={`rotate(${rotation})`}\r\n      />,\r\n    );\r\n  }\r\n\r\n  const { red, green, blue, alpha } = segmentColor;\r\n  const rgbaColor = `rgba(${red}, ${green}, ${blue}, ${alpha})`;\r\n  const radius = innerRadius + segmentLength + Math.ceil(segmentWidth / 2);\r\n  const size = radius * 2;\r\n\r\n  return (\r\n    <svg\r\n      className={classNames(styles[\"loading-indicator\"], className)}\r\n      viewBox={`0 0 ${size} ${size}`}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      {...rest}\r\n    >\r\n      <g\r\n        stroke={rgbaColor}\r\n        strokeWidth={segmentWidth}\r\n        strokeLinecap=\"round\"\r\n        transform={`translate(${radius}, ${radius})`}\r\n      >\r\n        {segments}\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { FlexProps, Flex } from \"../Flex/Flex\";\r\n\r\nexport const Row: React.FC<FlexProps> = ({ children, ...rest }) => (\r\n  <Flex row {...rest}>\r\n    {children}\r\n  </Flex>\r\n);\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { Loading } from \"../Loading/Loading\";\r\nimport { Row as button, Row } from \"../Row/Row\";\r\nimport styles from \"./BlockButton.module.scss\";\r\n\r\nexport type BlockButtonSize = \"small\" | \"medium\" | \"large\";\r\n\r\nexport interface BlockButtonProps extends React.ComponentPropsWithoutRef<\"button\"> {\r\n  inline?: boolean;\r\n  secondary?: boolean;\r\n  tertiary?: boolean;\r\n  quaternary?: boolean;\r\n  small?: boolean;\r\n  large?: boolean;\r\n  disabled?: boolean;\r\n  loading?: boolean;\r\n  debug?: boolean;\r\n  leading?: React.ReactNode;\r\n  trailing?: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport const BlockButton: React.FC<BlockButtonProps> = ({\r\n  inline,\r\n  secondary,\r\n  tertiary,\r\n  quaternary,\r\n  small,\r\n  large,\r\n  disabled,\r\n  loading,\r\n  leading,\r\n  debug,\r\n  trailing,\r\n  className,\r\n  children,\r\n  onClick,\r\n  ...rest\r\n}) => (\r\n  <button\r\n    type=\"button\"\r\n    className={classNames(styles[\"block-button\"], {\r\n      [styles[\"block-button--inline\"]]: inline,\r\n    })}\r\n    onClick={(e) => {\r\n      // don't pass on the click event if disabled or loading\r\n      if (!onClick || disabled || loading) {\r\n        return;\r\n      }\r\n\r\n      onClick(e);\r\n    }}\r\n    {...rest}\r\n  >\r\n    <Row\r\n      center\r\n      inline={inline}\r\n      debug={debug}\r\n      className={classNames(\r\n        styles[\"wrap\"],\r\n        {\r\n          [styles[\"wrap--inline\"]]: inline,\r\n          [styles[\"wrap--secondary\"]]: secondary,\r\n          [styles[\"wrap--tertiary\"]]: tertiary,\r\n          [styles[\"wrap--quaternary\"]]: quaternary,\r\n          [styles[\"wrap--disabled\"]]: disabled || loading,\r\n          [styles[\"wrap--loading\"]]: loading,\r\n          [styles[\"wrap--with-leading\"]]: leading !== undefined,\r\n          [styles[\"wrap--with-trailing\"]]: trailing !== undefined,\r\n          [styles[\"wrap--size-small\"]]: small,\r\n          [styles[\"wrap--size-large\"]]: large,\r\n        },\r\n        className,\r\n      )}\r\n    >\r\n      {leading !== undefined && <div className={classNames(styles[\"icon\"], styles[\"icon--leading\"])}>{leading}</div>}\r\n      <Container expanded center className={styles.content}>\r\n        <Container className={styles.children}>{children}</Container>\r\n        <Container center className={styles[\"loading-wrap\"]}>\r\n          <Loading small={small} large={large} />\r\n        </Container>\r\n      </Container>\r\n      {trailing !== undefined && <div className={classNames(styles[\"icon\"], styles[\"icon--trailing\"])}>{trailing}</div>}\r\n    </Row>\r\n  </button>\r\n);\r\n","import React from \"react\";\r\nimport { FlexProps, Flex } from \"../Flex/Flex\";\r\n\r\nexport const Expanded: React.FC<FlexProps> = ({ children, ...rest }) => (\r\n  <Flex expanded {...rest}>\r\n    {children}\r\n  </Flex>\r\n);\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPasswordShowIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 22\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"\\r\\n        password-show-icon\\r\\n    \") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Icons_-_32px\",\n    \"data-name\": \"Icons - 32px\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31,12a1,1,0,0,1-1-1c0-1.78-4.5-9-14-9S2,9.22,2,11a1,1,0,0,1-2,0C0,7.81,5.61,0,16,0S32,7.81,32,11A1,1,0,0,1,31,12Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16,22C5.61,22,0,14.19,0,11a1,1,0,0,1,2,0c0,1.78,4.5,9,14,9s14-7.22,14-9a1,1,0,0,1,2,0C32,14.19,26.39,22,16,22Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16,17a6,6,0,1,1,6-6A6,6,0,0,1,16,17ZM16,7a4,4,0,1,0,4,4A4,4,0,0,0,16,7Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPasswordShowIcon);\nexport default __webpack_public_path__ + \"static/media/password-show-icon.f447a747.svg\";\nexport { ForwardRef as ReactComponent };","var _polygon;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBackIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 15 26\",\n    height: \"26px\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 15 26\",\n    width: \"15px\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"12.885,0.58 14.969,2.664 4.133,13.5 14.969,24.336 12.885,26.42 2.049,15.584 -0.035,13.5 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBackIcon);\nexport default __webpack_public_path__ + \"static/media/back-icon.e113641e.svg\";\nexport { ForwardRef as ReactComponent };","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { FlexProps, Flex, FlexElement } from \"../Flex/Flex\";\r\nimport styles from \"./Stack.module.scss\";\r\n\r\nexport interface StackProps extends FlexProps {\r\n  referenceFirstChild?: boolean;\r\n}\r\n\r\nexport const Stack = React.forwardRef<FlexElement, StackProps>(function Stack(\r\n  { referenceFirstChild, className, children, ...rest },\r\n  ref,\r\n) {\r\n  return (\r\n    <Flex\r\n      ref={ref}\r\n      className={classNames(\r\n        styles.stack,\r\n        {\r\n          [styles[\"stack--reference-first-child\"]]: referenceFirstChild,\r\n          [styles[\"stack--no-reference\"]]: !referenceFirstChild,\r\n        },\r\n        className,\r\n      )}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Flex>\r\n  );\r\n});\r\n","import classNames from \"classnames\";\r\nimport React, { useState } from \"react\";\r\nimport { FieldError, UseFormRegisterReturn } from \"react-hook-form\";\r\nimport { ReactComponent as PasswordHideIcon } from \"../../theme/icons/password-hide-icon.svg\";\r\nimport { ReactComponent as PasswordShowIcon } from \"../../theme/icons/password-show-icon.svg\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { Flex } from \"../Flex/Flex\";\r\nimport { Row } from \"../Row/Row\";\r\nimport { Stack } from \"../Stack/Stack\";\r\nimport styles from \"./Field.module.scss\";\r\n\r\nexport interface FieldProps extends React.ComponentPropsWithoutRef<\"input\"> {\r\n  requiresActivation?: boolean;\r\n  label: string;\r\n  name?: string;\r\n  defaultValue?: string;\r\n  leading?: React.ReactNode;\r\n  trailing?: React.ReactNode;\r\n  error?: FieldError;\r\n  register?: UseFormRegisterReturn;\r\n  expandTrailing?: boolean;\r\n  withoutBorder?: boolean;\r\n}\r\n\r\nexport const Field = React.forwardRef<HTMLInputElement, FieldProps>(function Field(\r\n  {\r\n    requiresActivation,\r\n    type,\r\n    name,\r\n    label,\r\n    defaultValue,\r\n    leading,\r\n    trailing,\r\n    error,\r\n    register,\r\n    expandTrailing, // used only by EditableField\r\n    withoutBorder,\r\n    className,\r\n    onClick,\r\n    onChange,\r\n    onFocus,\r\n    onBlur,\r\n    ...rest\r\n  },\r\n  ref,\r\n) {\r\n  const [hasValue, setHasValue] = useState(typeof defaultValue === \"string\" && defaultValue.length > 0);\r\n  const [hasFocus, setHasFocus] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isActivated, setIsActivated] = useState(requiresActivation === true ? false : true);\r\n\r\n  const handleValueChange = (value: string) => {\r\n    const hasValueNow = value.length > 0;\r\n\r\n    // only update state if having value has changed\r\n    if (hasValueNow !== hasValue) {\r\n      setHasValue(hasValueNow);\r\n    }\r\n  };\r\n\r\n  // toggle password button (both show and hide icons are shown on top of each other and faded in/out)\r\n  const togglePassword = (\r\n    <Stack>\r\n      <Container center>\r\n        <PasswordHideIcon\r\n          className={classNames(styles[\"toggle-password\"], { [styles[\"toggle-password--visible\"]]: showPassword })}\r\n        />\r\n      </Container>\r\n      <Container center>\r\n        <PasswordShowIcon\r\n          className={classNames(styles[\"toggle-password\"], { [styles[\"toggle-password--visible\"]]: !showPassword })}\r\n        />\r\n      </Container>\r\n    </Stack>\r\n  );\r\n\r\n  // use password toggle for password fields when custom trailing element has not been set\r\n  const usePasswordToggle = trailing === undefined && type === \"password\";\r\n  const useTrailing = usePasswordToggle ? togglePassword : trailing;\r\n\r\n  // called when trailing icon container is clicked (larger click area)\r\n  const onTrailingClick = () => {\r\n    if (usePasswordToggle) {\r\n      setShowPassword(!showPassword);\r\n    }\r\n  };\r\n\r\n  const constraintsIdentifier = `${name}-constraints`;\r\n\r\n  return (\r\n    <Flex\r\n      column\r\n      ref={ref}\r\n      className={classNames(\r\n        styles.field,\r\n        {\r\n          [styles[\"field--has-value\"]]: hasValue,\r\n          [styles[\"field--has-focus\"]]: hasFocus,\r\n          [styles[\"field--has-error\"]]: error !== undefined,\r\n          [styles[\"field--has-leading\"]]: leading !== undefined,\r\n          [styles[\"field--deactivated\"]]: !isActivated,\r\n        },\r\n        className,\r\n      )}\r\n    >\r\n      <label htmlFor={name} className={styles.label}>\r\n        {label}\r\n      </label>\r\n      <Row>\r\n        {leading !== undefined && (\r\n          <Container className={classNames(styles[\"icon\"], styles[\"icon--leading\"])}>{leading}</Container>\r\n        )}\r\n        <Container expanded>\r\n          <input\r\n            id={name}\r\n            type={showPassword ? \"text\" : type}\r\n            name={name}\r\n            defaultValue={defaultValue}\r\n            aria-describedby={constraintsIdentifier}\r\n            onClick={(e) => {\r\n              setIsActivated(true);\r\n\r\n              if (onClick) {\r\n                onClick(e);\r\n              }\r\n            }}\r\n            onChange={(e) => {\r\n              handleValueChange(e.target.value);\r\n\r\n              if (onChange) {\r\n                onChange(e);\r\n              }\r\n            }}\r\n            onFocus={(e) => {\r\n              setHasFocus(true);\r\n\r\n              if (onFocus) {\r\n                onFocus(e);\r\n              }\r\n            }}\r\n            onBlur={(e) => {\r\n              setHasFocus(false);\r\n\r\n              if (onBlur) {\r\n                onBlur(e);\r\n              }\r\n            }}\r\n            {...register}\r\n            className={styles.input}\r\n            {...rest}\r\n          />\r\n        </Container>\r\n        {useTrailing !== undefined && (\r\n          <Row\r\n            className={classNames(styles[\"icon\"], styles[\"icon--trailing\"], {\r\n              [styles[\"icon--expand-trailing\"]]: expandTrailing,\r\n            })}\r\n            onClick={onTrailingClick}\r\n            aria-label={\r\n              usePasswordToggle ? (showPassword ? \"Hide password\" : \"Show password as plain text\") : undefined\r\n            }\r\n          >\r\n            {useTrailing}\r\n          </Row>\r\n        )}\r\n      </Row>\r\n      <div\r\n        className={classNames(styles.border, {\r\n          [styles[\"border--transparent\"]]: withoutBorder,\r\n        })}\r\n      ></div>\r\n      <div id={constraintsIdentifier} className={styles.error}>\r\n        {error && error.message}\r\n      </div>\r\n    </Flex>\r\n  );\r\n});\r\n","import { FlexBase, FlexTag } from \"../Flex/Flex\";\r\n\r\nexport class Form extends FlexBase<\"form\"> {\r\n  tag: FlexTag = \"form\";\r\n}\r\n","import React from \"react\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\n\r\nexport interface GridBoxProps extends FlexProps {\r\n  size?: number;\r\n  half?: boolean;\r\n}\r\n\r\nexport const GridBox: React.FC<GridBoxProps> = ({ size, half, style, ...rest }) => {\r\n  // full size should match $layout-view-padding in _variables.scss\r\n  const fullSize = 6;\r\n  const useSize = size ? size : half ? fullSize / 2 : fullSize;\r\n\r\n  return <Container style={{ ...style, width: `${useSize}rem`, height: `${useSize}rem` }} {...rest} />;\r\n};\r\n","import React, { useRef } from \"react\";\r\nimport { useScrollToBottom } from \"../../hooks/useScrollToBottom\";\r\nimport { FlexProps, Flex, FlexElement } from \"../Flex/Flex\";\r\n\r\nexport interface ColumnProps extends FlexProps {\r\n  autoscroll?: boolean;\r\n}\r\n\r\nexport const Column: React.FC<ColumnProps> = ({ autoscroll, children, ...rest }) => {\r\n  const ref = useRef<FlexElement>(null);\r\n\r\n  useScrollToBottom(ref, autoscroll);\r\n\r\n  if (autoscroll) {\r\n    return (\r\n      <Flex column scrollable ref={ref} {...rest}>\r\n        {children}\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Flex column {...rest}>\r\n      {children}\r\n    </Flex>\r\n  );\r\n};\r\n","import { FlexBase, FlexTag } from \"../Flex/Flex\";\r\n\r\nexport class P extends FlexBase<\"p\"> {\r\n  tag: FlexTag = \"p\";\r\n}\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Column } from \"../Column/Column\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { P } from \"../Paragraph/Paragraph\";\r\nimport { Row } from \"../Row/Row\";\r\nimport styles from \"./NameValuePair.module.scss\";\r\n\r\nexport interface NameValuePairProps extends FlexProps {\r\n  name: React.ReactNode;\r\n  vertical?: boolean;\r\n}\r\n\r\nexport const NameValuePair: React.FC<NameValuePairProps> = ({ name, vertical, className, children, ...rest }) => {\r\n  if (vertical) {\r\n    return (\r\n      <Column className={classNames(styles[\"name-value-pair\"], className)} {...rest}>\r\n        <P>{name}</P>\r\n        {typeof children === \"string\" ? (\r\n          <P small secondary>\r\n            {children}\r\n          </P>\r\n        ) : (\r\n          children\r\n        )}\r\n      </Column>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Row\r\n      mainAxisAlignment=\"space-between\"\r\n      crossAxisAlignment=\"center\"\r\n      className={classNames(styles[\"name-value-pair\"], className)}\r\n      {...rest}\r\n    >\r\n      {typeof name === \"string\" ? <P>{name}</P> : name}\r\n      {typeof children === \"string\" ? <P secondary>{children}</P> : children}\r\n    </Row>\r\n  );\r\n};\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Row } from \"../Row/Row\";\r\nimport styles from \"./TextButton.module.scss\";\r\n\r\nexport interface TextButtonProps extends FlexProps {\r\n  leading?: React.ReactNode;\r\n  trailing?: React.ReactNode;\r\n  className?: string;\r\n  withoutUnderline?: boolean;\r\n}\r\n\r\nexport const TextButton: React.FC<TextButtonProps> = ({\r\n  leading,\r\n  trailing,\r\n  secondary,\r\n  children,\r\n  className,\r\n  withoutUnderline,\r\n  ...rest\r\n}) => (\r\n  <Row\r\n    secondary={secondary}\r\n    darker={secondary !== true}\r\n    alternate\r\n    center\r\n    className={classNames(\r\n      styles[\"text-button\"],\r\n      {\r\n        [styles[\"text-button--without-underline\"]]: withoutUnderline,\r\n      },\r\n      className,\r\n    )}\r\n    {...rest}\r\n  >\r\n    {leading !== undefined && <div className={classNames(styles[\"icon\"], styles[\"icon--leading\"])}>{leading}</div>}\r\n    {/* <div className={styles[\"children\"]}>{children}</div> */}\r\n    {children}\r\n    {trailing !== undefined && <div className={classNames(styles[\"icon\"], styles[\"icon--trailing\"])}>{trailing}</div>}\r\n  </Row>\r\n);\r\n","export enum TransportStatus {\r\n  DISCONNECTED = \"DISCONNECTED\",\r\n  CONNECTING = \"CONNECTING\",\r\n  RECONNECTING = \"RECONNECTING\",\r\n  CONNECTED = \"CONNECTED\",\r\n}\r\n\r\nexport interface TransportListener {\r\n  onStatusChanged(transport: Transport, newStatus: TransportStatus, previousStatus: TransportStatus): void;\r\n  onError(transport: Transport, error?: Error): void;\r\n  onMessageSent(transport: Transport, message: string, wasSentSuccessfully: boolean): void;\r\n  onMessageReceived(transport: Transport, message: string): void;\r\n}\r\n\r\nexport interface Transport {\r\n  getName(): string;\r\n  isAvailable(): boolean;\r\n  getState(): TransportStatus;\r\n  addListener(listener: TransportListener): void;\r\n  removeListener(listener: TransportListener): void;\r\n  connect(): Promise<void>;\r\n  send(message: string): boolean;\r\n}\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Column } from \"../Column/Column\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { P } from \"../Paragraph/Paragraph\";\r\nimport styles from \"./IconButton.module.scss\";\r\n\r\nexport interface IconButtonProps extends FlexProps {\r\n  large?: boolean;\r\n  extraLarge?: boolean;\r\n  badge?: string;\r\n  icon: React.ReactNode;\r\n}\r\n\r\nexport const IconButton: React.FC<IconButtonProps> = ({\r\n  large,\r\n  extraLarge,\r\n  badge,\r\n  icon,\r\n  secondary,\r\n  className,\r\n  children,\r\n  ...rest\r\n}) => (\r\n  <Column overflow inline center className={classNames(styles[\"icon-button\"], className)} {...rest}>\r\n    <Column\r\n      overflow\r\n      className={classNames(styles.icon, {\r\n        [styles[\"icon--secondary\"]]: secondary,\r\n        [styles[\"icon--large\"]]: large,\r\n        [styles[\"icon--extra-large\"]]: extraLarge,\r\n      })}\r\n    >\r\n      {icon}\r\n      {badge && (\r\n        <Container center className={styles.badge}>\r\n          {badge}\r\n        </Container>\r\n      )}\r\n    </Column>\r\n    {React.Children.count(children) > 0 && (\r\n      <P\r\n        secondary={secondary}\r\n        className={classNames(styles[\"icon-text\"], {\r\n          [styles[\"icon-text--large\"]]: large,\r\n          [styles[\"icon-text--extra-large\"]]: extraLarge,\r\n        })}\r\n      >\r\n        {children}\r\n      </P>\r\n    )}\r\n  </Column>\r\n);\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { ReactComponent as BackIcon } from \"../../theme/icons/back-icon.svg\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps, FlexElement, Flex } from \"../Flex/Flex\";\r\nimport { GridBox } from \"../GridBox/GridBox\";\r\nimport { IconButton } from \"../IconButton/IconButton\";\r\nimport styles from \"./TitleBar.module.scss\";\r\n\r\nexport type OnBackCallback = () => void;\r\n\r\nexport interface TitleBarProps extends FlexProps {\r\n  fixed?: boolean;\r\n  transparent?: boolean;\r\n  secondary?: boolean;\r\n  title?: string;\r\n  onBack?: OnBackCallback;\r\n}\r\n\r\nexport const TitleBar = React.forwardRef<FlexElement, TitleBarProps>(function TitleBar(\r\n  { fixed, transparent, secondary, title, onBack, className, style, children, ...rest },\r\n  ref,\r\n) {\r\n  return (\r\n    <Flex\r\n      row\r\n      ref={ref}\r\n      className={classNames(\r\n        styles[\"title-bar\"],\r\n        {\r\n          [styles[\"title-bar--fixed\"]]: fixed,\r\n          [styles[\"title-bar--transparent\"]]: transparent,\r\n          [styles[\"title-bar--secondary\"]]: secondary,\r\n          [styles[\"title-bar--border\"]]: secondary,\r\n        },\r\n        className,\r\n      )}\r\n      style={{ ...style }}\r\n      {...rest}\r\n    >\r\n      {onBack && (\r\n        <IconButton\r\n          secondary={!secondary}\r\n          icon={<BackIcon />}\r\n          onClick={onBack}\r\n          className={classNames(styles[\"back-button\"], { [styles[\"back-button--primary\"]]: secondary })}\r\n        />\r\n      )}\r\n      {title && (\r\n        <Container expanded secondary={!secondary} large center>\r\n          {title}\r\n        </Container>\r\n      )}\r\n\r\n      {React.Children.map(children, (child, index) => {\r\n        // adds a spacer between every child\r\n        return (\r\n          <>\r\n            {index > 0 && <GridBox />}\r\n            {child}\r\n          </>\r\n        );\r\n      })}\r\n    </Flex>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Column } from \"../Column/Column\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\n\r\nexport const View: React.FC<FlexProps> = ({ children, ...rest }) => (\r\n  <Column cover {...rest}>\r\n    {children}\r\n  </Column>\r\n);\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _path, _g14, _g15, _g16, _g17, _g18, _g19, _g20, _path2, _g21, _g22, _g23, _ellipse, _path3, _g24, _g25, _g26, _g27, _g28, _g29, _path4, _g30, _g31, _g32, _path5, _g33, _g34, _g35, _g36, _g37, _g38, _path6, _g39, _path7, _g40, _g41, _g42, _path8, _g43, _path9, _g44;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNetworkIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 700,\n    viewBox: \"0 0 185.208 185.208\",\n    width: 700,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(952.567 -1192.557)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-172.905-1050.923c3.398-2.537 2.999-7.828 0-10.827l-36.204-36.205c-3-2.999-7.829-2.999-10.828 0l-58.717 58.615-58.638 58.536c-3.025 18.772-6.13 37.622-9.156 56.394l56.181-9.368c30.373-30.373 44.725-44.671 59.212-59.103 14.486-14.432 28.733-28.625 58.15-58.042z\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 6.2\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    height: 67.307,\n    ry: 5.082,\n    transform: \"rotate(135)\",\n    width: 11.067,\n    x: -601.165,\n    y: 865.359\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-312.874-925.234l-32.299-32.298-1.275 33.122z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    height: 67.307,\n    ry: 5.082,\n    transform: \"rotate(135)\",\n    width: 11.067,\n    x: -467.454,\n    y: 865.783\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(221.447 -535.307)\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -352.555,\n    cy: -1716.312,\n    rx: 5.334,\n    ry: 5.342\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-352.555-1698.49v37.859\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-436.722-1743.288a3.806 3.806 0 00-3.807 3.822v103.568a3.807 3.807 0 003.807 3.823h23.24v36.286l71.375-36.286h73.718a3.807 3.807 0 003.808-3.823v-103.568a3.807 3.807 0 00-3.808-3.822z\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 6.2\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1049.366-945.194h41.123l69.633-108.803h65.031M-873.579-1053.997l-39.659-19.994M-873.579-1053.997l-39.659 19.993M-873.579-945.194l-39.659-19.993M-873.579-945.194l-39.659 19.993\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1049.413-1053.99h41.123l69.633 108.803h65.031\"\n  }))), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1019.807-1476.418h104.673a6.063 6.063 0 016.088 6.065v144.094a6.063 6.063 0 01-6.088 6.064h-104.673a6.063 6.063 0 01-6.089-6.064v-144.094a6.063 6.063 0 016.089-6.065z\",\n    strokeMiterlimit: 6.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1025.45-1490.835h116.316M-1000.52-1456.242v115.871M-967.47-1456.242v115.871M-934.42-1456.242v115.871M-984.371-1496.142h34.159\"\n  }))), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2106.14-1372.404v50.635c0 1.264-.843 2.28-1.89 2.28h-172.173c-1.047 0-1.89-1.016-1.89-2.28v-50.635\",\n    strokeMiterlimit: 6.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2194.117-1496.783v150.835M-2194.117-1345.948l-43.481-44.424M-2194.117-1345.948l43.482-44.424\"\n  }))), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1798.361-1320.278v-175.781M-1763.218-1320.178h-70.286M-1763.218-1496.159h-70.286\"\n  }))), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-610.363-2204.845h175.822M-610.363-2264.03h175.822M-610.363-2145.66h175.822\"\n  }))), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", {\n    strokeWidth: 6.482,\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-127.05-111.185v84.94h-97.204v-120.686 0h59.76\",\n    strokeMiterlimit: 6.2,\n    transform: \"matrix(1.40223 0 0 1.45557 910.18 -1653.36)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-128.344-109.95h-36.15c-.717 0-1.294-.55-1.294-1.235v-34.51c0-.685.577-1.236 1.294-1.236l37.444 35.746c0 .684-.577 1.235-1.294 1.235z\",\n    transform: \"matrix(1.40223 0 0 1.45557 910.18 -1653.36)\"\n  }))), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", {\n    strokeWidth: 0.715,\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    strokeWidth: 8.073\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1064.034-145.824v108.35h-118.37v-153.947 0h72.773\",\n    strokeMiterlimit: 6.2,\n    transform: \"matrix(1.15126 0 0 1.14297 -1679.299 -1277.358)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1062.458-144.248h-44.021a1.572 1.572 0 01-1.576-1.576v-44.021c0-.873.703-1.576 1.576-1.576l45.597 45.597c0 .873-.703 1.576-1.576 1.576z\",\n    transform: \"matrix(1.15126 0 0 1.14297 -1679.299 -1277.358)\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-203.727-65.836h56.15M-203.727-86.588h56.15M-203.727-45.084h56.15\",\n    strokeWidth: 6.618,\n    transform: \"matrix(1.40338 0 0 1.39531 -274.77 -1289.345)\"\n  }))), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-630.532-1867.369h131.961l43.987 43.987v131.961h-175.948v-175.948z\",\n    strokeWidth: 9.26\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeWidth: 9.26,\n    d: \"M-578.897-1867.37h72.677v47.426h-72.677z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-528.621-1851.633v15.495\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    strokeWidth: 8.037\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-599.363-1762.364h113.61v70.943h-113.61z\",\n    strokeWidth: 9.260472510000001\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    strokeLinecap: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-505.148-1739.74h-74.82M-505.148-1714.045h-74.82\",\n    strokeWidth: 9.260472510000001\n  }))))), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1199.587-2252.592v22.493m-104.457 0v-62.72h64.22\",\n    strokeMiterlimit: 6.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1198.197-2251.202h-38.847c-.77 0-1.39-.62-1.39-1.39v-38.837c0-.77.62-1.39 1.39-1.39l40.237 40.227c0 .77-.62 1.39-1.39 1.39zM1206.6-2212.775h12.751\",\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1095.706-2164.5h-36.321v-64.503h175.948v64.504h-33.492\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1117.189-2156.841h60.34M1117.189-2137.989h60.34\",\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1094.291-2177.959h106.135v61.087h-106.135z\"\n  }))), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1886.288-561.238l175.854-175.855M-1886.288-737.093l175.854 175.855\"\n  }))), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(482.298 -865.099)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -344.666,\n    cy: -2283.139,\n    rx: 57.372,\n    ry: 56.435,\n    transform: \"rotate(-45.005)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1738.941-1251.822l-79.106-79.12\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M304.353-1849.053h-35.148v-18.316h35.148z\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 6.2\n  })), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 6.2\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M358.214-1691.421h-142.87v-157.632h142.87z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M331.796-1836.45h-90.033v-6.89h90.033z\"\n  }))), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 7.957,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-3788.422-212.559h68.377M-3788.422-237.183h68.377M-3788.422-187.934h68.377M-3788.991-163.31h68.377\",\n    transform: \"matrix(1.16492 0 0 1.16273 4660.502 -1532.594)\"\n  }))), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-1540.737 -705.196)\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 704.225,\n    cy: -258.695,\n    rx: 23.977,\n    ry: 23.822,\n    transform: \"matrix(.5075 -.86165 .8703 .49253 0 0)\",\n    strokeWidth: 9.261\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M185.263-702.973l-32.843-18.586\",\n    strokeWidth: 9.26\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -519.544,\n    cy: 454.936,\n    rx: 23.977,\n    ry: 23.822,\n    transform: \"matrix(.5075 .86165 .8703 -.49253 0 0)\",\n    strokeWidth: 9.261\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M185.263-702.973l-32.843 18.587M185.27-702.97l98.805-29.777M185.27-702.97l98.805 29.778\",\n    strokeWidth: 9.26\n  }))), _g17 || (_g17 = /*#__PURE__*/React.createElement(\"g\", {\n    strokeWidth: 0.657,\n    fill: \"none\",\n    strokeLinecap: \"round\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.5227 0 0 1.52124 316.385 -1420.395)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1690.993 468.42v-19.234M-1690.993 564.764v-65.34\",\n    strokeWidth: 6.08454626,\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: -1690.993,\n    cy: 483.921,\n    r: 15.502,\n    strokeWidth: 6.085,\n    strokeLinejoin: \"bevel\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.5227 0 0 1.52124 318.893 -1420.395)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1650.368 512.32v-63.134M-1650.368 564.764v-21.44\",\n    strokeWidth: 6.08454626,\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: -1650.368,\n    cy: 527.822,\n    r: 15.502,\n    strokeWidth: 6.085,\n    strokeLinejoin: \"bevel\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.5227 0 0 1.52124 274.192 -1418.768)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1578.74 480.963v-32.846M-1578.74 563.695v-51.729\",\n    strokeWidth: 6.08454626,\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: -1578.74,\n    cy: 496.465,\n    r: 15.502,\n    strokeWidth: 6.085,\n    strokeLinejoin: \"bevel\"\n  })))), _g18 || (_g18 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeMiterlimit: 6.2,\n    d: \"M-2246.17-1867.371h116.03v175.953h-116.03z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2196.162-1779.395h132.043M-2064.12-1779.395l-38.889 38.051M-2064.12-1779.395l-38.889-38.051\"\n  }))), _g19 || (_g19 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeMiterlimit: 6.2,\n    d: \"M-1866.525-1867.371h116.03v175.953h-116.03z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1684.474-1779.395h-132.042M-1816.516-1779.395l38.89 38.051M-1816.516-1779.395l38.89-38.051\"\n  }))), _g20 || (_g20 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2472.024-1372.404v50.635c0 1.264-.843 2.28-1.89 2.28h-172.173c-1.048 0-1.89-1.016-1.89-2.28v-50.635\",\n    strokeMiterlimit: 6.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2560-1345.948v-150.835M-2560-1496.783l-43.482 44.424M-2560-1496.783l43.481 44.424\"\n  }))), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M536.372-1001.198h175.782\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g21 || (_g21 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M157.113-1020.762h175.782M245.004-1108.654v175.783\"\n  }))), _g22 || (_g22 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-156.902 -990.181)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -840.6,\n    cy: -2602.197,\n    rx: 57.372,\n    ry: 56.435,\n    transform: \"rotate(-45.005)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2315.174-1126.74l-79.106-79.12M-2472.248-1245.753h76.1M-2434.198-1283.803v76.1\"\n  }))), _g23 || (_g23 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(307.534 -899.31)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -566.176,\n    cy: -2456.273,\n    rx: 57.372,\n    ry: 56.435,\n    transform: \"rotate(-45.005)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2017.97-1217.612l-79.106-79.12M-2175.044-1336.625h76.099\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(236.723 -619.44)\"\n  }, /*#__PURE__*/React.createElement(\"text\", {\n    style: {\n      lineHeight: 3.3499999\n    },\n    x: -2507.133,\n    y: -1592.797,\n    fontWeight: 400,\n    fontSize: 64.968,\n    fontFamily: \"sans-serif\",\n    letterSpacing: 0,\n    wordSpacing: 0,\n    strokeWidth: 0.265\n  }), _ellipse || (_ellipse = /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -598.089,\n    cy: -2883.944,\n    rx: 57.372,\n    ry: 56.435,\n    transform: \"rotate(-45.005)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2342.916-1497.48l-79.105-79.121\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }))), _g24 || (_g24 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 6.2\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2647.974-715.139h153.947v153.947h-153.947z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2625.974-715.139v-22h153.947v153.947h-22\"\n  }))), _g25 || (_g25 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M324.531-1342.516h-71.21c-61.035 0-61.035-93.208 5.202-93.208h125.551M384.074-1435.724l-38.89 38.051M384.074-1435.724l-38.89-38.051\"\n  }))), _g26 || (_g26 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-159.482-1342.516h71.21c61.035 0 61.035-93.208-5.201-93.208H-219.025M-219.024-1435.724l38.889 38.051M-219.024-1435.724l38.889-38.051\"\n  }))), _g27 || (_g27 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1380.45-985.026l-95.204 87.928M-1380.45-985.026l-95.204-87.929\"\n  }))), _g28 || (_g28 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2607.603-1001.198l95.204 87.928M-2607.603-1001.198l95.204-87.929\"\n  }))), _g29 || (_g29 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    strokeWidth: 9.027,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-158.467 96.672l38.89 38.05M-158.467 96.672l38.89-38.052\",\n    transform: \"matrix(1.02602 0 0 1.02564 -58.754 -1147.647)\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-221.392-980.059c0 27.68 16.681 52.636 42.264 63.229 25.583 10.593 55.03 4.738 74.611-14.836 19.58-19.573 25.438-49.01 14.841-74.583-10.597-25.574-35.13-42.246-62.82-42.246l-68.843.003\",\n    strokeWidth: 9.26\n  }))), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1270.8-661.27h-175.95l90.043-75.866zm-106.818 100.074h-46.533V-661.27h129.18v100.074h-46.533m-36.114-.118v-48.06h36.114v48.06\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g30 || (_g30 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    strokeWidth: 9.027,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-158.467 96.672l38.89 38.05M-158.467 96.672l38.89-38.052\",\n    transform: \"matrix(-1.02602 0 0 1.02564 -683.137 -1181.514)\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-520.5-1013.926c0 27.681-16.68 52.636-42.264 63.23-25.583 10.592-55.03 4.737-74.61-14.836-19.581-19.574-25.439-49.01-14.842-74.584 10.597-25.574 35.13-42.245 62.821-42.245l68.842.003\",\n    strokeWidth: 9.26\n  }))), _g31 || (_g31 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(3.226 -934.832)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: -690.901,\n    cy: -1105.169,\n    r: 87.974,\n    transform: \"rotate(45)\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: -690.901,\n    cy: -1105.169,\n    r: 59.536,\n    transform: \"rotate(45)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M335.03-1227.915l20.05 20.05M230.783-1332.162l20.05 20.05M250.833-1227.915l-20.05 20.05M355.08-1332.162l-20.05 20.05\"\n  }))), _g32 || (_g32 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-47.294 -955.833)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 452.398,\n    cy: 693.554,\n    rx: 31.199,\n    ry: 31.635,\n    transform: \"rotate(-90.006) skewX(-.011)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M837.762-452.34l-112.587-.006M781.102-426.26l.006-26.059M799.03-430.775l.006-21.572M816.957-426.283l.006-26.058\"\n  }))), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-112.512-183.042l38.32 95.425 102.595 6.956-78.912 65.932 25.087 99.723-87.09-54.676-87.09 54.676 25.088-99.723-78.913-65.932 102.595-6.956z\",\n    transform: \"matrix(.62427 0 0 .62366 1139.519 -970.624)\",\n    fill: \"none\",\n    strokeWidth: 14.841,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g33 || (_g33 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-773.59 169.757)\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 518.3,\n    cy: 619.601,\n    rx: 23.977,\n    ry: 23.822,\n    transform: \"matrix(.5075 -.86165 .8703 .49253 0 0)\",\n    strokeWidth: 9.261\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 406.422,\n    cy: 684.842,\n    rx: 23.977,\n    ry: 23.822,\n    transform: \"matrix(.5075 -.86165 .8703 .49253 0 0)\",\n    strokeWidth: 9.261\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 525.334,\n    cy: 762.389,\n    rx: 23.977,\n    ry: 23.822,\n    transform: \"matrix(.5075 -.86165 .8703 .49253 0 0)\",\n    strokeWidth: 9.261\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M827.84-128.567l76.632 38.525M823.824-23.72l84.74-42.6\",\n    strokeWidth: 9.26\n  }))), _g34 || (_g34 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2194.117-1048.8l87.929 95.204M-2194.117-1048.8l-87.928 95.204\"\n  }))), _g35 || (_g35 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1829.17-955.385l87.928-95.204M-1829.17-955.385l-87.929-95.204\"\n  }))), _g36 || (_g36 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-964.675-649.165l95.203-62.485M-964.675-649.165l95.203 62.484\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-973.985-737.094v175.857\"\n  }))), _g37 || (_g37 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-512.842-649.165l-95.204-62.485M-512.842-649.165l-95.204 62.484\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-503.533-737.094v175.857\"\n  }))), _g38 || (_g38 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(1666.946 -473.23)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -1833.87,\n    cy: -222.459,\n    rx: 41.306,\n    ry: 41.449\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1921.576-88.029h175.413m-175.413 0a87.974 86.257 0 01-.268-6.724 87.974 86.257 0 0187.974-86.257 87.974 86.257 0 0187.975 86.257v0a87.974 86.257 0 01-.268 6.726\"\n  }))), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M312.117-676.978c-5.379-20.223-23.863-34.319-45.004-34.319-1.688 0-3.375.09-5.053.272m-39.875 34.013c-.523-.02-1.047-.029-1.57-.029-22.902 0-41.467 18.364-41.467 41.017 0 9.847 2.163 21.36 10.074 26.8 42.647 29.32 113.167 29.327 155.81 0 7.91-5.44 10.064-16.953 10.064-26.8 0-22.653-18.565-41.017-41.466-41.017-.523 0-1.047.01-1.57.03m-89.932.033c5.379-20.223 23.863-34.319 45.003-34.319 1.689 0 3.376.09 5.054.272M-185.754-1867.368H-9.806v175.948h-175.948z\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g39 || (_g39 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-164.455-1820.935h25.93v25.93h-25.93zM-110.745-1820.935h25.93v25.93h-25.93zM-57.035-1820.935h25.93v25.93h-25.93zM-164.455-1763.785h25.93v25.93h-25.93zM-110.745-1763.785h25.93v25.93h-25.93zM-57.035-1763.785h25.93v25.93h-25.93z\"\n  }))), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M-185.754-1849.066H-9.806v139.344h-175.948z\"\n  })), _g40 || (_g40 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeMiterlimit: 6.2,\n    d: \"M-1451.745-1867.371h116.03v175.953h-116.03z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-1517.766-1779.395h132.042M-1385.724-1779.395l-38.889 38.051M-1385.724-1779.395l-38.889-38.051\"\n  }))), _g41 || (_g41 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeMiterlimit: 6.2,\n    d: \"M-1046.404-1867.37h116.03v175.952h-116.03z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-980.382-1779.395h-132.043M-1112.424-1779.395l38.889 38.051M-1112.424-1779.395l38.889-38.051\"\n  }))), _g42 || (_g42 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(112.94 -229.91)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M510.393-419.255h99.06M510.393-478.44h99.06M510.393-360.07h99.06\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 491.237,\n    cy: -478.44,\n    r: 4.63\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 491.237,\n    cy: -419.255,\n    r: 4.63\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 491.237,\n    cy: -360.069,\n    r: 4.63\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M433.623-419.255h38.457M433.623-478.44h38.457M433.623-360.07h38.457\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }))), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-2550.331-1828.398l-21.048-23.281h-35.36m-32.912 23.28l21.048-23.28h35.36m111.216 144.569h-175.948v-121.288h175.948v121.288z\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g43 || (_g43 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M988.494-1832.187h175.948v105.584H988.494z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1164.441-1832.187l-175.962-.337 87.691 78.011z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1048.018-1779.233l-59.539 52.967 175.962-.337-59.796-52.617-28.46 25.044z\"\n  }))), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-941.634-2138.879v-133.063h-42.622v155.068h61.811v-175.943h-83.077v153.938\",\n    fill: \"none\",\n    strokeWidth: 9.26\n  })), _g44 || (_g44 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(214.065 183.713)\",\n    fill: \"none\",\n    strokeWidth: 9.26,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M763.417-840.016a150.885 154.112 0 0150.689-8.956 150.885 154.112 0 0150.686 8.955M744.758-872.992a187.686 191.7 0 0169.355-13.569 187.686 191.7 0 0169.338 13.562M726.192-905.84a224.488 229.289 0 0187.901-18.31 224.488 229.289 0 0187.923 18.319\"\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 814.104,\n    cy: -798.318,\n    rx: 18.761,\n    ry: 18.767\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNetworkIcon);\nexport default __webpack_public_path__ + \"static/media/network-icon.d32af0c1.svg\";\nexport { ForwardRef as ReactComponent };","import { dummyLogger, Logger } from \"ts-log\";\r\n\r\nimport { Transport, TransportListener, TransportStatus } from \"./Transport\";\r\n\r\nexport interface WebsocketTransportOptions {\r\n  host: string;\r\n  port: number;\r\n  useSSL?: boolean;\r\n  reconnectInterval?: number;\r\n  log?: Logger;\r\n}\r\n\r\nexport class WebsocketTransport implements Transport {\r\n  private readonly listeners: TransportListener[] = [];\r\n  private options: Required<WebsocketTransportOptions>;\r\n  private state: TransportStatus = TransportStatus.DISCONNECTED;\r\n  private wasConnected = false;\r\n  private ws?: WebSocket;\r\n  private reconnectTimeout?: NodeJS.Timeout;\r\n\r\n  constructor(options: WebsocketTransportOptions) {\r\n    this.options = {\r\n      useSSL: false,\r\n      log: dummyLogger,\r\n      reconnectInterval: 1000,\r\n      ...options,\r\n    };\r\n  }\r\n\r\n  get log() {\r\n    return this.options.log;\r\n  }\r\n\r\n  getName() {\r\n    return \"WebSocket\";\r\n  }\r\n\r\n  isAvailable() {\r\n    return WebSocket !== undefined;\r\n  }\r\n\r\n  getOptions() {\r\n    return this.options;\r\n  }\r\n\r\n  updateOptions(options: Partial<WebsocketTransportOptions>) {\r\n    this.options = {\r\n      ...this.options,\r\n      ...options,\r\n    };\r\n  }\r\n\r\n  getState() {\r\n    return this.state;\r\n  }\r\n\r\n  addListener(listener: TransportListener) {\r\n    this.listeners.push(listener);\r\n  }\r\n\r\n  removeListener(listener: TransportListener) {\r\n    const listenerIndex = this.listeners.findIndex((existingListener) => listener === existingListener);\r\n\r\n    if (listenerIndex === -1) {\r\n      return false;\r\n    }\r\n\r\n    this.listeners.splice(listenerIndex, 1);\r\n\r\n    return true;\r\n  }\r\n\r\n  async connect() {\r\n    const url = `${this.options.useSSL ? \"wss\" : \"ws\"}://${this.options.host}:${this.options.port}`;\r\n\r\n    this.log.info(`connecting to web-socket server at ${url}`);\r\n\r\n    // close existing connection if exists\r\n    if (this.ws) {\r\n      console.log(\"closing connection\", this.ws);\r\n\r\n      // clear event handlers\r\n      this.ws.onopen = () => {};\r\n      this.ws.onclose = () => {};\r\n      this.ws.onerror = () => {};\r\n      this.ws.onmessage = () => {};\r\n\r\n      // close the connection\r\n      this.ws.close();\r\n\r\n      this.ws = undefined;\r\n    }\r\n\r\n    // clear reconnect timeout if exists\r\n    if (this.reconnectTimeout !== undefined) {\r\n      clearTimeout(this.reconnectTimeout);\r\n\r\n      this.reconnectTimeout = undefined;\r\n    }\r\n\r\n    // update state depending on whether the connection was ever established\r\n    this.setState(this.wasConnected ? TransportStatus.RECONNECTING : TransportStatus.CONNECTING);\r\n\r\n    // attempt to open web-socket connection\r\n    this.ws = new WebSocket(url);\r\n\r\n    // handle open event\r\n    this.ws.onopen = (_event) => {\r\n      this.log.info(\"established web-socket connection\");\r\n\r\n      this.wasConnected = true;\r\n\r\n      // update state\r\n      this.setState(TransportStatus.CONNECTED);\r\n    };\r\n\r\n    // handle close event\r\n    this.ws.onclose = (event) => {\r\n      const logDetails = `code: ${event.code}, reason: ${event.reason}, was clean: ${event.wasClean ? \"yes\" : \"no\"}`;\r\n\r\n      if (this.wasConnected) {\r\n        this.log.warn(`connection to web-socket was lost (${logDetails})`);\r\n      } else {\r\n        this.log.warn(`connecting to web-socket failed (${logDetails})`);\r\n      }\r\n\r\n      // update state\r\n      this.setState(TransportStatus.DISCONNECTED);\r\n\r\n      // only attempt to reconnect if connection has succeeded before\r\n      if (this.wasConnected) {\r\n        this.reconnectTimeout = setTimeout(() => {\r\n          this.reconnectTimeout = undefined;\r\n\r\n          void this.connect();\r\n        }, this.options.reconnectInterval);\r\n      }\r\n    };\r\n\r\n    // handle error event\r\n    this.ws.onerror = (_event) => {\r\n      this.log.warn(\"got web-socket error\");\r\n\r\n      // notify the listeners\r\n      this.listeners.forEach((listener) => listener.onError(this));\r\n    };\r\n\r\n    // handle message event\r\n    this.ws.onmessage = (event) => {\r\n      const message = event.data;\r\n\r\n      // this.log.info(\"got message\", message);\r\n\r\n      // notify the listeners of message received\r\n      this.listeners.forEach((listener) => listener.onMessageReceived(this, message));\r\n    };\r\n  }\r\n\r\n  send(message: string) {\r\n    // we can only send messages if we're connected\r\n    if (!this.ws || this.state !== TransportStatus.CONNECTED) {\r\n      this.log.warn(`sending message \"${message}\" requested but websocket state is ${this.state}`);\r\n\r\n      // notify of failed message sending attempt\r\n      this.listeners.forEach((listener) => listener.onMessageSent(this, message, false));\r\n\r\n      return false;\r\n    }\r\n\r\n    // send the message\r\n    this.ws.send(message);\r\n\r\n    // notify the listeners\r\n    this.listeners.forEach((listener) => listener.onMessageSent(this, message, true));\r\n\r\n    return true;\r\n  }\r\n\r\n  private setState(newState: TransportStatus) {\r\n    // ignore if state did not change\r\n    if (newState === this.state) {\r\n      return;\r\n    }\r\n\r\n    // remember previous state\r\n    const previousState = this.state;\r\n\r\n    // update current state\r\n    this.state = newState;\r\n\r\n    // notify the listeners of state change\r\n    this.listeners.forEach((listener) => listener.onStatusChanged(this, newState, previousState));\r\n  }\r\n}\r\n","import { dummyLogger, Logger } from \"ts-log\";\r\n\r\nimport { Transport, TransportListener, TransportStatus } from \"./Transport\";\r\n\r\ninterface BridgeInterface {\r\n  receive(message: string): void;\r\n}\r\n\r\n// extend the global window interface with the bridge interfaces\r\ndeclare global {\r\n  interface Window {\r\n    native?: BridgeInterface;\r\n    app?: BridgeInterface;\r\n  }\r\n}\r\n\r\nexport interface NativeTransportOptions {\r\n  log?: Logger;\r\n}\r\n\r\nexport class NativeTransport implements Transport {\r\n  private readonly options: Required<NativeTransportOptions>;\r\n  private readonly listeners: TransportListener[] = [];\r\n  private readonly bridgeExists: boolean;\r\n  private state: TransportStatus = TransportStatus.DISCONNECTED;\r\n  private native?: BridgeInterface;\r\n\r\n  constructor(options: NativeTransportOptions = {}) {\r\n    this.options = {\r\n      log: dummyLogger,\r\n      ...options,\r\n    };\r\n    this.bridgeExists = window.native !== undefined;\r\n  }\r\n\r\n  get log() {\r\n    return this.options.log;\r\n  }\r\n\r\n  getName() {\r\n    return \"Native\";\r\n  }\r\n\r\n  isAvailable() {\r\n    return this.bridgeExists;\r\n  }\r\n\r\n  getState() {\r\n    return this.state;\r\n  }\r\n\r\n  addListener(listener: TransportListener) {\r\n    this.listeners.push(listener);\r\n  }\r\n\r\n  removeListener(listener: TransportListener) {\r\n    const listenerIndex = this.listeners.findIndex((existingListener) => listener === existingListener);\r\n\r\n    if (listenerIndex === -1) {\r\n      return false;\r\n    }\r\n\r\n    this.listeners.splice(listenerIndex, 1);\r\n\r\n    return true;\r\n  }\r\n\r\n  async connect() {\r\n    // attempt to connect\r\n    this.setState(TransportStatus.CONNECTING);\r\n\r\n    // default to using mock interface if not available\r\n    if (window.native === undefined) {\r\n      this.log.info(\"no native bridge is available\");\r\n\r\n      // connection failed\r\n      this.setState(TransportStatus.DISCONNECTED);\r\n\r\n      return;\r\n    }\r\n\r\n    this.log.info(\"native bridge is available\");\r\n\r\n    // store reference to the native javascript bridge interface\r\n    this.native = window.native;\r\n\r\n    // setup native to app interface\r\n    window.app = {\r\n      receive: (message) => this.onMessageReceived(message),\r\n    };\r\n\r\n    // perform handshake to test connection\r\n    this.send(\"!handshake\");\r\n\r\n    // set connecting state until handshake response is received\r\n    this.setState(TransportStatus.CONNECTING);\r\n  }\r\n\r\n  send(message: string) {\r\n    // fail to send if no bridge available\r\n    if (!this.native) {\r\n      this.log.warn(`sending message \"${message}\" requested but the native bridge is not available`);\r\n\r\n      // notify of failed message sending attempt\r\n      this.listeners.forEach((listener) => listener.onMessageSent(this, message, false));\r\n\r\n      return false;\r\n    }\r\n\r\n    // attempt to send the message\r\n    try {\r\n      // call the receive native bridge function\r\n      this.native.receive(message);\r\n\r\n      // notify of message sent\r\n      this.listeners.forEach((listener) => listener.onMessageSent(this, message, true));\r\n\r\n      return true;\r\n    } catch (error) {\r\n      // notify of error\r\n      this.listeners.forEach((listener) => listener.onError(this, error));\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private setState(newState: TransportStatus) {\r\n    // ignore if state did not change\r\n    if (newState === this.state) {\r\n      return;\r\n    }\r\n\r\n    // remember previous state\r\n    const previousState = this.state;\r\n\r\n    // update current state\r\n    this.state = newState;\r\n\r\n    // notify the listeners of state change\r\n    this.listeners.forEach((listener) => listener.onStatusChanged(this, newState, previousState));\r\n  }\r\n\r\n  private onMessageReceived(message: string) {\r\n    this.log.info(`received: \"${message}\"`);\r\n\r\n    // handle handshake response\r\n    if (message === \"!handshake\") {\r\n      // consider connection successful\r\n      this.setState(TransportStatus.CONNECTED);\r\n    } else {\r\n      // notify the listeners of message received\r\n      this.listeners.forEach((listener) => listener.onMessageReceived(this, message));\r\n    }\r\n  }\r\n}\r\n","import { dummyLogger, Logger } from \"ts-log\";\r\nimport { Transport, TransportListener, TransportStatus } from \"./Transport\";\r\n\r\nexport interface MultiTransportOptions {\r\n  log?: Logger;\r\n}\r\n\r\nexport class MultiTransport implements Transport {\r\n  private readonly options: Required<MultiTransportOptions>;\r\n  private readonly listeners: TransportListener[] = [];\r\n  private readonly transports: Transport[] = [];\r\n\r\n  constructor(options: MultiTransportOptions = {}) {\r\n    this.options = {\r\n      log: dummyLogger,\r\n      ...options,\r\n    };\r\n  }\r\n\r\n  get log() {\r\n    return this.options.log;\r\n  }\r\n\r\n  getName() {\r\n    const activeTransport = this.getActiveTransport();\r\n\r\n    // return none if no transport is available\r\n    if (!activeTransport) {\r\n      return \"None\";\r\n    }\r\n\r\n    // return active transport name\r\n    return activeTransport.getName();\r\n  }\r\n\r\n  isAvailable() {\r\n    return this.getAvailableTransport() !== undefined;\r\n  }\r\n\r\n  getState() {\r\n    const activeTransport = this.getActiveTransport();\r\n\r\n    // return disconnected if no transport is available\r\n    if (!activeTransport) {\r\n      return TransportStatus.DISCONNECTED;\r\n    }\r\n\r\n    // return active transport state\r\n    return activeTransport.getState();\r\n  }\r\n\r\n  addListener(listener: TransportListener) {\r\n    this.listeners.push(listener);\r\n\r\n    const activeTransport = this.getActiveTransport();\r\n\r\n    if (!activeTransport) {\r\n      return;\r\n    }\r\n\r\n    // report initial state\r\n    listener.onStatusChanged(activeTransport, activeTransport.getState(), TransportStatus.DISCONNECTED);\r\n  }\r\n\r\n  removeListener(listener: TransportListener) {\r\n    const listenerIndex = this.listeners.findIndex((existingListener) => listener === existingListener);\r\n\r\n    if (listenerIndex === -1) {\r\n      return false;\r\n    }\r\n\r\n    this.listeners.splice(listenerIndex, 1);\r\n\r\n    return true;\r\n  }\r\n\r\n  async connect() {\r\n    // call connect on all disconnected transports\r\n    const promises = this.transports.map((transport) => {\r\n      if (transport.getState() !== TransportStatus.DISCONNECTED) {\r\n        return Promise.resolve();\r\n      }\r\n\r\n      return transport.connect();\r\n    });\r\n\r\n    // wait for all transports to connect\r\n    await Promise.all(promises);\r\n  }\r\n\r\n  send(message: string) {\r\n    const connectedTransport = this.getConnectedTransport();\r\n\r\n    if (!connectedTransport) {\r\n      this.log.warn(`sending message \"${message}\" requested but there is no connected transport available`);\r\n\r\n      // notify of failed message sending attempt\r\n      this.listeners.forEach((listener) => listener.onMessageSent(this, message, false));\r\n\r\n      return false;\r\n    }\r\n\r\n    return connectedTransport.send(message);\r\n  }\r\n\r\n  addTransport(transport: Transport) {\r\n    // listen for transport events and forward active transport events\r\n    transport.addListener({\r\n      onStatusChanged: (eventTransport, newState, previousState) => {\r\n        const activeTransport = this.getActiveTransport();\r\n\r\n        if (eventTransport !== activeTransport) {\r\n          return;\r\n        }\r\n\r\n        this.listeners.forEach((listener) => listener.onStatusChanged(eventTransport, newState, previousState));\r\n      },\r\n      onError: (eventTransport, error) => {\r\n        const activeTransport = this.getActiveTransport();\r\n\r\n        if (eventTransport !== activeTransport) {\r\n          return;\r\n        }\r\n\r\n        this.listeners.forEach((listener) => listener.onError(eventTransport, error));\r\n      },\r\n      onMessageSent: (eventTransport, message, wasSentSuccessfully: boolean) => {\r\n        const activeTransport = this.getActiveTransport();\r\n\r\n        if (eventTransport !== activeTransport) {\r\n          return;\r\n        }\r\n\r\n        this.listeners.forEach((listener) => listener.onMessageSent(eventTransport, message, wasSentSuccessfully));\r\n      },\r\n      onMessageReceived: (eventTransport, message) => {\r\n        const activeTransport = this.getActiveTransport();\r\n\r\n        if (eventTransport !== activeTransport) {\r\n          return;\r\n        }\r\n\r\n        this.listeners.forEach((listener) => listener.onMessageReceived(eventTransport, message));\r\n      },\r\n    });\r\n\r\n    this.transports.push(transport);\r\n  }\r\n\r\n  getAvailableTransport() {\r\n    // return first available transport\r\n    return this.transports.find((transport) => transport.isAvailable());\r\n  }\r\n\r\n  getConnectedTransport() {\r\n    // return first connected transport if any\r\n    return this.transports.find((transport) => transport.getState() === TransportStatus.CONNECTED);\r\n  }\r\n\r\n  getActiveTransport() {\r\n    const connectedTransport = this.getConnectedTransport();\r\n\r\n    // return first connected transport if exists\r\n    if (connectedTransport) {\r\n      return connectedTransport;\r\n    }\r\n\r\n    // return first available transport if exists\r\n    return this.getAvailableTransport();\r\n  }\r\n}\r\n","import { atom } from \"recoil\";\r\nimport { TransportStatus } from \"../lib/transport\";\r\n\r\nexport const transportStatusState = atom<TransportStatus>({\r\n  key: \"transportStatusState\",\r\n  default: TransportStatus.DISCONNECTED,\r\n});\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTickIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    enableBackground: \"new 0 0 515.556 515.556\",\n    viewBox: \"0 0 515.556 515.556\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#777777\",\n    d: \"m0 274.226 176.549 176.886 339.007-338.672-48.67-47.997-290.337 290-128.553-128.552z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTickIcon);\nexport default __webpack_public_path__ + \"static/media/tick-icon.78460de9.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgControllerIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#858578\",\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 100 100\"\n    },\n    viewBox: \"0 0 100 100\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M93.998,45.312c0-3.676-1.659-7.121-4.486-9.414c0.123-0.587,0.184-1.151,0.184-1.706c0-4.579-3.386-8.382-7.785-9.037   c0.101-0.526,0.149-1.042,0.149-1.556c0-4.875-3.842-8.858-8.655-9.111c-0.079-0.013-0.159-0.024-0.242-0.024   c-0.04,0-0.079,0.005-0.12,0.006c-0.04-0.001-0.079-0.006-0.12-0.006c-0.458,0-0.919,0.041-1.406,0.126   c-0.846-4.485-4.753-7.825-9.437-7.825c-5.311,0-9.632,4.321-9.632,9.633v65.918c0,6.723,5.469,12.191,12.191,12.191   c4.46,0,8.508-2.413,10.646-6.246c0.479,0.104,0.939,0.168,1.401,0.198c2.903,0.185,5.73-0.766,7.926-2.693   c2.196-1.927,3.51-4.594,3.7-7.51c0.079-1.215-0.057-2.434-0.403-3.638c3.796-2.691,6.027-6.952,6.027-11.621   c0-3.385-1.219-6.635-3.445-9.224C92.731,51.505,93.998,48.471,93.998,45.312z M90.938,62.999c0,3.484-1.582,6.68-4.295,8.819   c-2.008-3.196-5.57-5.237-9.427-5.237c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5c3.341,0,6.384,2.093,7.582,5.208   c0.41,1.088,0.592,2.189,0.521,3.274c-0.138,2.116-1.091,4.051-2.685,5.449c-1.594,1.399-3.641,2.094-5.752,1.954   c-0.594-0.039-1.208-0.167-1.933-0.402c-0.74-0.242-1.541,0.124-1.846,0.84c-1.445,3.404-4.768,5.604-8.465,5.604   c-5.068,0-9.191-4.123-9.191-9.191V16.399c0-3.657,2.975-6.633,6.632-6.633c3.398,0,6.194,2.562,6.558,5.908   c-2.751,1.576-4.612,4.535-4.612,7.926c0,0.829,0.672,1.5,1.5,1.5s1.5-0.671,1.5-1.5c0-3.343,2.689-6.065,6.016-6.13   c3.327,0.065,6.016,2.787,6.016,6.129c0,0.622-0.117,1.266-0.359,1.971c-0.057,0.166-0.084,0.34-0.081,0.515   c0.001,0.041,0.003,0.079,0.007,0.115c-0.006,0.021-0.01,0.035-0.01,0.035c-0.118,0.465-0.006,0.959,0.301,1.328   c0.307,0.369,0.765,0.569,1.251,0.538c0.104-0.007,0.208-0.02,0.392-0.046c3.383,0,6.136,2.753,6.136,6.136   c0,0.572-0.103,1.159-0.322,1.849c-0.203,0.635,0.038,1.328,0.591,1.7c2.434,1.639,3.909,4.329,4.014,7.242   c0,0.004-0.001,0.008-0.001,0.012c0,5.03-4.092,9.123-9.122,9.123s-9.123-4.093-9.123-9.123c0-0.829-0.672-1.5-1.5-1.5   s-1.5,0.671-1.5,1.5c0,6.685,5.438,12.123,12.123,12.123c2.228,0,4.31-0.615,6.106-1.668C89.88,57.539,90.938,60.212,90.938,62.999   z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M38.179,6.766c-4.684,0-8.59,3.34-9.435,7.825c-0.488-0.085-0.949-0.126-1.407-0.126c-0.04,0-0.079,0.005-0.12,0.006   c-0.04-0.001-0.079-0.006-0.12-0.006c-0.083,0-0.163,0.011-0.242,0.024c-4.813,0.253-8.654,4.236-8.654,9.111   c0,0.514,0.049,1.03,0.149,1.556c-4.399,0.655-7.785,4.458-7.785,9.037c0,0.554,0.061,1.118,0.184,1.706   c-2.827,2.293-4.486,5.738-4.486,9.414c0,3.159,1.266,6.193,3.505,8.463c-2.227,2.589-3.446,5.839-3.446,9.224   c0,4.669,2.231,8.929,6.027,11.621c-0.347,1.204-0.482,2.423-0.402,3.639c0.19,2.915,1.503,5.582,3.699,7.509   c2.196,1.928,5.015,2.879,7.926,2.693c0.455-0.03,0.919-0.096,1.4-0.199c2.138,3.834,6.186,6.247,10.646,6.247   c6.722,0,12.191-5.469,12.191-12.191V16.399C47.811,11.087,43.49,6.766,38.179,6.766z M44.811,82.317   c0,5.068-4.123,9.191-9.191,9.191c-3.697,0-7.02-2.2-8.464-5.604c-0.241-0.567-0.793-0.914-1.381-0.914   c-0.154,0-0.311,0.023-0.465,0.074c-0.724,0.235-1.338,0.363-1.933,0.402c-2.119,0.139-4.158-0.556-5.751-1.954   c-1.594-1.398-2.547-3.333-2.685-5.449c-0.076-1.16,0.125-2.336,0.598-3.495c0.007-0.017,0.005-0.036,0.011-0.053   c1.342-3.056,4.225-4.953,7.597-4.953c0.829,0,1.5-0.672,1.5-1.5s-0.671-1.5-1.5-1.5c-3.938,0-7.501,2.007-9.548,5.239   c-2.701-2.139-4.277-5.327-4.277-8.802c0-2.787,1.06-5.46,2.978-7.549c1.796,1.053,3.879,1.668,6.107,1.668   c6.685,0,12.123-5.438,12.123-12.123c0-0.829-0.671-1.5-1.5-1.5s-1.5,0.671-1.5,1.5c0,5.03-4.092,9.123-9.123,9.123   s-9.123-4.093-9.123-9.123c0-0.002-0.001-0.004-0.001-0.006c0.103-2.915,1.578-5.607,4.013-7.248   c0.553-0.372,0.793-1.064,0.591-1.699c-0.22-0.691-0.322-1.278-0.322-1.85c0-3.376,2.741-6.125,6.195-6.125   c0.007,0,0.015,0,0.022,0c0.103,0.014,0.206,0.027,0.311,0.034c0.485,0.03,0.948-0.171,1.254-0.542   c0.307-0.372,0.417-0.868,0.294-1.334c0-0.001-0.003-0.014-0.008-0.031c0.003-0.035,0.006-0.067,0.007-0.095   c0.005-0.18-0.022-0.359-0.081-0.529c-0.242-0.707-0.359-1.352-0.359-1.972c0-3.342,2.688-6.065,6.016-6.129   c3.328,0.065,6.016,2.787,6.016,6.13c0,0.829,0.671,1.5,1.5,1.5s1.5-0.671,1.5-1.5c0-3.391-1.861-6.35-4.612-7.926   c0.364-3.346,3.16-5.908,6.558-5.908c3.657,0,6.632,2.976,6.632,6.633V82.317z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgControllerIcon);\nexport default __webpack_public_path__ + \"static/media/controller-icon.a1160653.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\nimport { BlockButton } from \"../../components/BlockButton/BlockButton\";\r\nimport { Expanded } from \"../../components/Expanded/Expanded\";\r\nimport { Field } from \"../../components/Field/Field\";\r\nimport { Form } from \"../../components/Form/Form\";\r\nimport { GridBox } from \"../../components/GridBox/GridBox\";\r\nimport { NameValuePair } from \"../../components/NameValuePair/NameValuePair\";\r\nimport { TextButton } from \"../../components/TextButton/TextButton\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\nimport { storeWebsocketHost } from \"../../services/storeWebsocketHost\";\r\nimport { transportStatusState } from \"../../state/transportStatusState\";\r\nimport { websocketHostState } from \"../../state/websocketHostState\";\r\nimport { ReactComponent as NetworkIcon } from \"../../theme/icons/network-icon.svg\";\r\nimport { ReactComponent as TickIcon } from \"../../theme/icons/tick-icon.svg\";\r\nimport styles from \"./ConfigureConnectionView.module.scss\";\r\n\r\ninterface ConnectionFormValues {\r\n  websocketHost: string;\r\n}\r\n\r\nexport const ConfigureConnectionView: React.FC = () => {\r\n  const history = useHistory();\r\n  const [isHostUpdated, setIsHostUpdated] = useState(false);\r\n  const transportStatus = useRecoilValue(transportStatusState);\r\n  const [websocketHost, setWebsocketHost] = useRecoilState(websocketHostState);\r\n  const { register, handleSubmit, formState } = useForm<ConnectionFormValues>();\r\n\r\n  const onSubmit = ({ websocketHost }: ConnectionFormValues) => {\r\n    // update state, store the new setting, mark updated\r\n    setWebsocketHost(websocketHost);\r\n    storeWebsocketHost(websocketHost);\r\n    setIsHostUpdated(true);\r\n  };\r\n\r\n  return (\r\n    <View>\r\n      <TitleBar\r\n        onBack={() => (history.length > 0 ? history.goBack() : history.replace(\"/\"))}\r\n        title=\"Configure connection\"\r\n      />\r\n      <Form scrollable padded expanded onSubmit={handleSubmit(onSubmit)}>\r\n        <Field\r\n          type=\"text\"\r\n          name=\"websocketHost\"\r\n          label=\"Websocket host\"\r\n          defaultValue={websocketHost}\r\n          leading={<NetworkIcon className={styles.icon} />}\r\n          trailing={isHostUpdated && <TickIcon />}\r\n          onChange={() => setIsHostUpdated(false)}\r\n          error={formState.errors.websocketHost}\r\n          register={register(\"websocketHost\", { required: \"Hostname is required\" })}\r\n        />\r\n        <GridBox half />\r\n        <NameValuePair name=\"Transport status\">{transportStatus}</NameValuePair>\r\n        <GridBox half />\r\n        <Expanded />\r\n        <BlockButton type=\"submit\" onClick={handleSubmit(onSubmit)}>\r\n          Update remote host\r\n        </BlockButton>\r\n        <GridBox />\r\n        <TextButton onClick={() => history.push(buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH))}>\r\n          Continue\r\n        </TextButton>\r\n      </Form>\r\n    </View>\r\n  );\r\n};\r\n","export function storeWebsocketHost(websocketHost: string) {\r\n  localStorage.websocketHost = websocketHost;\r\n}\r\n","import classNames from \"classnames\";\r\nimport React, { useCallback } from \"react\";\r\nimport { Column } from \"../Column/Column\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Row } from \"../Row/Row\";\r\nimport { Stack } from \"../Stack/Stack\";\r\nimport styles from \"./MainMenu.module.scss\";\r\n\r\nexport type OnTopMenuItemClickCallback = (index: number) => void;\r\n\r\nexport interface MainMenuProps extends FlexProps {\r\n  activeItemIndex: number;\r\n  onItemClick: OnTopMenuItemClickCallback;\r\n}\r\n\r\nexport const MainMenu: React.FC<MainMenuProps> = ({ activeItemIndex, onItemClick, children, ...rest }) => {\r\n  // called on menu items click\r\n  const handleItemClick = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement>) => {\r\n      // dataset only exists on html elements, throw error if we get something else\r\n      if (!(e.currentTarget instanceof HTMLElement)) {\r\n        throw new Error(\"Expected main menu item to be html element but got something else, this should not happen\");\r\n      }\r\n\r\n      // get index data attribute\r\n      const indexString = e.currentTarget.dataset.index;\r\n\r\n      // the \"data-index\" attribute should always be defined\r\n      if (indexString === undefined) {\r\n        throw new Error(\r\n          \"Expected clicked main menu item to contain menu index as data attribute but found none, this should not happen\",\r\n        );\r\n      }\r\n\r\n      // get clicked menu index from data attribute\r\n      const index = parseInt(indexString, 10);\r\n\r\n      onItemClick(index);\r\n    },\r\n    [onItemClick],\r\n  );\r\n\r\n  return (\r\n    <Stack ignorePointerEvents className={styles.stack} {...rest}>\r\n      <div className={styles[\"background-behind\"]} />\r\n      <Row mainAxisAlignment=\"space-evenly\">\r\n        {React.Children.map(children, (child, index) => {\r\n          // clone top menu items with isActive=true if item index matches activeItemIndex\r\n          if (React.isValidElement(child)) {\r\n            return React.cloneElement(child, {\r\n              \"data-index\": index,\r\n              active: activeItemIndex === index,\r\n              background: true,\r\n              onClick: handleItemClick,\r\n            });\r\n          }\r\n\r\n          return child;\r\n        })}\r\n      </Row>\r\n      <div className={styles[\"background-front\"]} />\r\n      <Row mainAxisAlignment=\"space-evenly\">\r\n        {React.Children.map(children, (child, index) => {\r\n          if (React.isValidElement(child)) {\r\n            return React.cloneElement(child, {\r\n              \"data-index\": index,\r\n              active: activeItemIndex === index,\r\n              background: false,\r\n              onClick: handleItemClick,\r\n            });\r\n          }\r\n\r\n          return child;\r\n        })}\r\n      </Row>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport interface MainMenuItemProps extends FlexProps {\r\n  icon?: React.ReactNode;\r\n  active?: boolean;\r\n  background?: boolean;\r\n}\r\n\r\nexport const MainMenuItem: React.FC<MainMenuItemProps> = React.memo(function MainMenuItem({\r\n  icon,\r\n  active,\r\n  background,\r\n  className,\r\n  children,\r\n  ...rest\r\n}) {\r\n  return (\r\n    <Column\r\n      className={classNames(\r\n        styles[\"main-menu-item\"],\r\n        {\r\n          [styles[\"main-menu-item--active\"]]: active,\r\n          [styles[\"main-menu-item--background\"]]: background,\r\n        },\r\n        className,\r\n      )}\r\n      {...rest}\r\n    >\r\n      <Container center expanded className={styles[\"main-menu-icon\"]}>\r\n        {icon}\r\n      </Container>\r\n      <Container className={styles[\"main-menu-text\"]}>{children}</Container>\r\n    </Column>\r\n  );\r\n});\r\n","import { useEffect } from \"react\";\r\n\r\n// number of components that have requested to disable scrolling\r\nlet disablerCount = 0;\r\n\r\nexport function useDisableScrolling(isEnabled = true) {\r\n  useEffect(() => {\r\n    if (isEnabled) {\r\n      const notScrollableClassName = \"not-scrollable\";\r\n\r\n      // add class for first disabler\r\n      if (disablerCount === 0) {\r\n        document.querySelector(\"body\")?.classList.add(notScrollableClassName);\r\n      }\r\n\r\n      disablerCount++;\r\n\r\n      return () => {\r\n        disablerCount--;\r\n\r\n        // remove class if all disablers have quit\r\n        if (disablerCount === 0) {\r\n          document.querySelector(\"body\")?.classList.remove(notScrollableClassName);\r\n        }\r\n      };\r\n    }\r\n  }, [isEnabled]);\r\n}\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMapIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"32px\",\n    height: \"32px\",\n    viewBox: \"0 0 32 32\",\n    enableBackground: \"new 0 0 32 32\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M0.943,28.222l9.371,3.742C10.375,31.989,10.438,32,10.5,32c0.062,0,0.126-0.012,0.186-0.036l9.823-3.923 l9.48,3.441c0.166,0.061,0.339,0.09,0.512,0.09c0.304,0,0.604-0.092,0.86-0.271c0.4-0.28,0.64-0.74,0.64-1.229V9.194 c0-0.629-0.397-1.195-0.988-1.41l-5.997-2.177c-0.262-0.091-0.547,0.04-0.641,0.3c-0.095,0.259,0.039,0.546,0.299,0.641 l5.997,2.177C30.867,8.796,31,8.985,31,9.194v20.879c0,0.165-0.078,0.314-0.213,0.41c-0.138,0.095-0.303,0.117-0.457,0.06 L21,27.156V19c0-0.276-0.224-0.5-0.5-0.5S20,18.724,20,19v8.167l-9,3.594V20c0-0.276-0.224-0.5-0.5-0.5S10,19.724,10,20v10.762 l-8.686-3.468C1.123,27.217,1,27.035,1,26.829V5.976c0-0.168,0.08-0.319,0.22-0.414c0.14-0.094,0.309-0.113,0.466-0.05l3.24,1.294 c0.255,0.104,0.547-0.023,0.649-0.279c0.103-0.256-0.022-0.547-0.278-0.65l-3.24-1.294C1.593,4.397,1.071,4.456,0.658,4.734 C0.246,5.014,0,5.478,0,5.976v20.853C0,27.446,0.37,27.993,0.943,28.222z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M14.057,22.467C14.287,22.801,14.668,23,15.074,23c0.409,0,0.791-0.202,1.019-0.536l3.696-5.308L21.863,14 c1.475-1.868,2.104-4.207,1.771-6.586c-0.534-3.829-3.722-6.923-7.58-7.358C10.821-0.524,6.373,3.55,6.373,8.651 c0,1.997,0.648,3.77,2.096,5.738L14.057,22.467z M15.047,1c0.295,0,0.594,0.017,0.896,0.051c3.41,0.384,6.229,3.119,6.701,6.502 c0.294,2.106-0.263,4.176-1.592,5.862l-2.092,3.18l-3.691,5.301c-0.123,0.18-0.268,0.179-0.391,0.001l-5.596-8.089 c-1.321-1.797-1.91-3.388-1.91-5.158C7.373,4.432,10.815,1,15.047,1z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M15.002,11.651c1.654,0,3-1.346,3-3s-1.346-3-3-3s-3,1.346-3,3S13.348,11.651,15.002,11.651z M15.002,6.651 c1.103,0,2,0.897,2,2s-0.897,2-2,2s-2-0.897-2-2S13.899,6.651,15.002,6.651z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMapIcon);\nexport default __webpack_public_path__ + \"static/media/map-icon.3353dac9.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRemoteIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"data-name\": \"Layer 1\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 32 32\",\n    fill: \"#858578\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31,11.44A6.49,6.49,0,0,0,19.82,7H12.18A6.49,6.49,0,0,0,1,11.44,84.11,84.11,0,0,0,0,23.53c0,2.42,1,4,2.92,4.36A5.41,5.41,0,0,0,4,28a3.9,3.9,0,0,0,3.82-2.82c0.39-1.1,1.09-2.62,1.52-3.54A4,4,0,0,0,14.87,19h2.26a4,4,0,0,0,5.52,2.64c0.43,0.91,1.13,2.43,1.52,3.54A3.9,3.9,0,0,0,28,28a5.4,5.4,0,0,0,1.09-.11C31,27.5,32,25.95,32,23.53A84.11,84.11,0,0,0,31,11.44ZM6.89,24.85a3,3,0,0,1-3.77,2.06C1.37,26.54,1,24.87,1,23.53a78.9,78.9,0,0,1,.62-9.28A6.52,6.52,0,0,0,7,18v0a4,4,0,0,0,1.5,3.11C8,22.13,7.3,23.68,6.89,24.85ZM11,21a3,3,0,0,1-3-3,2.89,2.89,0,0,1,0-.43l0-.57H7.5a5.5,5.5,0,1,1,4.57-2.44L11.75,15l0.53,0.25A3,3,0,0,1,11,21Zm4-3a4,4,0,0,0-1.82-3.35A6.48,6.48,0,0,0,13,8H19a6.48,6.48,0,0,0-.22,6.65A4,4,0,0,0,17,18H15Zm3,0a3,3,0,0,1,1.73-2.71L20.25,15l-0.32-.48A5.5,5.5,0,1,1,24.52,17H23.88L24,17.57A2.89,2.89,0,0,1,24,18,3,3,0,0,1,18,18Zm10.88,8.91a3,3,0,0,1-3.77-2.06C24.7,23.68,24,22.13,23.5,21.11A4,4,0,0,0,25,18v0a6.51,6.51,0,0,0,5.38-3.73A79,79,0,0,1,31,23.53C31,24.87,30.63,26.54,28.88,26.91Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9,13h2V10H9V8H6v2H4v3H6v2H9V13ZM8,14H7V12H5V11H7V9H8v2h2v1H8v2Z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5,10A1.5,1.5,0,1,0,23,8.5,1.5,1.5,0,0,0,24.5,10Zm0-2a0.5,0.5,0,1,1-.5.5A0.5,0.5,0,0,1,24.5,8Z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5,16A1.5,1.5,0,1,0,23,14.5,1.5,1.5,0,0,0,24.5,16Zm0-2a0.5,0.5,0,1,1-.5.5A0.5,0.5,0,0,1,24.5,14Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.5,13A1.5,1.5,0,1,0,20,11.5,1.5,1.5,0,0,0,21.5,13Zm0-2a0.5,0.5,0,1,1-.5.5A0.5,0.5,0,0,1,21.5,11Z\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27.5,13A1.5,1.5,0,1,0,26,11.5,1.5,1.5,0,0,0,27.5,13Zm0-2a0.5,0.5,0,1,1-.5.5A0.5,0.5,0,0,1,27.5,11Z\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11,16a2,2,0,1,0,2,2A2,2,0,0,0,11,16Zm0,3a1,1,0,1,1,1-1A1,1,0,0,1,11,19Z\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21,16a2,2,0,1,0,2,2A2,2,0,0,0,21,16Zm0,3a1,1,0,1,1,1-1A1,1,0,0,1,21,19Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoteIcon);\nexport default __webpack_public_path__ + \"static/media/remote-icon.b2586417.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSettingsIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"32px\",\n    height: \"32px\",\n    viewBox: \"0 0 32 32\",\n    enableBackground: \"new 0 0 32 32\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M1.836,23.001c-1.042,0.891-1.672,2.188-1.728,3.559c-0.056,1.37,0.467,2.714,1.435,3.687 c0.935,0.939,2.179,1.457,3.504,1.457c1.424,0,2.778-0.613,3.716-1.681l6.626-7.474l7.739,7.739 c0.916,0.916,2.134,1.421,3.429,1.421c1.296,0,2.514-0.505,3.43-1.421s1.421-2.134,1.421-3.43c0-1.295-0.505-2.513-1.421-3.429 l-8.152-8.152l2.042-2.303c0.604,0.172,1.225,0.259,1.848,0.259c1.903,0,3.659-0.817,4.818-2.242c1.601-1.967,1.8-4.746,0.507-7.08 c-0.291-0.524-1.166-0.503-1.443,0.031l-1.473,2.837c-0.354,0.683-1.248,0.967-1.937,0.612l-1.502-0.782 c-0.341-0.176-0.592-0.475-0.707-0.84c-0.116-0.365-0.082-0.754,0.094-1.094l1.66-3.188c0.133-0.256,0.124-0.556-0.025-0.804 c-0.146-0.242-0.401-0.39-0.75-0.392c-1.903,0-3.66,0.816-4.819,2.241c-1.285,1.579-1.679,3.691-1.079,5.712l-5.612,4.806 L5.739,5.334C6.204,4.658,6.346,3.819,6.08,3.012C5.768,2.065,5.002,1.38,4.033,1.177L1.97,0.744 C1.544,0.653,1.1,0.787,0.793,1.095c-0.309,0.309-0.44,0.749-0.351,1.177l0.433,2.063c0.265,1.266,1.396,2.186,2.69,2.186 c0.537,0,1.038-0.166,1.476-0.47l7.653,7.653L1.836,23.001z M3.565,5.538c-0.706,0-1.521-0.46-1.712-1.373L1.421,2.136 C1.401,2.04,1.431,2.01,1.5,1.941C1.55,1.891,1.615,2,1.73,2c0.011,0,0.022,0,0.034,0l2.063,0.295 C4.444,2.424,4.931,2.724,5.13,3.327C5.319,3.9,5.197,4.507,4.811,4.943L4.643,5.116C4.339,5.386,3.966,5.538,3.565,5.538z  M29.279,24.137c0.728,0.727,1.128,1.693,1.128,2.722c0,1.029-0.4,1.996-1.128,2.723c-1.452,1.455-3.99,1.455-5.444,0l-7.782-7.782 l5.117-5.772L29.279,24.137z M20.118,8.242c-0.63-1.786-0.329-3.685,0.805-5.078C21.83,2.05,23.18,1.38,24.712,1.3l-1.518,2.914 c-0.299,0.578-0.356,1.237-0.16,1.857s0.623,1.127,1.2,1.426l1.502,0.782c0.347,0.179,0.733,0.273,1.121,0.273 c0.913,0,1.742-0.503,2.163-1.312l1.315-2.533c0.913,1.905,0.703,4.091-0.568,5.653c-1.347,1.654-3.753,2.286-5.891,1.567 c-0.19-0.063-0.399-0.008-0.534,0.142L8.013,29.36c-0.749,0.854-1.83,1.343-2.966,1.343c-1.057,0-2.05-0.413-2.795-1.162 c-0.783-0.787-1.189-1.832-1.145-2.941s0.534-2.117,1.379-2.839L19.972,8.788C20.129,8.653,20.187,8.437,20.118,8.242z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M19.877,21.033l6.026,6.026c0.098,0.098,0.226,0.146,0.354,0.146s0.256-0.049,0.354-0.146 c0.195-0.195,0.195-0.512,0-0.707l-6.026-6.026c-0.195-0.195-0.512-0.195-0.707,0S19.682,20.838,19.877,21.033z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M5.065,24.769c-1.103,0-2,0.897-2,2s0.897,2,2,2s2-0.897,2-2S6.168,24.769,5.065,24.769z M5.065,27.769 c-0.552,0-1-0.448-1-1s0.448-1,1-1s1,0.448,1,1S5.617,27.769,5.065,27.769z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettingsIcon);\nexport default __webpack_public_path__ + \"static/media/settings-icon.d42fba96.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStatusIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"37px\",\n    height: \"32px\",\n    viewBox: \"0 0 37 32\",\n    enableBackground: \"new 0 0 37 32\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M28.098,21.031l-9.771,9.763l-9.425-9.354c-0.196-0.196-0.513-0.194-0.707,0.002 c-0.195,0.196-0.193,0.513,0.002,0.707l9.778,9.706C18.072,31.951,18.2,32,18.327,32c0.128,0,0.256-0.049,0.354-0.146 l10.124-10.115c0.195-0.195,0.195-0.512,0-0.707S28.293,20.836,28.098,21.031z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M20.253,2.862c-0.046,0.048-0.938,0.987-1.676,2.54c-0.469-0.945-1.084-1.799-1.838-2.548 c-3.823-3.799-10.045-3.798-13.866,0C1.021,4.696,0,7.146,0,9.75s1.021,5.053,2.873,6.894c0.196,0.194,0.513,0.194,0.707-0.002 s0.193-0.513-0.002-0.707C1.916,14.282,1,12.086,1,9.75c0-2.337,0.916-4.534,2.578-6.187c3.433-3.412,9.021-3.412,12.456,0 c0.938,0.933,1.638,1.942,2.079,3.206C18.183,6.969,18.372,7,18.585,7c0.001,0,0.001,0,0.002,0c0.214,0,0.403-0.033,0.472-0.235 c0.682-2.008,1.903-3.25,1.907-3.254c3.433-3.412,9.021-3.386,12.456,0.026C35.084,5.19,36,7.4,36,9.737 c0,2.336-0.916,4.539-2.578,6.191c-0.195,0.194-0.196,0.514-0.002,0.71c0.098,0.099,0.226,0.149,0.354,0.149 c0.127,0,0.255-0.048,0.353-0.145C35.979,14.802,37,12.354,37,9.75s-1.021-5.054-2.873-6.895 C30.304-0.946,24.082-0.943,20.253,2.862z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#858578\",\n    d: \"M35.5,18H24.431c-0.173,0-0.333,0.089-0.425,0.235l-1.99,3.194l-2.534-8.739 c-0.059-0.199-0.233-0.343-0.441-0.358c-0.207-0.021-0.403,0.098-0.491,0.285l-3.272,6.962l-1.942-3.947 c-0.073-0.149-0.216-0.252-0.38-0.274c-0.169-0.018-0.331,0.038-0.44,0.161L10.29,18H1.5C1.224,18,1,18.224,1,18.5S1.224,19,1.5,19 h9.014c0.143,0,0.277-0.09,0.372-0.195l1.878-2.126l2.074,4.158C14.922,21.008,15.096,21,15.286,21c0.001,0,0.003,0,0.005,0 c0.191,0,0.366,0.003,0.447-0.171l3.151-6.587l2.478,8.542c0.056,0.189,0.217,0.328,0.412,0.355 c0.022,0.003,0.046,0.005,0.068,0.005c0.171,0,0.332-0.088,0.425-0.235L24.708,19H35.5c0.276,0,0.5-0.224,0.5-0.5 S35.776,18,35.5,18z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStatusIcon);\nexport default __webpack_public_path__ + \"static/media/status-icon.975106d4.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { View } from \"../../components/View/View\";\r\n\r\nexport const ControllerView: React.FC = () => <View center>Controller view</View>;\r\n","import React from \"react\";\r\nimport { View } from \"../../components/View/View\";\r\n\r\nexport const MapView: React.FC = () => <View center>Map view</View>;\r\n","export const config = {\r\n  clientVersion: process.env.REACT_APP_VERSION || \"n/a\",\r\n  debug: process.env.NODE_ENV === \"development\",\r\n  websocket: {\r\n    // allow overriding web-socket options via local storage\r\n    host:\r\n      // process.env.NODE_ENV === \"development\" &&\r\n      localStorage.websocketHost !== undefined ? localStorage.websocketHost : \"127.0.0.1\",\r\n    port: localStorage.websocketPort !== undefined ? parseInt(localStorage.websocketPort, 10) : 8000,\r\n    useSSL: false,\r\n    reconnectInterval: 3000,\r\n  },\r\n  battery: {\r\n    low: 15.0,\r\n    // critical: 13.9,\r\n    // TODO: using higher threshold for testing\r\n    critical: 14.0,\r\n    alarmInterval: 5000,\r\n  },\r\n  vehicle: {\r\n    trackWidth: 0.12, // meters\r\n    maxSpeed: 1.5, // meters per second\r\n    wheelDiameter: 0.047, // meters\r\n    trackIcrMultiplier: 1.2, // need to find by testing rotation speed, larger values make rotation slower\r\n    encoderCountsPerRotation: 20, // encoder pulse count per revolution\r\n    gearboxRatio: 25, // 25/1 gearbox ratio\r\n    speedUpdateInterval: 1000 / 60, // 60Hz\r\n  },\r\n  rates: {\r\n    rcRate: 1.0,\r\n    expoRate: 0.0,\r\n    superRate: 0.7,\r\n  },\r\n  odometry: {\r\n    maxStepCount: 1000,\r\n    minimumStepDistanceMeters: 0.05,\r\n  },\r\n  log: {\r\n    ignoreSentCommands: [\"s\"],\r\n    ignoreReceivedCommands: [\"s\", \"t\", \"e\", \"h\", \"m\", \"v\"],\r\n  },\r\n};\r\n","import { dummyLogger, Logger } from \"ts-log\";\r\n\r\nimport { ManagedGamepad, HandleUpdateFn } from \"./\";\r\n\r\nexport interface GamepadManagerOptions {\r\n  readonly log?: Logger;\r\n  readonly autoPoll?: boolean;\r\n  readonly defaultDeadzone?: number;\r\n  onConnect?(gamepad: ManagedGamepad): void;\r\n  onDisconnect?(gamepad: ManagedGamepad): void;\r\n  onUpdate?: HandleUpdateFn;\r\n}\r\n\r\nexport class GamepadManager {\r\n  gamepads: ManagedGamepad[] = [];\r\n  private _handleGamepadConnected = this.handleGamepadConnected.bind(this);\r\n  private _handleGamepadDisconnected = this.handleGamepadDisconnected.bind(this);\r\n\r\n  constructor(private options: GamepadManagerOptions = {}) {\r\n    // detect gamepad support\r\n    if (typeof navigator.getGamepads !== \"function\") {\r\n      this.log.info(\"gamepads are not supported\");\r\n\r\n      return;\r\n    }\r\n\r\n    // listen for gamepad connect events\r\n    window.addEventListener(\"gamepadconnected\", this._handleGamepadConnected);\r\n\r\n    // listen for gamepad disconnect events\r\n    window.addEventListener(\"gamepaddisconnected\", this._handleGamepadDisconnected);\r\n\r\n    // get existing gamepads\r\n    const gamepads = Array.from(navigator.getGamepads());\r\n\r\n    // register existing gamepads\r\n    gamepads.forEach((gamepad) => {\r\n      if (!gamepad) {\r\n        return;\r\n      }\r\n\r\n      this.handleGamepadConnected(({\r\n        gamepad: gamepad,\r\n      } as unknown) as Event);\r\n    });\r\n  }\r\n\r\n  get log() {\r\n    if (!this.options.log) {\r\n      return dummyLogger;\r\n    }\r\n\r\n    return this.options.log;\r\n  }\r\n\r\n  destroy() {\r\n    // remove event listeners\r\n    window.removeEventListener(\"gamepadconnected\", this._handleGamepadConnected);\r\n    window.removeEventListener(\"gamepaddisconnected\", this._handleGamepadDisconnected);\r\n\r\n    // stop polling gamepads\r\n    this.gamepads.forEach((gamepad) => gamepad.stopPolling());\r\n  }\r\n\r\n  handleGamepadConnected(e: Event) {\r\n    const event = e as GamepadEvent;\r\n    const gamepad = event.gamepad;\r\n\r\n    this.log.info(\r\n      `gamepad #${gamepad.index} \"${gamepad.id}\" connected (${gamepad.buttons.length} buttons, ${gamepad.axes.length} axes)`,\r\n    );\r\n\r\n    // use provided deadzone if available, otherwise calculate default deadzone\r\n    const defaultDeadzone =\r\n      this.options.defaultDeadzone !== undefined\r\n        ? this.options.defaultDeadzone\r\n        : GamepadManager.getAutoDeadzone([...gamepad.axes]);\r\n\r\n    console.log({ defaultDeadzone });\r\n\r\n    // create managed gamepad\r\n    const managedGamepad = new ManagedGamepad({\r\n      id: gamepad.id,\r\n      index: gamepad.index,\r\n      defaultDeadzone,\r\n      log: this.log,\r\n    });\r\n\r\n    // store reference\r\n    this.gamepads.push(managedGamepad);\r\n\r\n    const { onConnect, onUpdate, autoPoll = true } = this.options;\r\n\r\n    // trigger connect event\r\n    if (onConnect) {\r\n      onConnect(managedGamepad);\r\n    }\r\n\r\n    // listen for updates, trigger update events\r\n    if (onUpdate) {\r\n      managedGamepad.addUpdateListener(onUpdate);\r\n    }\r\n\r\n    // start polling if requested automatically\r\n    if (autoPoll) {\r\n      managedGamepad.startPolling();\r\n    }\r\n  }\r\n\r\n  handleGamepadDisconnected(e: Event) {\r\n    const event = e as GamepadEvent;\r\n    const gamepad = event.gamepad;\r\n\r\n    // attempt to find the gamepad by index\r\n    const managedGamepad = this.getGamepadByIndex(gamepad.index);\r\n\r\n    // handle failure to find the gamepad\r\n    if (!managedGamepad) {\r\n      this.log.warn(\r\n        `gamepad #${gamepad.index} \"${gamepad.id}\" disconnected but no managed gamepad with this index was found, this should not happen`,\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    this.log.info(`gamepad #${gamepad.index} \"${gamepad.id}\" disconnected`);\r\n\r\n    // remove the gamepad from the list of managed gamepads\r\n    this.gamepads = this.gamepads.filter((item) => item !== managedGamepad);\r\n\r\n    // stop polling\r\n    managedGamepad.stopPolling();\r\n\r\n    const { onDisconnect } = this.options;\r\n\r\n    // trigger disconnect event\r\n    if (onDisconnect) {\r\n      onDisconnect(managedGamepad);\r\n    }\r\n  }\r\n\r\n  static getAutoDeadzone(axes: number[], multiplier = 1.5) {\r\n    let maxAxisValue = 0;\r\n\r\n    axes.forEach((axisValue) => {\r\n      const absValue = Math.abs(axisValue);\r\n\r\n      if (absValue > maxAxisValue) {\r\n        maxAxisValue = absValue;\r\n      }\r\n    });\r\n\r\n    // add some headroom as current offset might not be the worst possible\r\n    return maxAxisValue * multiplier;\r\n  }\r\n\r\n  getGamepadByIndex(index: number) {\r\n    return this.gamepads.find((gamepad) => gamepad.index === index);\r\n  }\r\n\r\n  getFirstAvailableGamepad() {\r\n    return this.gamepads.length > 0 ? this.gamepads[0] : undefined;\r\n  }\r\n}\r\n","import { dummyLogger, Logger } from \"ts-log\";\r\n\r\nexport interface ManagedGamepadOptions {\r\n  readonly index: number;\r\n  readonly id: string;\r\n  readonly defaultDeadzone?: number;\r\n  readonly log?: Logger;\r\n}\r\n\r\nexport type HandleUpdateFn = (gamepad: ManagedGamepad, haveButtonsChanged: boolean) => void;\r\n\r\nexport class ManagedGamepad {\r\n  index: number;\r\n  axes: number[] = [];\r\n  buttons: GamepadButton[] = [];\r\n  private axisDeadzone: number[] = [];\r\n  private defaultDeadzone: number = 0;\r\n  private readonly options: Required<ManagedGamepadOptions>;\r\n  private updateListeners: HandleUpdateFn[] = [];\r\n  private isPolling = false;\r\n  private animationFrameRequest?: number;\r\n\r\n  constructor(options: ManagedGamepadOptions) {\r\n    this.options = {\r\n      defaultDeadzone: 0,\r\n      log: dummyLogger,\r\n      ...options,\r\n    };\r\n    this.index = this.options.index;\r\n    this.defaultDeadzone = this.options.defaultDeadzone;\r\n\r\n    // get initial state\r\n    this.poll();\r\n  }\r\n\r\n  get id() {\r\n    return this.options.id;\r\n  }\r\n\r\n  get log() {\r\n    return this.options.log;\r\n  }\r\n\r\n  setAxisDeadzone(axisIndex: number, deadzone: number) {\r\n    this.axisDeadzone[axisIndex] = deadzone;\r\n  }\r\n\r\n  setDefaultDeadzone(deadzone: number) {\r\n    this.defaultDeadzone = deadzone;\r\n  }\r\n\r\n  addUpdateListener(listener: HandleUpdateFn) {\r\n    this.updateListeners.push(listener);\r\n  }\r\n\r\n  removeUpdateListener(listener: HandleUpdateFn) {\r\n    this.updateListeners = this.updateListeners.filter((item) => item !== listener);\r\n  }\r\n\r\n  startPolling() {\r\n    if (!this.isPolling) {\r\n      this.log.info(`starting polling of gamepad #${this.index}`);\r\n    }\r\n\r\n    // we're now in polling mode\r\n    this.isPolling = true;\r\n\r\n    // request animation frame for polling\r\n    this.animationFrameRequest = requestAnimationFrame(() => {\r\n      this.animationFrameRequest = undefined;\r\n\r\n      // perform poll\r\n      this.poll();\r\n\r\n      // request another poll if not stopped\r\n      if (this.isPolling) {\r\n        this.startPolling();\r\n      }\r\n    });\r\n  }\r\n\r\n  stopPolling() {\r\n    // do nothing if not polling\r\n    if (!this.isPolling) {\r\n      return;\r\n    }\r\n\r\n    // not polling any more\r\n    this.isPolling = false;\r\n\r\n    this.log.info(`stopping polling of gamepad #${this.index}`);\r\n\r\n    // cancel next animation frame if scheduled\r\n    if (this.animationFrameRequest !== undefined) {\r\n      cancelAnimationFrame(this.animationFrameRequest);\r\n    }\r\n  }\r\n\r\n  poll() {\r\n    // get current gamepad info\r\n    const gamepad = this.getCurrentState();\r\n\r\n    // give up if not found\r\n    if (!gamepad) {\r\n      this.log.warn(`attempted to poll gamepad #${this.index} but the gamepad could not be found`);\r\n\r\n      // stop polling unavailable gamepad\r\n      if (this.isPolling) {\r\n        this.stopPolling();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // check whether buttons state has changed\r\n    const newButtons = [...gamepad.buttons];\r\n    const haveButtonsChanged = newButtons.reduce((haveChanged, newButton, index) => {\r\n      // return true if have already found a button that changed\r\n      if (haveChanged) {\r\n        return true;\r\n      }\r\n\r\n      const previousButton = this.buttons[index] as GamepadButton | undefined;\r\n\r\n      // return changed if no previous button with the same index existed\r\n      if (!previousButton) {\r\n        return true;\r\n      }\r\n\r\n      // check whether button state at the same index has changed\r\n      if (\r\n        newButton.pressed !== previousButton.pressed ||\r\n        newButton.touched !== previousButton.touched ||\r\n        newButton.value !== previousButton.value\r\n      ) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    }, false);\r\n\r\n    // store current state\r\n    this.axes = [...gamepad.axes];\r\n    this.buttons = newButtons;\r\n\r\n    // applies deadzone to axes\r\n    this.applyDeadzone();\r\n\r\n    // call the update listeners\r\n    for (const updateListener of this.updateListeners) {\r\n      updateListener(this, haveButtonsChanged);\r\n    }\r\n  }\r\n\r\n  private getCurrentState() {\r\n    // get gamepad by index\r\n    const gamepad = navigator.getGamepads()[this.index];\r\n\r\n    // return undefined if no valid gamepad could be found\r\n    if (gamepad === undefined || gamepad === null) {\r\n      return undefined;\r\n    }\r\n\r\n    return gamepad;\r\n  }\r\n\r\n  private applyDeadzone() {\r\n    this.axes = this.axes.map((value, index) => {\r\n      const deadzone = this.axisDeadzone[index] !== undefined ? this.axisDeadzone[index] : this.defaultDeadzone;\r\n\r\n      if (Math.abs(value) < deadzone) {\r\n        return 0;\r\n      }\r\n\r\n      return value;\r\n    });\r\n  }\r\n}\r\n","import { config } from \"../../config\";\r\n\r\nexport interface TrackedVehicleOptions {\r\n  trackWidth: number;\r\n  maxSpeed: number;\r\n  wheelDiameter: number;\r\n}\r\n\r\nexport interface MotorValue {\r\n  left: number;\r\n  right: number;\r\n}\r\n\r\nexport interface VectorCoordinates {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport type Position = VectorCoordinates;\r\nexport type Velocity = VectorCoordinates;\r\n\r\nexport interface Pose {\r\n  position: Position;\r\n  velocity: Position;\r\n  angle: number;\r\n}\r\n\r\nexport interface Motion {\r\n  velocity: Velocity;\r\n  omega: number;\r\n}\r\n\r\n// https://pdfs.semanticscholar.org/29ae/0bc974737b58afd63b6edb8d0837a3383321.pdf\r\nexport class TrackedVehicleKinematics {\r\n  constructor(private readonly options: TrackedVehicleOptions) {}\r\n\r\n  static isSpeedDifferent(a: MotorValue, b: MotorValue, threshold = 0) {\r\n    const leftDifference = Math.abs(a.left - b.left);\r\n    const rightDifference = Math.abs(a.right - b.right);\r\n\r\n    const isLeftDifferent = leftDifference > threshold;\r\n    const isRightDifferent = rightDifference > threshold;\r\n\r\n    return isLeftDifferent || isRightDifferent;\r\n  }\r\n\r\n  static getLimitedSpeed(speed: MotorValue, maxSpeed: number): MotorValue {\r\n    const maxRequestedSpeedMagnitude = Math.max(Math.abs(speed.left), Math.abs(speed.right));\r\n\r\n    // preserve omega no matter what\r\n    // const excessSpeed = Math.max(maxRequestedSpeedMagnitude - maxSpeed, 0);\r\n    // const limitedSpeed: MotorValue = {\r\n    //   left: speed.left - excessSpeed * Math.sign(speed.left),\r\n    //   right: speed.right - excessSpeed * Math.sign(speed.right),\r\n    // };\r\n\r\n    /// reduces speed and omega together\r\n    const normalizationFactor = Math.min(maxSpeed / maxRequestedSpeedMagnitude, 1.0);\r\n    const limitedSpeed: MotorValue = {\r\n      left: speed.left * normalizationFactor,\r\n      right: speed.right * normalizationFactor,\r\n    };\r\n\r\n    // console.log(\"getLimitedSpeed\", {\r\n    //   speed,\r\n    //   maxSpeed,\r\n    //   maxRequestedSpeedMagnitude,\r\n    //   excessSpeed,\r\n    //   // normalizationFactor,\r\n    //   limitedSpeed,\r\n    // });\r\n\r\n    return limitedSpeed;\r\n  }\r\n\r\n  static getUpdatedPose(currentPose: Pose, motion: Motion, dt: number): Pose {\r\n    // calculate angle change and updated angle\r\n    const angleChange = motion.omega * dt;\r\n    const updatedAngle = currentPose.angle + angleChange;\r\n\r\n    // our coordinate system is rotated by 90 degrees\r\n    // TODO: any way this is not needed?\r\n    const coordinateSystemRotation = Math.PI / 2;\r\n\r\n    // calculate position change, x speed is applied at 90 degrees (PI/2) offset\r\n    const positionChange = {\r\n      x:\r\n        motion.velocity.y * Math.cos(currentPose.angle + angleChange / 2 + coordinateSystemRotation) * dt -\r\n        motion.velocity.x * Math.cos(currentPose.angle + angleChange / 2 + coordinateSystemRotation + Math.PI / 2) * dt,\r\n      y:\r\n        motion.velocity.y * Math.sin(currentPose.angle + angleChange / 2 + coordinateSystemRotation) * dt -\r\n        motion.velocity.x * Math.sin(currentPose.angle + angleChange / 2 + coordinateSystemRotation + Math.PI / 2) * dt,\r\n    };\r\n\r\n    return {\r\n      position: {\r\n        x: currentPose.position.x + positionChange.x,\r\n        y: currentPose.position.y + positionChange.y,\r\n      },\r\n      angle: updatedAngle,\r\n      velocity: motion.velocity,\r\n    };\r\n  }\r\n\r\n  speedToRpm(speedMetersPerSecond: number) {\r\n    const circumference = this.options.wheelDiameter * Math.PI;\r\n    const rotationsPerSecond = speedMetersPerSecond / circumference;\r\n    const rotationPerMinute = rotationsPerSecond * 60;\r\n\r\n    return rotationPerMinute;\r\n  }\r\n\r\n  speedsToRpms(speedsMetersPerSecond: MotorValue): MotorValue {\r\n    return {\r\n      left: this.speedToRpm(speedsMetersPerSecond.left),\r\n      right: this.speedToRpm(speedsMetersPerSecond.right),\r\n    };\r\n  }\r\n\r\n  rpmToSpeed(rotationPerMinute: number) {\r\n    const circumference = this.options.wheelDiameter * Math.PI;\r\n    const rotationsPerSecond = rotationPerMinute / 60;\r\n    const speedMetersPerSecond = rotationsPerSecond * circumference;\r\n\r\n    return speedMetersPerSecond;\r\n  }\r\n\r\n  rpmsToSpeeds(rotationsPerMinute: MotorValue): MotorValue {\r\n    return {\r\n      left: this.rpmToSpeed(rotationsPerMinute.left),\r\n      right: this.rpmToSpeed(rotationsPerMinute.right),\r\n    };\r\n  }\r\n\r\n  // TODO: calculate actual kinematics\r\n  motionToSpeeds(speed: number, omega: number): MotorValue {\r\n    const speeds: MotorValue = {\r\n      left: speed + omega,\r\n      right: speed - omega,\r\n    };\r\n\r\n    // return speeds;\r\n\r\n    return TrackedVehicleKinematics.getLimitedSpeed(speeds, this.options.maxSpeed);\r\n  }\r\n\r\n  /**\r\n   * The local frame of the vehicle is assumed to have its origin on the center of the area defined by both tracks, and\r\n   * its Y axis is aligned with the forward motion direction.\r\n   *\r\n   * Instantaneous Center of Rotation (ICR) of a vehicle, considered as a rigid body, is defined as the point in the\r\n   * plane where the motion of the vehicle can be represented by a rotation and no translation occurs.\r\n   *\r\n   * @param trackRpms Rotational speeds of the tracks\r\n   */\r\n  getMotionFromMotorRpms(trackRpms: MotorValue): Motion {\r\n    // TODO: convert encoder speeds to track speeds in meters per second\r\n    // const motorSpeed = this.encoderToMotorSpeed(encoderSpeed);\r\n    const trackSpeeds = this.rpmsToSpeeds(trackRpms);\r\n    // TODO: this is not really true, only for perfect differential drive\r\n    const icrY = 0;\r\n    const icrXLeft = -this.options.trackWidth * config.vehicle.trackIcrMultiplier;\r\n    const icrXRight = this.options.trackWidth * config.vehicle.trackIcrMultiplier;\r\n\r\n    // velocity in x direction (side to side) is zero if Y ICR is zero\r\n    const velocityX = ((trackSpeeds.right - trackSpeeds.left) / (icrXRight - icrXLeft)) * icrY;\r\n\r\n    // longitudinal velocity (forward velocity)\r\n    const velocityY =\r\n      (trackSpeeds.right + trackSpeeds.left) / 2 -\r\n      ((trackSpeeds.right - trackSpeeds.left) / (icrXRight - icrXLeft)) * ((icrXRight + icrXLeft) / 2);\r\n    const omega = (trackSpeeds.right - trackSpeeds.left) / (icrXRight - icrXLeft);\r\n\r\n    // simpler calculation for differential drive vehicle but should be similar..\r\n    // const velocity = (trackSpeeds.left + trackSpeeds.right) / 2;\r\n\r\n    // console.log({\r\n    //   trackRpms,\r\n    //   trackSpeeds,\r\n    //   velocityX,\r\n    //   velocityY,\r\n    //   omega,\r\n    // });\r\n\r\n    return {\r\n      velocity: {\r\n        x: velocityX,\r\n        y: velocityY,\r\n      },\r\n      omega: omega,\r\n    };\r\n  }\r\n}\r\n","import { config } from \"../config\";\r\nimport { TrackedVehicleKinematics } from \"../lib/tracked-vehicle-kinematics\";\r\n\r\nexport const kinematics = new TrackedVehicleKinematics(config.vehicle);\r\n","import throttle from \"lodash.throttle\";\r\nimport { dummyLogger, Logger } from \"ts-log\";\r\n\r\nimport { config } from \"../../config\";\r\nimport { kinematics } from \"../../services/kinematics\";\r\nimport { Robot } from \"../robot\";\r\nimport { MotorValue, TrackedVehicleKinematics } from \"../tracked-vehicle-kinematics\";\r\n\r\nexport interface RemoteControllerOptions {\r\n  robot: Robot;\r\n  log?: Logger;\r\n}\r\n\r\nexport class RemoteController {\r\n  private readonly options: Required<RemoteControllerOptions>;\r\n  private readonly robot: Robot;\r\n  private readonly scheduleUpdateMotorSpeeds: () => void;\r\n  private speed = 0; // in m/s\r\n  private omega = 0; // in rad/s\r\n  private lastSentTargetRpms?: MotorValue;\r\n\r\n  constructor(options: RemoteControllerOptions) {\r\n    this.options = {\r\n      log: dummyLogger,\r\n      ...options,\r\n    };\r\n    this.robot = this.options.robot;\r\n\r\n    // throttle updating motor speeds\r\n    this.scheduleUpdateMotorSpeeds = throttle(() => this.updateMotorSpeeds(), config.vehicle.speedUpdateInterval);\r\n\r\n    // TODO: refactor as a separate controller for testing\r\n    // experiments that fades between min/max speeds for testing communication\r\n    // let range = 0.5;\r\n    // let value = 0;\r\n    // let step = 0.01;\r\n    // let direction = 1;\r\n\r\n    // setInterval(() => {\r\n    //   value += step * direction;\r\n\r\n    //   if (value > range) {\r\n    //     value = range;\r\n    //     direction *= -1;\r\n    //   } else if (value < -range) {\r\n    //     value = -range;\r\n    //     direction *= -1;\r\n    //   }\r\n\r\n    //   this.speed = value;\r\n\r\n    //   this.updateMotorSpeeds();\r\n    // }, this.options.vehicle.speedUpdateInterval);\r\n  }\r\n\r\n  setSpeed(speed: number) {\r\n    this.speed = speed;\r\n\r\n    this.scheduleUpdateMotorSpeeds();\r\n  }\r\n\r\n  setOmega(omega: number) {\r\n    this.omega = omega;\r\n\r\n    this.scheduleUpdateMotorSpeeds();\r\n  }\r\n\r\n  private updateMotorSpeeds() {\r\n    const motorSpeeds = kinematics.motionToSpeeds(this.speed, this.omega);\r\n    const motorRpms = kinematics.speedsToRpms(motorSpeeds);\r\n\r\n    // only send the speed if different from last\r\n    if (!this.lastSentTargetRpms || TrackedVehicleKinematics.isSpeedDifferent(motorRpms, this.lastSentTargetRpms)) {\r\n      this.robot.setMotorTargetRpms(motorRpms);\r\n\r\n      this.lastSentTargetRpms = motorRpms;\r\n    }\r\n  }\r\n}\r\n","import { clamp } from \"./clamp\";\r\n\r\nexport interface RateConfig {\r\n  rcRate: number;\r\n  expoRate: number;\r\n  superRate: number;\r\n}\r\n\r\nexport function getControllerRate(\r\n  value: number,\r\n  { rcRate = 1.0, expoRate = 0.0, superRate = 0.7 }: RateConfig,\r\n): number {\r\n  let rateCommand = value === Number.POSITIVE_INFINITY ? 1 : value;\r\n  const absValue = Math.abs(rateCommand);\r\n\r\n  if (rcRate > 2.0) {\r\n    rcRate = rcRate + 14.54 * (rcRate - 2.0);\r\n  }\r\n\r\n  if (expoRate !== 0) {\r\n    rateCommand = rateCommand * Math.abs(rateCommand) ** 3 * expoRate + rateCommand * (1.0 - expoRate);\r\n  }\r\n\r\n  let angleRate = 200.0 * rcRate * rateCommand;\r\n\r\n  if (superRate !== 0) {\r\n    const rcSuperFactor = 1.0 / clamp(1.0 - absValue * superRate, 0.01, 1.0);\r\n\r\n    angleRate *= rcSuperFactor;\r\n  }\r\n\r\n  // return maximum value for full input\r\n  if (value === Number.POSITIVE_INFINITY) {\r\n    return angleRate;\r\n  }\r\n\r\n  // calculate max output for value of 1\r\n  const maxValue = getControllerRate(Number.POSITIVE_INFINITY, {\r\n    rcRate,\r\n    expoRate,\r\n    superRate,\r\n  });\r\n\r\n  const result = angleRate / maxValue;\r\n\r\n  // scale to 0..1 range\r\n  return result;\r\n}\r\n","export function clamp(value: number, min: number, max: number) {\r\n  return Math.max(Math.min(max, value), min);\r\n}\r\n","import { config } from \"../config\";\r\n\r\nconst rotationsPerMinutePerEncoderCountsPerSecond =\r\n  (1 / 60) * (config.vehicle.encoderCountsPerRotation * config.vehicle.gearboxRatio);\r\n\r\nexport function rotationsPerMinuteToEncoderCountsPerSecond(rotationsPerMinute: number) {\r\n  return Math.round(rotationsPerMinute * rotationsPerMinutePerEncoderCountsPerSecond);\r\n}\r\n","import { rotationsPerMinuteToEncoderCountsPerSecond } from \"../../services/rotationsPerMinuteToEncoderCountsPerSecond\";\r\nimport { Transport } from \"../transport/Transport\";\r\n\r\nexport interface MotorValue {\r\n  readonly left: number;\r\n  readonly right: number;\r\n}\r\n\r\nexport interface RobotConfig {\r\n  targetLidarRpm?: number;\r\n}\r\n\r\nexport type SendArgument = string | number;\r\n\r\nexport class Robot {\r\n  pingSentTime?: number;\r\n\r\n  private readonly config: Required<RobotConfig>;\r\n\r\n  constructor(private readonly transport: Transport, config: RobotConfig = {}) {\r\n    this.config = {\r\n      targetLidarRpm: 300,\r\n      ...config,\r\n    };\r\n  }\r\n\r\n  requestVoltage() {\r\n    this.send(\"voltage\");\r\n  }\r\n\r\n  requestCurrent() {\r\n    this.send(\"current\");\r\n  }\r\n\r\n  requestState() {\r\n    this.send(\"state\");\r\n  }\r\n\r\n  setMotorTargetRpms(trackRpms: MotorValue) {\r\n    this.setMotorsTargetEncoderCountsPerSecond({\r\n      left: rotationsPerMinuteToEncoderCountsPerSecond(trackRpms.left),\r\n      right: rotationsPerMinuteToEncoderCountsPerSecond(trackRpms.right),\r\n    });\r\n  }\r\n\r\n  setMotorsTargetEncoderCountsPerSecond(encoderCountsPerSecond: MotorValue) {\r\n    this.send(\"s\", Math.round(encoderCountsPerSecond.left), Math.round(encoderCountsPerSecond.right));\r\n  }\r\n\r\n  stop() {\r\n    this.setMotorTargetRpms({\r\n      left: 0,\r\n      right: 0,\r\n    });\r\n  }\r\n\r\n  ping(transportOnly = false) {\r\n    this.pingSentTime = Date.now();\r\n\r\n    if (transportOnly) {\r\n      // send internal ping command if testing the transport only (Android responds to this)\r\n      this.send(\"!ping\");\r\n    } else {\r\n      // send full ping, responded by the MCU\r\n      this.send(\"ping\");\r\n    }\r\n  }\r\n\r\n  startLidar(): void {\r\n    this.send(`rpm:${this.config.targetLidarRpm}`);\r\n  }\r\n\r\n  stopLidar(): void {\r\n    this.send(\"rpm:0\");\r\n  }\r\n\r\n  // don't use directly, add new robot method\r\n  private send(command: string, ...args: SendArgument[]) {\r\n    const message = `${command}${args.length > 0 ? \":\" : \"\"}${args.join(\":\")}`;\r\n\r\n    this.transport.send(message);\r\n  }\r\n}\r\n","import { NativeTransport } from \"../lib/transport\";\r\n\r\nexport const nativeTransport = new NativeTransport({\r\n  // log: console\r\n});\r\n","import { config } from \"../config\";\r\nimport { WebsocketTransport } from \"../lib/transport\";\r\n\r\nexport const websocketTransport = new WebsocketTransport({\r\n  ...config.websocket,\r\n  // log: console,\r\n});\r\n","import { MultiTransport } from \"../lib/transport\";\r\n\r\nimport { nativeTransport } from \"./nativeTransport\";\r\n// import { simulatedTransport } from \"./simulatedTransport\";\r\nimport { websocketTransport } from \"./websocketTransport\";\r\n\r\nexport const multiTransport = new MultiTransport({\r\n  // log: console\r\n});\r\n\r\n// register sub-transports in preferred order\r\nmultiTransport.addTransport(nativeTransport);\r\nmultiTransport.addTransport(websocketTransport);\r\n// multiTransport.addTransport(simulatedTransport);\r\n","import { Robot } from \"../lib/robot\";\r\n\r\nimport { multiTransport } from \"./multiTransport\";\r\n\r\nexport const robot = new Robot(multiTransport);\r\n","import { atom } from \"recoil\";\r\n\r\nexport enum LogMessageType {\r\n  RECEIVE = \"RECEIVE\",\r\n  SEND = \"SEND\",\r\n  INFO = \"INFO\",\r\n  WARN = \"WARN\",\r\n  ERROR = \"ERROR\",\r\n}\r\n\r\nexport interface LogMessage {\r\n  readonly index: number;\r\n  readonly type: LogMessageType;\r\n  readonly message: string;\r\n  readonly timestamp: number;\r\n}\r\n\r\nexport const logMessagesState = atom<LogMessage[]>({\r\n  key: \"logMessagesState\",\r\n  default: [],\r\n});\r\n","export function assertUnreachable(_impossible: never, message: string): never {\r\n  throw new Error(message);\r\n}\r\n","import { useCallback, useMemo } from \"react\";\r\nimport { useSetRecoilState } from \"recoil\";\r\nimport { Logger } from \"ts-log\";\r\nimport { assertUnreachable } from \"../services/assertUnreachable\";\r\nimport { logMessagesState, LogMessageType } from \"../state/logMessagesState\";\r\n\r\nlet logMessageCount = 0;\r\n\r\nexport interface ExtendedLogger extends Logger {\r\n  send(message?: any, ...optionalParams: any[]): void;\r\n  receive(message?: any, ...optionalParams: any[]): void;\r\n}\r\n\r\nexport function useLog(): ExtendedLogger {\r\n  const setLogMessagesState = useSetRecoilState(logMessagesState);\r\n\r\n  // const log = useCallback(\r\n  //   (type: LogMessageType, message: string, transportName?: string) => {\r\n  //     // append log message\r\n  //     setLogMessagesState((logMessages) => [\r\n  //       ...logMessages,\r\n  //       {\r\n  //         index: logMessageCount++,\r\n  //         type,\r\n  //         message,\r\n  //         timestamp: Date.now(),\r\n  //         transportName,\r\n  //       },\r\n  //     ]);\r\n\r\n  //     // also log to navigator console\r\n  //     logToConsole(type, message, transportName);\r\n  //   },\r\n  //   [setLogMessagesState],\r\n  // );\r\n\r\n  const appendLogMessage = useCallback(\r\n    (type: LogMessageType, args: unknown[]) => {\r\n      const message = getLogMessage(args);\r\n\r\n      setLogMessagesState((logMessages) => [\r\n        ...logMessages,\r\n        {\r\n          index: logMessageCount++,\r\n          type,\r\n          message,\r\n          timestamp: Date.now(),\r\n        },\r\n      ]);\r\n\r\n      // also log to navigator console\r\n      logToConsole(type, message, args.slice(1));\r\n    },\r\n    [setLogMessagesState],\r\n  );\r\n\r\n  const logger: ExtendedLogger = useMemo(\r\n    () => ({\r\n      trace(...args) {\r\n        return appendLogMessage(LogMessageType.INFO, args);\r\n      },\r\n      debug(...args) {\r\n        return appendLogMessage(LogMessageType.INFO, args);\r\n      },\r\n      info(...args) {\r\n        return appendLogMessage(LogMessageType.INFO, args);\r\n      },\r\n      warn(...args) {\r\n        return appendLogMessage(LogMessageType.WARN, args);\r\n      },\r\n      error(...args) {\r\n        return appendLogMessage(LogMessageType.ERROR, args);\r\n      },\r\n      send(...args) {\r\n        return appendLogMessage(LogMessageType.SEND, args);\r\n      },\r\n      receive(...args) {\r\n        return appendLogMessage(LogMessageType.RECEIVE, args);\r\n      },\r\n    }),\r\n    [appendLogMessage],\r\n  );\r\n\r\n  return logger;\r\n\r\n  // adds log message to log messages state\r\n  // return (type: LogMessageType, message: string, transportName?: string) => {\r\n  //   // append log message\r\n  //   setLogMessagesState((logMessages) => [\r\n  //     ...logMessages,\r\n  //     {\r\n  //       type,\r\n  //       message,\r\n  //       transportName,\r\n  //     },\r\n  //   ]);\r\n\r\n  //   // also log to navigator console\r\n  //   logToConsole(type, message, transportName);\r\n  // };\r\n}\r\n\r\nfunction getLogMessage(args: any[]): string {\r\n  if (args.length === 0) {\r\n    throw new Error(\"Logger expects log message as first argument\");\r\n  }\r\n\r\n  const message = args[0];\r\n\r\n  if (typeof message !== \"string\") {\r\n    throw new Error(\"Expected first argument to logger to be a string message\");\r\n  }\r\n\r\n  return message;\r\n}\r\n\r\nfunction logToConsole(type: LogMessageType, message: string, args: unknown[]) {\r\n  switch (type) {\r\n    case LogMessageType.INFO:\r\n      console.log(message, ...args);\r\n      break;\r\n\r\n    case LogMessageType.WARN:\r\n      console.warn(message, ...args);\r\n      break;\r\n\r\n    case LogMessageType.ERROR:\r\n      console.error(message, ...args);\r\n      break;\r\n\r\n    case LogMessageType.RECEIVE:\r\n      console.log(`< ${message}`, ...args);\r\n      break;\r\n\r\n    case LogMessageType.SEND:\r\n      console.log(`> ${message}`, ...args);\r\n      break;\r\n\r\n    default:\r\n      return assertUnreachable(type, `Unexpected log message type type \"${type}\" not handled, this should not happen`);\r\n  }\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { config } from \"../config\";\r\nimport { GamepadManager } from \"../lib/gamepad\";\r\nimport { RemoteController } from \"../lib/remote-controller\";\r\nimport { getControllerRate } from \"../services/getControllerRate\";\r\nimport { robot } from \"../services/robot\";\r\nimport { useLog } from \"./useLog\";\r\n\r\nexport function useRemoteControl(isEnabled = true) {\r\n  const [gamepadName, setGamepadName] = useState<string>();\r\n  const log = useLog();\r\n\r\n  useEffect(() => {\r\n    const remoteController = new RemoteController({\r\n      robot,\r\n      log,\r\n    });\r\n\r\n    const gamepadManager = new GamepadManager({\r\n      log,\r\n      onConnect: (gamepad) => {\r\n        setGamepadName(gamepad.id);\r\n\r\n        console.log(\"gamepad connected\", gamepad.id);\r\n      },\r\n      onDisconnect: () => {\r\n        const remainingGamepad = gamepadManager.getFirstAvailableGamepad();\r\n\r\n        robot.stop();\r\n\r\n        setGamepadName(remainingGamepad?.id);\r\n      },\r\n      onUpdate: (gamepad, haveButtonsChanged) => {\r\n        // ignore if not enabled\r\n        if (!isEnabled) {\r\n          return;\r\n        }\r\n\r\n        // use rate inputs to have better control around center axes\r\n        const speed = getControllerRate(gamepad.axes[3] * -1, config.rates) * config.vehicle.maxSpeed;\r\n        const omega = getControllerRate(gamepad.axes[0], config.rates);\r\n\r\n        if (haveButtonsChanged) {\r\n          // const pressedButtonIndexes = gamepad.buttons\r\n          //   .filter((button) => button.pressed)\r\n          //   .map((pressedButton) => gamepad.buttons.indexOf(pressedButton));\r\n\r\n          // log.info(`pressed: ${pressedButtonIndexes.length > 0 ? pressedButtonIndexes.join(\", \") : \"none\"}`);\r\n\r\n          const isPressedA = gamepad.buttons[0].pressed;\r\n          const isPressedX = gamepad.buttons[2].pressed;\r\n\r\n          if (isPressedA) {\r\n            // run fixed rpm experiment when X is pressed (60 rpm is one revolution per second)\r\n            robot.setMotorTargetRpms({\r\n              left: 30,\r\n              right: 30,\r\n            });\r\n\r\n            return;\r\n          } else if (isPressedX) {\r\n            // rotate to the left at fixed rpm\r\n            robot.setMotorTargetRpms({\r\n              left: -60,\r\n              right: 60,\r\n            });\r\n\r\n            return;\r\n          } else {\r\n            robot.stop();\r\n          }\r\n        }\r\n\r\n        // speed is in m/s, omega is in rad/s\r\n        remoteController.setSpeed(speed);\r\n        remoteController.setOmega(omega);\r\n      },\r\n    });\r\n\r\n    // release gamepads and stop robot when the view is destroyed\r\n    return () => {\r\n      gamepadManager.destroy();\r\n      robot.stop();\r\n    };\r\n  }, [isEnabled, log]);\r\n\r\n  return {\r\n    gamepadName,\r\n  };\r\n}\r\n","export function map(x: number, inMin: number, inMax: number, outMin: number, outMax: number, capped = true) {\r\n  const uncapped = ((x - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin;\r\n\r\n  if (!capped) {\r\n    return uncapped;\r\n  }\r\n\r\n  const min = Math.min(outMin, outMax);\r\n  const max = Math.max(outMin, outMax);\r\n\r\n  return Math.min(Math.max(uncapped, min), max);\r\n}\r\n","import { dummyLogger, Logger } from \"ts-log\";\r\n\r\nexport interface TickerOptions {\r\n  readonly autoStart?: boolean;\r\n  readonly log?: Logger;\r\n  tick(info: TickInfo): void;\r\n}\r\n\r\nexport interface TickInfo {\r\n  dt: number;\r\n  time: number;\r\n  frame: number;\r\n}\r\n\r\nexport class Ticker {\r\n  private readonly options: Required<TickerOptions>;\r\n  private isRunning = false;\r\n  private frameNumber = 0;\r\n  private scheduledAnimationFrame?: number;\r\n  private lastTickTime?: number;\r\n\r\n  constructor(options: TickerOptions) {\r\n    this.options = {\r\n      autoStart: false,\r\n      log: dummyLogger,\r\n      ...options,\r\n    };\r\n\r\n    if (this.options.autoStart) {\r\n      this.start();\r\n    }\r\n  }\r\n\r\n  get log() {\r\n    return this.options.log;\r\n  }\r\n\r\n  start() {\r\n    this.log.info(\"starting\");\r\n\r\n    this.isRunning = true;\r\n\r\n    this.scheduleNextFrame();\r\n  }\r\n\r\n  stop() {\r\n    this.log.info(\"stopping\");\r\n\r\n    this.isRunning = false;\r\n\r\n    if (this.scheduledAnimationFrame !== undefined) {\r\n      cancelAnimationFrame(this.scheduledAnimationFrame);\r\n\r\n      this.scheduledAnimationFrame = undefined;\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    if (!this.isRunning) {\r\n      return;\r\n    }\r\n\r\n    const currentTime = Date.now();\r\n    const dt = (this.lastTickTime ? currentTime - this.lastTickTime : 16) / 1000;\r\n\r\n    this.options.tick({\r\n      dt,\r\n      time: currentTime,\r\n      frame: this.frameNumber++,\r\n    });\r\n\r\n    this.lastTickTime = currentTime;\r\n  }\r\n\r\n  private scheduleNextFrame() {\r\n    this.scheduledAnimationFrame = window.requestAnimationFrame(() => {\r\n      this.scheduledAnimationFrame = undefined;\r\n\r\n      if (!this.isRunning) {\r\n        return;\r\n      }\r\n\r\n      this.tick();\r\n      this.scheduleNextFrame();\r\n    });\r\n  }\r\n}\r\n","import color from \"color\";\r\nimport Vector from \"victor\";\r\n\r\nimport { map } from \"../../services/map\";\r\nimport { Ticker, TickInfo } from \"../ticker\";\r\n\r\nexport type RenderLayerFn = (info: FrameInfo) => void;\r\n\r\nexport interface LayerOptions {\r\n  readonly defaultStyle?: DrawStyle;\r\n  getTransform?(layer: Layer): Transform;\r\n  render?: RenderLayerFn;\r\n  onMouseDownEvent?(event: LayerMouseDownEvent): void;\r\n  onMouseUpEvent?(event: LayerMouseUpEvent): void;\r\n  onMouseMoveEvent?(event: LayerMouseMoveEvent): void;\r\n}\r\n\r\nexport interface Transform {\r\n  horizontalScaling?: number;\r\n  verticalSkewing?: number;\r\n  horizontalSkewing?: number;\r\n  verticalScaling?: number;\r\n  horizontalTranslation?: number;\r\n  verticalTranslation?: number;\r\n  rotation?: number;\r\n  scale?: number;\r\n}\r\n\r\nexport interface FrameInfo {\r\n  time: number;\r\n  dt: number;\r\n  frame: number;\r\n  layer: Layer;\r\n}\r\n\r\nexport type LayerMouseEventType = \"down\" | \"up\" | \"move\";\r\n\r\nexport interface LayerMouseEvent {\r\n  type: LayerMouseEventType;\r\n  screen: CartesianCoordinates;\r\n  world: CartesianCoordinates;\r\n  isMouseDown: boolean;\r\n  event: MouseEvent;\r\n}\r\n\r\nexport interface LayerMouseDownEvent extends LayerMouseEvent {\r\n  type: \"down\";\r\n}\r\n\r\nexport interface LayerMouseUpEvent extends LayerMouseEvent {\r\n  type: \"up\";\r\n}\r\n\r\nexport interface LayerMouseMoveEvent extends LayerMouseEvent {\r\n  type: \"move\";\r\n}\r\n\r\nexport interface CartesianCoordinates {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport type Size = CartesianCoordinates;\r\n\r\nexport interface PolarCoordinates {\r\n  angle: number; // radians\r\n  distance: number;\r\n}\r\n\r\nexport type Coordinates = CartesianCoordinates | PolarCoordinates;\r\n\r\nexport type ColorStyle = string | CanvasGradient | CanvasPattern;\r\n\r\nexport interface DrawStyle {\r\n  color?: ColorStyle;\r\n  fillStyle?: ColorStyle;\r\n  strokeStyle?: ColorStyle;\r\n  lineWidth?: number;\r\n  lineCap?: \"butt\" | \"round\" | \"square\";\r\n  font?: string;\r\n  textAlign?: CanvasTextAlign;\r\n  textBaseline?: CanvasTextBaseline;\r\n}\r\n\r\nexport interface DrawCircleOptions {\r\n  center?: Coordinates;\r\n  radius: number;\r\n}\r\n\r\nexport interface DrawPulseOptions {\r\n  center?: Coordinates;\r\n  lifetime?: number;\r\n  age?: number;\r\n  size?: number;\r\n}\r\n\r\nexport interface DrawMarkerOptions {\r\n  center: Coordinates;\r\n  size?: number;\r\n}\r\n\r\nexport interface DrawBoxOptions {\r\n  origin: Coordinates;\r\n  width: number;\r\n  height: number;\r\n  padding?: number;\r\n  centered?: boolean;\r\n}\r\n\r\n// TODO: support center, angle, length\r\nexport interface DrawLineOptions {\r\n  from: Coordinates;\r\n  to: Coordinates;\r\n}\r\n\r\nexport interface DrawTextOptions {\r\n  origin: Coordinates;\r\n  text: string;\r\n  offset?: CartesianCoordinates;\r\n}\r\n\r\nexport interface DrawArrowOptions extends DrawLineOptions {\r\n  tipSize?: number;\r\n  name?: string;\r\n}\r\n\r\nexport interface DrawDirectionOptions {\r\n  center: Coordinates;\r\n  angle: number;\r\n  size?: number;\r\n  name?: string;\r\n}\r\n\r\nexport interface DrawGridOptions {\r\n  cellWidth: number;\r\n  cellHeight: number;\r\n  rows?: number;\r\n  columns?: number;\r\n  origin?: Coordinates;\r\n  centered?: boolean;\r\n}\r\n\r\nexport interface DrawOccupancyGridOptions {\r\n  cellWidth: number;\r\n  cellHeight: number;\r\n  grid: OccupancyGrid;\r\n  path?: Path;\r\n  origin?: Coordinates;\r\n  centered?: boolean;\r\n}\r\n\r\nexport interface DrawCoordinateSystemOptions {\r\n  center?: Coordinates;\r\n  gridSize?: number;\r\n  length?: number;\r\n}\r\n\r\nexport interface DrawObjectOptions {\r\n  center: Coordinates;\r\n  size: Size;\r\n  angle: number;\r\n  draw(ctx: CanvasRenderingContext2D, options: Required<DrawObjectOptions> & { layer: Layer }): void;\r\n}\r\n\r\nexport interface DrawGraphOptions {\r\n  origin: Coordinates;\r\n  name: string;\r\n  values: number[];\r\n  min?: number;\r\n  max?: number;\r\n  width?: number;\r\n  height?: number;\r\n}\r\n\r\nexport type OccupancyGrid = number[][];\r\n\r\nexport type Cell = [number, number];\r\n\r\nexport type Path = Cell[];\r\n\r\nexport class Layer {\r\n  readonly options: Required<LayerOptions>;\r\n  readonly ctx: CanvasRenderingContext2D;\r\n  readonly width: number;\r\n  readonly height: number;\r\n  readonly size: number;\r\n  readonly transform: Required<Transform>;\r\n  private ticker: Ticker;\r\n  private mouseDownCounter = 0;\r\n\r\n  constructor(readonly canvas: HTMLCanvasElement, options: LayerOptions) {\r\n    this.options = {\r\n      defaultStyle: {\r\n        fillStyle: \"#000\",\r\n        strokeStyle: \"#000\",\r\n        font: \"16px monospace\",\r\n        textBaseline: \"top\",\r\n      },\r\n      getTransform: (_layer: Layer) => ({}),\r\n      render: (_info: FrameInfo) => {\r\n        /* do nothing */\r\n      },\r\n      onMouseDownEvent: (_event: LayerMouseDownEvent) => {\r\n        /* do nothing */\r\n      },\r\n      onMouseUpEvent: (_event: LayerMouseUpEvent) => {\r\n        /* do nothing */\r\n      },\r\n      onMouseMoveEvent: (_event: LayerMouseMoveEvent) => {\r\n        /* do nothing */\r\n      },\r\n      ...options,\r\n    };\r\n\r\n    // get canvas drawing context\r\n    const ctx = this.canvas.getContext(\"2d\");\r\n\r\n    // this should generally not fail\r\n    if (!ctx) {\r\n      throw new Error(\"Getting layer 2D context failed, this should not happen\");\r\n    }\r\n\r\n    // store context\r\n    this.ctx = ctx;\r\n\r\n    // get dimensions\r\n    this.width = this.canvas.clientWidth;\r\n    this.height = this.canvas.clientHeight;\r\n\r\n    // use minimum of width/height as size\r\n    this.size = Math.min(this.width, this.height) - 2;\r\n\r\n    // mouse events should pass through if no listeners were set\r\n    const passThroughMouseEvents =\r\n      options.onMouseDownEvent === undefined &&\r\n      options.onMouseUpEvent === undefined &&\r\n      options.onMouseMoveEvent === undefined;\r\n\r\n    // disable canvas pointer events (pass them through) if no event listeners are present\r\n    if (passThroughMouseEvents) {\r\n      this.canvas.style.pointerEvents = \"none\";\r\n    }\r\n\r\n    // resolve transform to use\r\n    this.transform = {\r\n      horizontalScaling: 1,\r\n      verticalSkewing: 0,\r\n      horizontalSkewing: 0,\r\n      verticalScaling: 1,\r\n      horizontalTranslation: 0,\r\n      verticalTranslation: 0,\r\n      rotation: 0,\r\n      scale: 1,\r\n      ...this.options.getTransform(this),\r\n    };\r\n\r\n    // apply transformation and rotation\r\n    this.ctx.transform(\r\n      this.transform.horizontalScaling,\r\n      this.transform.verticalSkewing,\r\n      this.transform.horizontalSkewing,\r\n      this.transform.verticalScaling,\r\n      this.transform.horizontalTranslation,\r\n      this.transform.verticalTranslation,\r\n    );\r\n    this.ctx.rotate(this.transform.rotation);\r\n\r\n    // set default styles\r\n    this.applyStyle(this.options.defaultStyle);\r\n\r\n    // only add mouse events if listener is registered\r\n    if (options.onMouseDownEvent) {\r\n      this.canvas.onmousedown = (event) => this.handleMouseEvent(\"down\", event);\r\n    }\r\n\r\n    if (options.onMouseUpEvent) {\r\n      this.canvas.onmouseup = (event) => this.handleMouseEvent(\"up\", event);\r\n    }\r\n\r\n    if (options.onMouseMoveEvent) {\r\n      this.canvas.onmousemove = (event) => this.handleMouseEvent(\"move\", event);\r\n    }\r\n\r\n    // setup ticker\r\n    this.ticker = new Ticker({\r\n      tick: this.tick.bind(this),\r\n    });\r\n  }\r\n\r\n  start() {\r\n    this.ticker.start();\r\n  }\r\n\r\n  stop() {\r\n    this.ticker.stop();\r\n  }\r\n\r\n  drawCircle(options: DrawCircleOptions, style: DrawStyle = { strokeStyle: \"#000\" }) {\r\n    const opt: Required<DrawCircleOptions> = {\r\n      center: { x: 0, y: 0 },\r\n      ...options,\r\n    };\r\n    const screenCenter = this.worldToScreen(opt.center);\r\n\r\n    this.ctx.save();\r\n    this.applyStyle(style);\r\n\r\n    this.ctx.beginPath();\r\n    this.ctx.arc(screenCenter.x, screenCenter.y, this.scale(opt.radius), 0, Math.PI * 2);\r\n\r\n    if (style.fillStyle) {\r\n      this.ctx.fill();\r\n    }\r\n\r\n    if (style.strokeStyle || (!style.strokeStyle && !style.fillStyle)) {\r\n      this.ctx.stroke();\r\n    }\r\n\r\n    this.ctx.restore();\r\n  }\r\n\r\n  drawPulse(options: DrawPulseOptions, style: DrawStyle = { strokeStyle: \"#000\" }) {\r\n    const opt: Required<DrawPulseOptions> = {\r\n      center: { x: 0, y: 0 },\r\n      lifetime: 300,\r\n      age: 0,\r\n      size: this.size / 50 / this.getScale(),\r\n      ...options,\r\n    };\r\n\r\n    // don't draw dead pulses\r\n    if (opt.age > opt.lifetime) {\r\n      return;\r\n    }\r\n\r\n    const opacity = map(opt.age, 0, opt.lifetime, 1, 0);\r\n    const fillStyle = color(style.fillStyle || \"#F00\")\r\n      .alpha(opacity)\r\n      .toString();\r\n\r\n    this.drawCircle(\r\n      {\r\n        center: opt.center,\r\n        radius: map(opt.age, 0, opt.lifetime, opt.size / 10, opt.size),\r\n      },\r\n      {\r\n        fillStyle,\r\n      },\r\n    );\r\n  }\r\n\r\n  drawMarker(options: DrawMarkerOptions, style: DrawStyle = {}) {\r\n    const opt: Required<DrawMarkerOptions> = {\r\n      size: this.size / 100 / this.getScale(),\r\n      ...options,\r\n    };\r\n    const angle = this.isPolar(opt.center) ? opt.center.angle : 0;\r\n    const screenCenter = this.worldToScreen(opt.center);\r\n    const screenSize = this.scale(opt.size);\r\n\r\n    this.ctx.save();\r\n    this.applyStyle(style);\r\n\r\n    this.ctx.translate(screenCenter.x, screenCenter.y);\r\n    this.ctx.rotate(angle);\r\n    this.ctx.fillRect(-screenSize / 2, -screenSize / 2, screenSize, screenSize);\r\n\r\n    this.ctx.restore();\r\n  }\r\n\r\n  drawBox(options: DrawBoxOptions, style: DrawStyle = {}) {\r\n    const opt: Required<DrawBoxOptions> = {\r\n      padding: 0,\r\n      centered: false,\r\n      ...options,\r\n    };\r\n\r\n    const origin = this.worldToScreen(opt.origin);\r\n    const width = this.scale(opt.width);\r\n    const height = this.scale(opt.height);\r\n\r\n    const offset = opt.centered ? { x: -width / 2, y: -height / 2 } : { x: 0, y: 0 };\r\n\r\n    this.ctx.save();\r\n    this.applyStyle(style);\r\n\r\n    if (style.fillStyle) {\r\n      this.ctx.fillRect(\r\n        origin.x + offset.x + opt.padding,\r\n        origin.y + offset.y + opt.padding,\r\n        width - opt.padding * 2,\r\n        height - opt.padding * 2,\r\n      );\r\n    }\r\n\r\n    if (style.strokeStyle || (!style.strokeStyle && !style.fillStyle)) {\r\n      this.ctx.strokeRect(\r\n        origin.x + offset.x + opt.padding,\r\n        origin.y + offset.y + opt.padding,\r\n        width - opt.padding * 2,\r\n        height - opt.padding * 2,\r\n      );\r\n    }\r\n\r\n    this.ctx.restore();\r\n  }\r\n\r\n  drawLine(options: DrawLineOptions, style: DrawStyle = {}) {\r\n    const opt: Required<DrawLineOptions> = {\r\n      ...options,\r\n    };\r\n    const screenFrom = this.worldToScreen(opt.from);\r\n    const screenTo = this.worldToScreen(opt.to);\r\n\r\n    this.ctx.save();\r\n    this.applyStyle(style);\r\n\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(screenFrom.x, screenFrom.y);\r\n    this.ctx.lineTo(screenTo.x, screenTo.y);\r\n    this.ctx.stroke();\r\n\r\n    this.ctx.restore();\r\n  }\r\n\r\n  drawGrid(options: DrawGridOptions, style: DrawStyle = {}) {\r\n    const defaultRowCount = Math.ceil(this.height / this.getScale() / options.cellHeight);\r\n    const defaultColumnCount = Math.ceil(this.width / this.getScale() / options.cellWidth);\r\n\r\n    const opt: Required<DrawGridOptions> = {\r\n      origin: { x: 0, y: 0 },\r\n      centered: false,\r\n      rows: defaultRowCount % 2 === 0 ? defaultRowCount : defaultRowCount + 1,\r\n      columns: defaultColumnCount % 2 === 0 ? defaultColumnCount : defaultColumnCount + 1,\r\n      ...options,\r\n    };\r\n\r\n    const height = opt.cellHeight * opt.rows;\r\n    const width = opt.cellWidth * opt.columns;\r\n\r\n    const origin = this.toCartesian(opt.origin);\r\n    const offset: CartesianCoordinates = opt.centered ? { x: -width / 2, y: -height / 2 } : { x: 0, y: 0 };\r\n\r\n    for (let row = 0; row <= opt.rows; row++) {\r\n      const rowY = row * opt.cellHeight;\r\n\r\n      this.drawLine(\r\n        {\r\n          from: {\r\n            x: origin.x + offset.x,\r\n            y: origin.y + offset.y + rowY,\r\n          },\r\n          to: {\r\n            x: origin.x + offset.x + width,\r\n            y: origin.y + offset.y + rowY,\r\n          },\r\n        },\r\n        style,\r\n      );\r\n    }\r\n\r\n    for (let column = 0; column <= opt.columns; column++) {\r\n      const columnX = column * opt.cellWidth;\r\n\r\n      this.drawLine(\r\n        {\r\n          from: {\r\n            x: origin.x + offset.x + columnX,\r\n            y: origin.y + offset.y,\r\n          },\r\n          to: {\r\n            x: origin.x + offset.x + columnX,\r\n            y: origin.y + offset.y + height,\r\n          },\r\n        },\r\n        style,\r\n      );\r\n    }\r\n  }\r\n\r\n  drawOccupancyGrid(options: DrawOccupancyGridOptions, _style: DrawStyle = {}) {\r\n    const opt: Required<DrawOccupancyGridOptions> = {\r\n      origin: { x: 0, y: 0 },\r\n      centered: false,\r\n      path: [],\r\n      ...options,\r\n    };\r\n\r\n    // don't attempt to draw an empty map\r\n    if (opt.grid.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const rows = opt.grid.length;\r\n    const columns = opt.grid[0].length;\r\n\r\n    const width = opt.cellWidth * columns;\r\n    const height = opt.cellHeight * rows;\r\n\r\n    const origin = this.toCartesian(opt.origin);\r\n    const offset: CartesianCoordinates = opt.centered ? { x: -width / 2, y: -height / 2 } : { x: 0, y: 0 };\r\n\r\n    // draw grid\r\n    for (let row = 0; row < rows; row++) {\r\n      for (let column = 0; column < columns; column++) {\r\n        if (!Array.isArray(opt.grid[row])) {\r\n          throw new Error(`Expected occupancy map row #${row} to be an array, got ${typeof opt.grid[row]}`);\r\n        }\r\n\r\n        const occupancy = opt.grid[row][column];\r\n\r\n        if (typeof occupancy !== \"number\") {\r\n          throw new Error(`Expected occupancy map row cell ${row}x${column} to be a number, got ${typeof occupancy}`);\r\n        }\r\n\r\n        // don't draw empty or unknown cells\r\n        if (occupancy <= 0) {\r\n          continue;\r\n        }\r\n\r\n        const delta = {\r\n          x: column * opt.cellWidth,\r\n          y: row * opt.cellHeight,\r\n        };\r\n\r\n        const position = {\r\n          x: origin.x + offset.x + delta.x,\r\n          y: origin.y + offset.y + delta.y,\r\n        };\r\n\r\n        this.drawBox(\r\n          {\r\n            origin: position,\r\n            width: opt.cellWidth,\r\n            height: opt.cellHeight,\r\n            padding: 1,\r\n          },\r\n          { fillStyle: `rgba(0, 0, 0, ${occupancy})` },\r\n        );\r\n      }\r\n    }\r\n\r\n    // draw path\r\n    for (const [column, row] of opt.path) {\r\n      const delta = {\r\n        x: column * opt.cellWidth,\r\n        y: row * opt.cellHeight,\r\n      };\r\n\r\n      const position = {\r\n        x: origin.x + offset.x + delta.x,\r\n        y: origin.y + offset.x + delta.y,\r\n      };\r\n\r\n      this.drawBox(\r\n        {\r\n          origin: position,\r\n          width: opt.cellWidth,\r\n          height: opt.cellHeight,\r\n          padding: 1,\r\n        },\r\n        { fillStyle: \"rgba(0, 255, 0, 0.2)\" },\r\n      );\r\n    }\r\n  }\r\n\r\n  drawArrow(options: DrawArrowOptions, style: DrawStyle = {}) {\r\n    const opt: Required<DrawArrowOptions> = {\r\n      tipSize: this.size / 100 / this.getScale(),\r\n      name: \"\",\r\n      ...options,\r\n    };\r\n\r\n    this.drawLine({ ...opt }, style);\r\n\r\n    const screenFrom = this.worldToScreen(opt.from);\r\n    const screenTo = this.worldToScreen(opt.to);\r\n    const directionVector = Vector.fromObject(screenTo).subtract(Vector.fromObject(screenFrom));\r\n    const angle = directionVector.angle();\r\n\r\n    this.drawDirection(\r\n      {\r\n        ...opt,\r\n        center: opt.to,\r\n        angle,\r\n        size: opt.tipSize,\r\n      },\r\n      style,\r\n    );\r\n  }\r\n\r\n  drawDirection(options: DrawDirectionOptions, style: DrawStyle = {}) {\r\n    const opt: Required<DrawDirectionOptions> = {\r\n      size: this.size / 100 / this.getScale(),\r\n      name: \"\",\r\n      ...options,\r\n    };\r\n\r\n    const screenCenter = this.worldToScreen(opt.center);\r\n    const screenSize = this.scale(opt.size);\r\n\r\n    this.ctx.save();\r\n    this.applyStyle(style);\r\n\r\n    this.ctx.translate(screenCenter.x, screenCenter.y);\r\n    this.ctx.rotate(opt.angle);\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(-screenSize / 2, screenSize / 2);\r\n    this.ctx.lineTo(-screenSize / 2, -screenSize / 2);\r\n    this.ctx.lineTo(0, 0);\r\n    this.ctx.lineTo(-screenSize / 2, screenSize / 2);\r\n    this.ctx.fill();\r\n\r\n    this.ctx.restore();\r\n\r\n    if (opt.name.length > 0) {\r\n      const origin = this.toCartesian(opt.center);\r\n      origin.x += opt.size * 2;\r\n\r\n      this.drawText({ origin, text: opt.name }, style);\r\n    }\r\n  }\r\n\r\n  drawText(options: DrawTextOptions, style: DrawStyle = {}) {\r\n    const opt: Required<DrawTextOptions> = {\r\n      offset: { x: 0, y: 0 },\r\n      ...options,\r\n    };\r\n\r\n    const screenOrigin = this.worldToScreen(opt.origin);\r\n\r\n    this.ctx.save();\r\n    this.applyStyle(style);\r\n\r\n    this.ctx.translate(screenOrigin.x, screenOrigin.y);\r\n\r\n    // roll back transforms to get the text to draw correctly\r\n    this.ctx.rotate(-this.transform.rotation);\r\n    this.ctx.scale(this.transform.horizontalScaling, this.transform.verticalScaling);\r\n\r\n    this.ctx.fillText(opt.text, opt.offset.x, opt.offset.y);\r\n    this.ctx.restore();\r\n  }\r\n\r\n  drawCoordinateSystem(options: DrawCoordinateSystemOptions = {}) {\r\n    const worldSize = this.screenToWorld({ x: this.width, y: this.height });\r\n    const gridSize = options.gridSize !== undefined ? options.gridSize : this.size / 50 / this.getScale();\r\n    const length = gridSize * 2;\r\n    const opt: Required<DrawCoordinateSystemOptions> = {\r\n      center: {\r\n        x: -Math.ceil(worldSize.y / 2 / gridSize) * gridSize + length,\r\n        y: -Math.ceil(worldSize.x / 2 / gridSize) * gridSize + length,\r\n      },\r\n      gridSize,\r\n      length,\r\n      ...options,\r\n    };\r\n    const center = Vector.fromObject(this.toCartesian(opt.center));\r\n\r\n    const toX = center.clone().add(new Vector(opt.length, 0));\r\n    const toY = center.clone().add(new Vector(0, opt.length));\r\n\r\n    this.drawArrow({ from: opt.center, to: toX, name: \"X\" }, { lineWidth: 2, color: \"#F00\", textAlign: \"center\" });\r\n    this.drawArrow({ from: opt.center, to: toY, name: \"Y\" }, { lineWidth: 2, color: \"#0F0\", textAlign: \"center\" });\r\n  }\r\n\r\n  drawGraph(options: DrawGraphOptions) {\r\n    const opt = {\r\n      width: 200,\r\n      height: 80,\r\n      ...options,\r\n    };\r\n\r\n    const screenOrigin = this.worldToScreen(opt.origin);\r\n    const startIndex = Math.max(opt.values.length - opt.width, 0);\r\n    const samples = opt.values.slice(startIndex, opt.values.length);\r\n    const min = options.min !== undefined ? options.min : Math.min(...samples);\r\n    const max = options.max !== undefined ? options.max : Math.max(...samples);\r\n    const range = max - min;\r\n\r\n    this.ctx.save();\r\n    this.ctx.translate(screenOrigin.x, screenOrigin.y);\r\n\r\n    // draw background\r\n    this.ctx.fillStyle = \"rgba(0, 0, 0, 0.1)\";\r\n    this.ctx.fillRect(0, 0, opt.width, opt.height);\r\n\r\n    let xPos = opt.width;\r\n\r\n    // draw line\r\n    this.ctx.beginPath();\r\n\r\n    let wasAnyValueCapped = false;\r\n\r\n    // build the line path\r\n    for (let i = samples.length; i >= 0; i--) {\r\n      const value = samples[i];\r\n      const cappedValue = Math.min(Math.max(value, min), max);\r\n      const isCapped = Math.abs(cappedValue - value) > 0.1;\r\n      const yPos = opt.height - Math.round(((cappedValue - min) / range) * opt.height);\r\n\r\n      if (i === 0) {\r\n        this.ctx.moveTo(xPos, yPos);\r\n      } else {\r\n        this.ctx.lineTo(xPos, yPos);\r\n      }\r\n\r\n      xPos--;\r\n\r\n      if (isCapped) {\r\n        wasAnyValueCapped = true;\r\n      }\r\n    }\r\n\r\n    // draw red when any of the values were capped to min/max\r\n    this.ctx.strokeStyle = wasAnyValueCapped ? \"rgba(200, 0, 0, 0.75)\" : \"rgba(0, 200, 0, 0.75)\";\r\n\r\n    // draw graph line and restore\r\n    this.ctx.stroke();\r\n    this.ctx.restore();\r\n\r\n    // draw name on top of the graph\r\n    this.drawText(\r\n      {\r\n        origin: options.origin,\r\n        text: options.name,\r\n        offset: {\r\n          x: 10,\r\n          y: 10,\r\n        },\r\n      },\r\n      {\r\n        fillStyle: \"#FFF\",\r\n      },\r\n    );\r\n  }\r\n\r\n  drawObject(options: DrawObjectOptions) {\r\n    const screenCenter = this.worldToScreen(options.center);\r\n\r\n    this.ctx.save();\r\n\r\n    this.ctx.translate(screenCenter.x, screenCenter.y);\r\n    this.ctx.rotate(options.angle);\r\n\r\n    options.draw(this.ctx, { ...options, layer: this });\r\n\r\n    this.ctx.restore();\r\n  }\r\n\r\n  polarToCartesian({ angle, distance }: PolarCoordinates): CartesianCoordinates {\r\n    return {\r\n      x: distance * Math.cos(angle),\r\n      y: distance * Math.sin(angle),\r\n    };\r\n  }\r\n\r\n  toCartesian(coordinates: Coordinates): CartesianCoordinates {\r\n    if (this.isPolar(coordinates)) {\r\n      const angleCorrection = Math.PI / 2;\r\n\r\n      return {\r\n        x: coordinates.distance * Math.cos(coordinates.angle + angleCorrection),\r\n        y: coordinates.distance * Math.sin(coordinates.angle + angleCorrection),\r\n      };\r\n    }\r\n\r\n    // already cartesian\r\n    return coordinates;\r\n  }\r\n\r\n  worldToScreen(world: Coordinates): CartesianCoordinates {\r\n    const { x, y } = this.toCartesian(world);\r\n\r\n    return {\r\n      x: this.scale(x),\r\n      y: this.scale(y),\r\n    };\r\n  }\r\n\r\n  screenToWorld(screen: Coordinates): CartesianCoordinates {\r\n    const { x, y } = this.toCartesian(screen);\r\n    const scale = this.getScale();\r\n\r\n    return {\r\n      x: x / scale,\r\n      y: y / scale,\r\n    };\r\n  }\r\n\r\n  canvasToScreen(canvas: CartesianCoordinates) {\r\n    const origin = Vector.fromObject(this.getScreenOrigin());\r\n    const screen = Vector.fromObject(canvas)\r\n      .subtract(origin)\r\n      .rotate(this.transform.rotation)\r\n      .multiply(new Vector(this.transform.horizontalScaling, this.transform.verticalScaling));\r\n\r\n    return {\r\n      x: screen.x,\r\n      y: screen.y,\r\n    };\r\n  }\r\n\r\n  isPolar(coordinates: any): coordinates is PolarCoordinates {\r\n    return typeof coordinates.angle === \"number\" && typeof coordinates.distance === \"number\";\r\n  }\r\n\r\n  getScale() {\r\n    return this.transform.scale;\r\n  }\r\n\r\n  scale(distance: number) {\r\n    return distance * this.getScale();\r\n  }\r\n\r\n  toRadians(angleDegrees: number) {\r\n    return angleDegrees * (Math.PI / 180);\r\n  }\r\n\r\n  clear() {\r\n    this.ctx.save();\r\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n    this.ctx.clearRect(0, 0, this.width, this.height);\r\n    this.ctx.restore();\r\n  }\r\n\r\n  private applyStyle(options: DrawStyle) {\r\n    if (options.color) {\r\n      this.ctx.strokeStyle = options.color;\r\n      this.ctx.fillStyle = options.color;\r\n    }\r\n\r\n    if (options.strokeStyle) {\r\n      this.ctx.strokeStyle = options.strokeStyle;\r\n    }\r\n\r\n    if (options.fillStyle) {\r\n      this.ctx.fillStyle = options.fillStyle;\r\n    }\r\n\r\n    if (options.lineWidth) {\r\n      this.ctx.lineWidth = options.lineWidth;\r\n    }\r\n\r\n    if (options.lineCap) {\r\n      this.ctx.lineCap = options.lineCap;\r\n    }\r\n\r\n    if (options.font) {\r\n      this.ctx.font = options.font;\r\n    }\r\n\r\n    if (options.textAlign) {\r\n      this.ctx.textAlign = options.textAlign;\r\n    }\r\n\r\n    if (options.textBaseline) {\r\n      this.ctx.textBaseline = options.textBaseline;\r\n    }\r\n  }\r\n\r\n  // TODO: remove / refactor\r\n  private getScreenOrigin(): CartesianCoordinates {\r\n    return {\r\n      x: this.width / 2,\r\n      y: this.height / 2,\r\n    };\r\n  }\r\n\r\n  private tick(info: TickInfo) {\r\n    this.options.render({\r\n      ...info,\r\n      layer: this,\r\n    });\r\n  }\r\n\r\n  private handleMouseEvent(type: LayerMouseEventType, event: MouseEvent) {\r\n    const screen = this.canvasToScreen(event);\r\n    const world = this.screenToWorld(screen);\r\n\r\n    const info = {\r\n      screen,\r\n      world,\r\n      isMouseDown: this.mouseDownCounter > 0,\r\n      event,\r\n    };\r\n\r\n    switch (type) {\r\n      case \"down\":\r\n        this.mouseDownCounter++;\r\n\r\n        this.options.onMouseDownEvent({ type, ...info });\r\n        break;\r\n\r\n      case \"up\":\r\n        this.mouseDownCounter--;\r\n\r\n        this.options.onMouseUpEvent({ type, ...info });\r\n        break;\r\n\r\n      case \"move\":\r\n        this.options.onMouseMoveEvent({ type, ...info });\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { Layer, LayerOptions } from \"./Layer\";\r\n\r\nexport interface ContainerSize {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport class Visualizer {\r\n  readonly layers: Layer[] = [];\r\n\r\n  constructor(readonly container: HTMLElement) {}\r\n\r\n  createLayer(options: LayerOptions) {\r\n    const containerSize: ContainerSize = {\r\n      width: this.container.clientWidth,\r\n      height: this.container.clientHeight,\r\n    };\r\n\r\n    // create canvas and add it to DOM\r\n    const canvas = this.createCanvasElement(containerSize, this.layers.length);\r\n\r\n    this.container.append(canvas);\r\n\r\n    // create layer and register it\r\n    const layer = new Layer(canvas, options);\r\n\r\n    this.layers.push(layer);\r\n\r\n    return layer;\r\n  }\r\n\r\n  start() {\r\n    // start rendering all layers\r\n    for (const layer of this.layers) {\r\n      layer.start();\r\n    }\r\n  }\r\n\r\n  stop() {\r\n    // stop rendering all layers\r\n    for (const layer of this.layers) {\r\n      layer.stop();\r\n    }\r\n  }\r\n\r\n  private createCanvasElement({ width, height }: ContainerSize, index: number) {\r\n    const canvas = document.createElement(\"canvas\");\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    // consecutive canvas layers need to be positioned on top of each other\r\n    if (index > 0) {\r\n      canvas.style.position = \"relative\";\r\n      canvas.style.top = `${-height}px`;\r\n    }\r\n\r\n    return canvas;\r\n  }\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { Visualizer } from \"../lib/visualizer\";\r\n\r\nexport type VisualizerSetupFn = (visualizer: Visualizer) => void;\r\n\r\nexport function useVisualizer(ref: React.RefObject<HTMLElement>, setup: VisualizerSetupFn) {\r\n  useEffect(() => {\r\n    const element = ref.current;\r\n\r\n    if (!element) {\r\n      throw new Error(\"Visualizer container ref does not contain element, this should not happen\");\r\n    }\r\n\r\n    const visualizer = new Visualizer(element);\r\n\r\n    setup(visualizer);\r\n\r\n    visualizer.start();\r\n\r\n    return () => {\r\n      visualizer.stop();\r\n    };\r\n  }, [ref, setup]);\r\n}\r\n","export function radiansToDegrees(radians: number, normalizeRange = true) {\r\n  const degrees = radians * (180 / Math.PI);\r\n\r\n  if (!normalizeRange) {\r\n    return degrees;\r\n  }\r\n\r\n  const result = degrees % 360;\r\n\r\n  if (result < 0) {\r\n    return result + 360;\r\n  }\r\n\r\n  return result;\r\n}\r\n","import { atom } from \"recoil\";\r\nimport { Pose } from \"../lib/tracked-vehicle-kinematics\";\r\n\r\n// initial default position\r\nexport const initialOdometryPose: Pose = {\r\n  velocity: {\r\n    x: 0,\r\n    y: 0,\r\n  },\r\n  position: {\r\n    x: 0,\r\n    y: 0,\r\n  },\r\n  angle: 0,\r\n};\r\n\r\nexport const odometryPoseState = atom<Pose>({\r\n  key: \"odometryPoseState\",\r\n  default: initialOdometryPose,\r\n});\r\n","var _defs, _polyline;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgForwardArrowIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"data-name\": \"Layer 1\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\r\\n      .Graphic-Style {\\r\\n        fill: none;\\r\\n        stroke: #a4a1a1;\\r\\n        stroke-linecap: round;\\r\\n        stroke-linejoin: round;\\r\\n        stroke-width: 2px;\\r\\n      }\\r\\n    \"))), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    className: \"Graphic-Style\",\n    \"data-name\": \"<Path>\",\n    id: \"_Path_\",\n    points: \"7.66 3.41 16.34 12.1 7.86 20.59\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgForwardArrowIcon);\nexport default __webpack_public_path__ + \"static/media/forward-arrow-icon.55c3ea53.svg\";\nexport { ForwardRef as ReactComponent };","import { atom } from \"recoil\";\r\nimport { Pose } from \"../lib/tracked-vehicle-kinematics\";\r\nimport { initialOdometryPose } from \"./odometryPoseState\";\r\n\r\n// represents one odometry step\r\nexport const odometryStepsState = atom<Pose[]>({\r\n  key: \"odometryStepsState\",\r\n  default: [initialOdometryPose],\r\n});\r\n","import React, { useRef, useCallback, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useRecoilValue, useResetRecoilState } from \"recoil\";\r\nimport { BlockButton } from \"../../components/BlockButton/BlockButton\";\r\nimport { Column } from \"../../components/Column/Column\";\r\nimport { Expanded } from \"../../components/Expanded/Expanded\";\r\nimport { Flex, FlexElement } from \"../../components/Flex/Flex\";\r\nimport { NameValuePair } from \"../../components/NameValuePair/NameValuePair\";\r\nimport { Stack } from \"../../components/Stack/Stack\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { useRemoteControl } from \"../../hooks/useRemoteControl\";\r\nimport { useVisualizer } from \"../../hooks/useVisualizer\";\r\nimport { Pose } from \"../../lib/tracked-vehicle-kinematics\";\r\nimport { Visualizer, LayerOptions, RenderLayerFn } from \"../../lib/visualizer\";\r\nimport { drawRobot } from \"../../services/drawRobot\";\r\nimport { getVectorLength } from \"../../services/getVectorLength\";\r\nimport { radiansToDegrees } from \"../../services/radiansToDegrees\";\r\nimport { odometryPoseState, initialOdometryPose } from \"../../state/odometryPoseState\";\r\nimport { odometryStepsState } from \"../../state/odometryStepsState\";\r\n\r\n// odometry pose and steps used by visualizer\r\nlet _odometryPose: Pose = initialOdometryPose;\r\nlet _odometrySteps: Pose[] = [initialOdometryPose];\r\n\r\n// subscribes to odometry state and exposes it to the visualizer\r\nconst StateSubscription: React.FC = () => {\r\n  const odometryPose = useRecoilValue(odometryPoseState);\r\n  const odometrySteps = useRecoilValue(odometryStepsState);\r\n\r\n  useEffect(() => {\r\n    _odometryPose = odometryPose;\r\n  }, [odometryPose]);\r\n  useEffect(() => {\r\n    _odometrySteps = odometrySteps;\r\n  }, [odometrySteps]);\r\n\r\n  return null;\r\n};\r\n\r\nexport const RemoteView: React.FC = () => {\r\n  const history = useHistory();\r\n  const visualizerContainerRef = useRef<FlexElement>(null);\r\n  const { gamepadName } = useRemoteControl();\r\n  const resetOdometrySteps = useResetRecoilState(odometryStepsState);\r\n  const resetOdometryPose = useResetRecoilState(odometryPoseState);\r\n\r\n  const setupVisualizer = useCallback((visualizer: Visualizer) => {\r\n    const options = {\r\n      radius: 4,\r\n      cellSize: 0.1,\r\n    };\r\n\r\n    const mapLayerOptions: LayerOptions = {\r\n      getTransform: (layer) => {\r\n        const screenOrigin = {\r\n          x: layer.width / 2,\r\n          y: layer.height / 2,\r\n        };\r\n        // const rotation = -Math.PI / 2;\r\n        const rotation = Math.PI;\r\n        // const rotation = 0;\r\n        const scale = layer.size / 2 / (options.radius + options.cellSize);\r\n\r\n        return {\r\n          horizontalScaling: -1,\r\n          verticalSkewing: 0,\r\n          horizontalSkewing: 0,\r\n          verticalScaling: 1,\r\n          horizontalTranslation: screenOrigin.x,\r\n          verticalTranslation: screenOrigin.y,\r\n          rotation,\r\n          scale,\r\n        };\r\n      },\r\n    };\r\n\r\n    const renderBackground: RenderLayerFn = ({ layer, frame }) => {\r\n      // only draw the first frame\r\n      if (frame > 0) {\r\n        return;\r\n      }\r\n\r\n      const circleStep = options.radius / 4;\r\n\r\n      // draw minor background grid\r\n      layer.drawGrid(\r\n        {\r\n          cellWidth: options.cellSize,\r\n          cellHeight: options.cellSize,\r\n          columns: 2 * Math.ceil(layer.width / layer.getScale() / options.cellSize / 2),\r\n          rows: 2 * Math.ceil(layer.height / layer.getScale() / options.cellSize / 2),\r\n          centered: true,\r\n        },\r\n        { strokeStyle: \"#333\" },\r\n      );\r\n\r\n      // draw mayor background grid\r\n      layer.drawGrid(\r\n        {\r\n          cellWidth: options.cellSize * 5,\r\n          cellHeight: options.cellSize * 5,\r\n          columns: 2 * Math.ceil(layer.width / layer.getScale() / options.cellSize / 5 / 2),\r\n          rows: 2 * Math.ceil(layer.height / layer.getScale() / options.cellSize / 5 / 2),\r\n          centered: true,\r\n        },\r\n        { strokeStyle: \"#444\" },\r\n      );\r\n\r\n      // draw radius circles\r\n      for (let circleRadius = circleStep; circleRadius <= options.radius; circleRadius += circleStep) {\r\n        layer.drawCircle({ radius: circleRadius }, { strokeStyle: \"#444\" });\r\n        layer.drawText(\r\n          {\r\n            origin: { x: -circleRadius, y: 0 },\r\n            text: `${circleRadius.toFixed(0)}m`,\r\n            offset: { x: 10, y: 0 },\r\n          },\r\n          { fillStyle: \"#444\", textBaseline: \"middle\" },\r\n        );\r\n      }\r\n\r\n      // draw coordinates system\r\n      layer.drawCoordinateSystem({\r\n        center: {\r\n          x: options.radius - 0.5,\r\n          y: options.radius - 0.5,\r\n        },\r\n      });\r\n    };\r\n\r\n    const renderOdometry: RenderLayerFn = ({ layer }) => {\r\n      layer.clear();\r\n\r\n      // draw odometry steps\r\n      _odometrySteps.forEach((odometryStep, index) => {\r\n        const previousStep = index > 0 ? _odometrySteps[index - 1] : undefined;\r\n\r\n        if (!previousStep) {\r\n          return;\r\n        }\r\n\r\n        // draw odometry steps as lines, fade out color as further away\r\n        layer.drawLine(\r\n          {\r\n            from: previousStep.position,\r\n            to: odometryStep.position,\r\n          },\r\n          {\r\n            strokeStyle: `rgba(0, 200, 0, ${index / _odometrySteps.length})`,\r\n            lineWidth: 5,\r\n            // lineCap: \"round\",\r\n          },\r\n        );\r\n      });\r\n\r\n      // draw robot\r\n      drawRobot({\r\n        center: _odometryPose.position,\r\n        angle: _odometryPose.angle,\r\n        layer,\r\n      });\r\n\r\n      // draw robot pose\r\n      layer.drawText(\r\n        {\r\n          origin: _odometryPose.position,\r\n          text: `X: ${_odometryPose.position.x.toFixed(2)}`,\r\n          offset: { x: 20, y: 0 },\r\n        },\r\n        { fillStyle: \"#FFF\", textBaseline: \"middle\" },\r\n      );\r\n      layer.drawText(\r\n        {\r\n          origin: _odometryPose.position,\r\n          text: `Y: ${_odometryPose.position.y.toFixed(2)}`,\r\n          offset: { x: 20, y: 20 },\r\n        },\r\n        { fillStyle: \"#FFF\", textBaseline: \"middle\" },\r\n      );\r\n      layer.drawText(\r\n        {\r\n          origin: _odometryPose.position,\r\n          text: `Angle: ${radiansToDegrees(_odometryPose.angle).toFixed(1)}`,\r\n          offset: { x: 20, y: 40 },\r\n        },\r\n        { fillStyle: \"#FFF\", textBaseline: \"middle\" },\r\n      );\r\n\r\n      // draw robot speed\r\n      const speed = getVectorLength(_odometryPose.velocity);\r\n\r\n      layer.drawText(\r\n        {\r\n          origin: _odometryPose.position,\r\n          // text: `Speed: ${speed.toFixed(1)} m/s ${metersInSecondToKilometersPerHour(speed).toFixed(1)} km/h`,\r\n          text: `Speed: ${speed.toFixed(1)} m/s`,\r\n          offset: { x: 20, y: 60 },\r\n        },\r\n        { fillStyle: \"#FFF\", textBaseline: \"middle\" },\r\n      );\r\n    };\r\n\r\n    // map layer is rendered once with grid etc\r\n    visualizer.createLayer({\r\n      ...mapLayerOptions,\r\n      render: renderBackground,\r\n    });\r\n\r\n    // odometry layer is rendered for every frame with odometry details\r\n    visualizer.createLayer({\r\n      ...mapLayerOptions,\r\n      render: renderOdometry,\r\n    });\r\n  }, []);\r\n\r\n  // setup visualizer\r\n  useVisualizer(visualizerContainerRef, setupVisualizer);\r\n\r\n  return (\r\n    <>\r\n      <Flex cover>\r\n        <TitleBar title=\"Remote controller\" onBack={() => history.goBack()} />\r\n\r\n        <Stack expanded>\r\n          <Flex expanded ref={visualizerContainerRef} />\r\n          <Column padded compact>\r\n            <NameValuePair vertical name=\"Controller\">\r\n              {gamepadName ?? \"No gamepad available\"}\r\n            </NameValuePair>\r\n            <Expanded />\r\n            <BlockButton\r\n              tertiary\r\n              onClick={() => {\r\n                // reset both pose and steps\r\n                resetOdometryPose();\r\n                resetOdometrySteps();\r\n              }}\r\n            >\r\n              Reset odometry\r\n            </BlockButton>\r\n          </Column>\r\n        </Stack>\r\n      </Flex>\r\n      <StateSubscription />\r\n    </>\r\n  );\r\n};\r\n","import { Coordinates, Layer } from \"../lib/visualizer\";\r\n\r\nexport function drawRobot({ center, angle, layer }: { center: Coordinates; angle: number; layer: Layer }) {\r\n  layer.drawObject({\r\n    center,\r\n    angle,\r\n    size: { x: 0.123, y: 0.195 },\r\n    // TODO: draw more detailed robot including tracks, lidar scan line etc\r\n    draw: (ctx, { size }) => {\r\n      const screenSize = layer.worldToScreen(size);\r\n      const arrowScale = 0.5;\r\n\r\n      // draw body\r\n      ctx.fillStyle = \"#900\";\r\n      ctx.fillRect(-screenSize.x / 2, -screenSize.y / 2, screenSize.x, screenSize.y);\r\n\r\n      // draw direction arrow\r\n      ctx.fillStyle = \"#FFF\";\r\n      ctx.beginPath();\r\n      ctx.moveTo((-screenSize.x / 2) * arrowScale, (-screenSize.y / 2) * arrowScale);\r\n      ctx.lineTo(0, (screenSize.y / 2) * arrowScale);\r\n      ctx.lineTo((screenSize.x / 2) * arrowScale, (-screenSize.y / 2) * arrowScale);\r\n      ctx.lineTo((-screenSize.x / 2) * arrowScale, (-screenSize.y / 2) * arrowScale);\r\n      ctx.fill();\r\n    },\r\n  });\r\n}\r\n","import { Vector, VectorCoordinates } from \"../lib/vector\";\r\n\r\nexport function getVectorLength(vector: VectorCoordinates) {\r\n  return Vector.fromObject(vector).length();\r\n}\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { ReactComponent as ForwardArrowIcon } from \"../../theme/icons/forward-arrow-icon.svg\";\r\nimport { Column } from \"../Column/Column\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { GridBox } from \"../GridBox/GridBox\";\r\nimport { P } from \"../Paragraph/Paragraph\";\r\nimport { Row } from \"../Row/Row\";\r\nimport styles from \"./List.module.scss\";\r\n\r\n// TODO: use cloneElement instead, so we do not need to manually add props to children\r\nexport const List: React.FC<FlexProps> = ({ children, ...rest }) => <Column {...rest}>{children}</Column>;\r\n\r\nexport interface ListItemProps extends FlexProps {\r\n  leading?: React.ReactNode;\r\n  trailing?: React.ReactNode;\r\n  removeTrailing?: boolean;\r\n  leadingIconAutoSize?: boolean;\r\n  compact?: boolean;\r\n}\r\n\r\nexport const ListItem: React.FC<ListItemProps> = ({\r\n  leading,\r\n  trailing,\r\n  removeTrailing,\r\n  leadingIconAutoSize,\r\n  compact,\r\n  children,\r\n  className,\r\n  ...rest\r\n}) => (\r\n  <Row\r\n    crossAxisAlignment=\"center\"\r\n    className={classNames(styles[\"list-item\"], { [styles[\"list-item--compact\"]]: compact }, className)}\r\n    {...rest}\r\n  >\r\n    {leading && (\r\n      <Container\r\n        className={classNames(styles[\"leading-icon\"], {\r\n          [styles[\"leading-icon--auto-size\"]]: leadingIconAutoSize,\r\n        })}\r\n      >\r\n        {leading}\r\n      </Container>\r\n    )}\r\n    <Container>{children}</Container>\r\n    <Container className={styles[\"trailing-icon\"]}>\r\n      {trailing === undefined ? !removeTrailing && <ForwardArrowIcon /> : trailing}\r\n    </Container>\r\n  </Row>\r\n);\r\n\r\nexport const ListTitle: React.FC<FlexProps> = ({ children, ...rest }) => (\r\n  <>\r\n    <GridBox />\r\n    <Column paddedHorizontal {...rest}>\r\n      <P large darker>\r\n        {children}\r\n      </P>\r\n    </Column>\r\n    <GridBox half />\r\n  </>\r\n);\r\n","import React from \"react\";\r\nimport { Switch, Route, useHistory } from \"react-router-dom\";\r\nimport { List, ListItem } from \"../List/List\";\r\nimport { TitleBar, OnBackCallback } from \"../TitleBar/TitleBar\";\r\nimport { View } from \"../View/View\";\r\n\r\nexport interface Page {\r\n  name: string;\r\n  title: string;\r\n  page: React.ReactNode;\r\n  trailing?: React.ReactNode;\r\n}\r\n\r\nexport interface PageListProps {\r\n  title: string;\r\n  pages: Page[];\r\n  onBack: OnBackCallback;\r\n  buildPagePath: (page: Page, preserveOptional: boolean) => string;\r\n}\r\n\r\nexport const PageList: React.FC<PageListProps> = ({ title, pages, onBack, buildPagePath }) => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Switch>\r\n      {pages.map((page) => (\r\n        <Route key={page.name} path={buildPagePath(page, false)}>\r\n          {page.page}\r\n        </Route>\r\n      ))}\r\n      <Route>\r\n        <View>\r\n          <TitleBar onBack={onBack} title={title} />\r\n          <List scrollable expanded>\r\n            {pages.map((page) => (\r\n              <ListItem\r\n                key={page.name}\r\n                trailing={page.trailing}\r\n                onClick={() => history.push(buildPagePath(page, true))}\r\n              >\r\n                {page.title}\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </View>\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Row } from \"../Row/Row\";\r\nimport styles from \"./ButtonGroup.module.scss\";\r\n\r\ninterface ButtonGroupProps extends FlexProps {\r\n  small?: boolean;\r\n  equalWidth?: boolean;\r\n  rounded?: boolean;\r\n}\r\n\r\nexport const ButtonGroup: React.FC<ButtonGroupProps> = ({\r\n  small,\r\n  equalWidth,\r\n  rounded,\r\n  children,\r\n  className,\r\n  ...rest\r\n}) => (\r\n  <Row\r\n    className={classNames(\r\n      styles[\"button-group\"],\r\n      {\r\n        [styles[\"button-group--small\"]]: small,\r\n        [styles[\"button-group--equal-width\"]]: equalWidth,\r\n        [styles[\"button-group--rounded\"]]: rounded,\r\n      },\r\n      className,\r\n    )}\r\n    {...rest}\r\n  >\r\n    {children}\r\n  </Row>\r\n);\r\n\r\ninterface ButtonGroupButtonProps extends FlexProps {\r\n  transparent?: boolean;\r\n  secondary?: boolean;\r\n  tertiary?: boolean;\r\n  quaternary?: boolean;\r\n  leading?: React.ReactNode;\r\n}\r\n\r\nexport const ButtonGroupButton: React.FC<ButtonGroupButtonProps> = ({\r\n  transparent,\r\n  secondary,\r\n  tertiary,\r\n  quaternary,\r\n  leading,\r\n  className,\r\n  children,\r\n  ...rest\r\n}) => (\r\n  <Row\r\n    center\r\n    className={classNames(\r\n      styles[\"button-group-button\"],\r\n      {\r\n        [styles[\"button-group-button--transparent\"]]: transparent,\r\n        [styles[\"button-group-button--secondary\"]]: secondary,\r\n        [styles[\"button-group-button--tertiary\"]]: tertiary,\r\n        [styles[\"button-group-button--quaternary\"]]: quaternary,\r\n      },\r\n      className,\r\n    )}\r\n    {...rest}\r\n  >\r\n    {leading && <div className={styles[\"leading-icon\"]}>{leading}</div>}\r\n    <Container expanded center>\r\n      {children}\r\n    </Container>\r\n  </Row>\r\n);\r\n","import React from \"react\";\r\nimport { NameValuePair } from \"../NameValuePair/NameValuePair\";\r\n\r\nexport interface RenderCountProps {\r\n  label: string;\r\n}\r\n\r\nexport const RenderCount: React.FC<RenderCountProps> = ({ label }) => {\r\n  const renderCount = useRenderCount(label);\r\n\r\n  return <NameValuePair name=\"Render count\">{renderCount}</NameValuePair>;\r\n};\r\n\r\nconst renderCountMap: Record<string, number | undefined> = {};\r\n\r\nexport function useRenderCount(label: string): number {\r\n  // using useRef(0) would trigger another render so use a simple counter\r\n  const renderCount = renderCountMap[label];\r\n\r\n  if (renderCount !== undefined) {\r\n    renderCountMap[label] = renderCount + 1;\r\n  } else {\r\n    renderCountMap[label] = 1;\r\n  }\r\n\r\n  return renderCountMap[label] as number;\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { ButtonGroup, ButtonGroupButton } from \"../../components/ButtonGroup/ButtonGroup\";\r\nimport { Column } from \"../../components/Column/Column\";\r\nimport { List, ListItem } from \"../../components/List/List\";\r\nimport { P } from \"../../components/Paragraph/Paragraph\";\r\nimport { useRenderCount } from \"../../components/RenderCount/RenderCount\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\nimport { robot } from \"../../services/robot\";\r\nimport { logMessagesState } from \"../../state/logMessagesState\";\r\n\r\nexport const LogExperiment: React.FC = () => {\r\n  const history = useHistory();\r\n  const [logMessages, setLogMessages] = useRecoilState(logMessagesState);\r\n  const renderCount = useRenderCount(\"LogExperiment\");\r\n\r\n  return (\r\n    <View>\r\n      <TitleBar\r\n        title=\"Log experiment\"\r\n        onBack={() =>\r\n          history.replace(\r\n            buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: \"settings\", page: \"experiments\" }),\r\n          )\r\n        }\r\n      />\r\n      <List>\r\n        <ListItem compact trailing={renderCount}>\r\n          Render count\r\n        </ListItem>\r\n      </List>\r\n      <Column expanded scrollable padded compact autoscroll>\r\n        {logMessages.map(({ type, message }, index) => (\r\n          <P small key={index}>\r\n            [{type}] {message}\r\n          </P>\r\n        ))}\r\n      </Column>\r\n      <ButtonGroup equalWidth>\r\n        <ButtonGroupButton tertiary onClick={() => setLogMessages([])}>\r\n          Clear log\r\n        </ButtonGroupButton>\r\n        <ButtonGroupButton tertiary onClick={() => robot.requestState()}>\r\n          Request state\r\n        </ButtonGroupButton>\r\n      </ButtonGroup>\r\n    </View>\r\n  );\r\n};\r\n","import { atom } from \"recoil\";\r\n\r\nexport enum SerialStatus {\r\n  CONNECTING = \"CONNECTING\",\r\n  CONNECTED = \"CONNECTED\",\r\n  DISCONNECTED = \"DISCONNECTED\",\r\n  NOT_SUPPORTED = \"NOT_SUPPORTED\",\r\n  DEVICE_NOT_FOUND = \"DEVICE_NOT_FOUND\",\r\n  DISABLED = \"DISABLED\",\r\n}\r\n\r\nexport const serialStatusState = atom<SerialStatus>({\r\n  key: \"serialStatusState\",\r\n  default: SerialStatus.DISCONNECTED,\r\n});\r\n","import React from \"react\";\r\nimport { usePrevious } from \"../../hooks/usePrevious\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport styles from \"./PageView.module.scss\";\r\n\r\nexport interface PageViewStats {\r\n  isActive: boolean;\r\n  isPrevious: boolean;\r\n  isVisible: boolean;\r\n  activePageIndex: number;\r\n  previousPageIndex: number | undefined;\r\n  distance: number;\r\n}\r\n\r\nexport type GeneratePageFn = (pageIndex: number, stats: PageViewStats) => React.ReactNode;\r\n\r\nexport interface PageViewProps extends FlexProps {\r\n  pageCount: number;\r\n  activePageIndex: number;\r\n  buildPage: GeneratePageFn;\r\n}\r\n\r\nexport const PageView: React.FC<PageViewProps> = ({ pageCount, activePageIndex, buildPage, ...rest }) => {\r\n  const previousPageIndex = usePrevious(activePageIndex);\r\n\r\n  if (activePageIndex < 0) {\r\n    throw new Error(\"Expected active page index to be positive\");\r\n  }\r\n\r\n  if (pageCount !== undefined && activePageIndex > pageCount - 1) {\r\n    throw new Error(`Expected active page index to be between 0 and ${pageCount - 1}, got ${activePageIndex}`);\r\n  }\r\n\r\n  const position = activePageIndex * -100;\r\n\r\n  return (\r\n    <Container className={styles.viewport} {...rest}>\r\n      <div className={styles.slider} style={{ transform: `translate3d(${position}%, 0px, 0px)` }}>\r\n        {Array(pageCount)\r\n          .fill(null)\r\n          .map((_, index) => {\r\n            const distance = Math.abs(index - activePageIndex);\r\n            const isActive = index === activePageIndex;\r\n            const isPrevious = index === previousPageIndex;\r\n            const isVisible = isActive || isPrevious;\r\n\r\n            const page = buildPage(index, {\r\n              isActive,\r\n              isPrevious,\r\n              isVisible,\r\n              activePageIndex,\r\n              previousPageIndex,\r\n              distance,\r\n            });\r\n\r\n            return (\r\n              <Container cover key={index} style={{ left: `${index * 100}%` }}>\r\n                {page}\r\n              </Container>\r\n            );\r\n          })}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport function usePrevious<T>(value: T) {\r\n  const ref = useRef<T>();\r\n\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n\r\n  return ref.current;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Container } from \"../../components/Container/Container\";\r\nimport { MainMenu, MainMenuItem } from \"../../components/MainMenu/MainMenu\";\r\nimport { PageView } from \"../../components/PageView/PageView\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { useDisableScrolling } from \"../../hooks/useDisableScrolling\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\nimport { ReactComponent as ControllerIcon } from \"../../theme/icons/controller-icon.svg\";\r\nimport { ReactComponent as MapIcon } from \"../../theme/icons/map-icon.svg\";\r\nimport { ReactComponent as RemoteIcon } from \"../../theme/icons/remote-icon.svg\";\r\nimport { ReactComponent as SettingsIcon } from \"../../theme/icons/settings-icon.svg\";\r\nimport { ReactComponent as StatusIcon } from \"../../theme/icons/status-icon.svg\";\r\n\r\nexport const MainMenuExperiment: React.FC = () => {\r\n  const [activeItemIndex, setActiveItemIndex] = useState(0);\r\n  const history = useHistory();\r\n\r\n  useDisableScrolling();\r\n\r\n  return (\r\n    <View>\r\n      <TitleBar\r\n        title=\"Main menu experiment\"\r\n        onBack={() =>\r\n          history.replace(\r\n            buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: \"settings\", page: \"experiments\" }),\r\n          )\r\n        }\r\n      />\r\n      <PageView\r\n        expanded\r\n        pageCount={5}\r\n        activePageIndex={activeItemIndex}\r\n        buildPage={(pageIndex) => (\r\n          <Container cover center>\r\n            Page {pageIndex}\r\n          </Container>\r\n        )}\r\n      />\r\n      <MainMenu activeItemIndex={activeItemIndex} onItemClick={setActiveItemIndex}>\r\n        <MainMenuItem icon={<StatusIcon />}>Status</MainMenuItem>\r\n        <MainMenuItem icon={<MapIcon />}>Map</MainMenuItem>\r\n        <MainMenuItem icon={<ControllerIcon />}>Controller</MainMenuItem>\r\n        <MainMenuItem icon={<RemoteIcon />}>Remote</MainMenuItem>\r\n        <MainMenuItem icon={<SettingsIcon />}>Settings</MainMenuItem>\r\n      </MainMenu>\r\n    </View>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useSound from \"use-sound\";\r\nimport { ButtonGroup, ButtonGroupButton } from \"../../components/ButtonGroup/ButtonGroup\";\r\nimport { Column } from \"../../components/Column/Column\";\r\nimport { List, ListItem } from \"../../components/List/List\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\n\r\nexport const SoundExperiment: React.FC = () => {\r\n  const history = useHistory();\r\n  const [play, { stop, pause, isPlaying, duration }] = useSound(\"/sounds/low-battery.mp3\");\r\n\r\n  return (\r\n    <View>\r\n      <TitleBar\r\n        title=\"Sound experiment\"\r\n        onBack={() =>\r\n          history.replace(\r\n            buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: \"settings\", page: \"experiments\" }),\r\n          )\r\n        }\r\n      />\r\n      <Column expanded scrollable>\r\n        <List>\r\n          <ListItem compact trailing={isPlaying ? \"yes\" : \"no\"}>\r\n            Is playing\r\n          </ListItem>\r\n          <ListItem compact trailing={duration ? `${Math.ceil(duration / 1000)}s` : \"n/a\"}>\r\n            Duration\r\n          </ListItem>\r\n        </List>\r\n      </Column>\r\n      <ButtonGroup equalWidth>\r\n        <ButtonGroupButton tertiary onClick={() => play()}>\r\n          Play\r\n        </ButtonGroupButton>\r\n        <ButtonGroupButton tertiary onClick={() => pause()}>\r\n          Pause\r\n        </ButtonGroupButton>\r\n        <ButtonGroupButton tertiary onClick={() => stop()}>\r\n          Stop\r\n        </ButtonGroupButton>\r\n      </ButtonGroup>\r\n    </View>\r\n  );\r\n};\r\n","import { atom } from \"recoil\";\r\n\r\nexport const activeTransportNameState = atom<string | undefined>({\r\n  key: \"activeTransportNameState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport const lastHeartbeatTimeState = atom<Date | undefined>({\r\n  key: \"lastHeartbeatTimeState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport const timerState = atom<number>({\r\n  key: \"timerState\",\r\n  default: Date.now(),\r\n});\r\n","import { selector } from \"recoil\";\r\nimport { lastHeartbeatTimeState } from \"./lastHeartbeatTimeState\";\r\nimport { timerState } from \"./timerState\";\r\n\r\nexport const aliveState = selector<boolean>({\r\n  key: \"aliveState\",\r\n  get: ({ get }) => {\r\n    const lastHeartbeatTime = get(lastHeartbeatTimeState);\r\n\r\n    if (!lastHeartbeatTime) {\r\n      return false;\r\n    }\r\n\r\n    // subscibe to timer to resolve this state at interval\r\n    get(timerState);\r\n\r\n    // expecting heartbeat updates every second so consider offline if haven't received one in two seconds\r\n    return Date.now() - lastHeartbeatTime.getTime() < 2000;\r\n  },\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport interface AhrsAttitude {\r\n  readonly roll: number;\r\n  readonly pitch: number;\r\n  readonly yaw: number;\r\n}\r\n\r\nexport const attitudeState = atom<AhrsAttitude | undefined>({\r\n  key: \"attitudeState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport interface ButtonsState {\r\n  readonly left: boolean;\r\n  readonly right: boolean;\r\n  readonly start: boolean;\r\n}\r\n\r\nexport const buttonsState = atom<ButtonsState>({\r\n  key: \"buttonsState\",\r\n  default: {\r\n    left: false,\r\n    right: false,\r\n    start: false,\r\n  },\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\n// represents current motor speeds in encoder counts per second (QPPS)\r\nexport interface CurrentSpeedsState {\r\n  readonly left: number;\r\n  readonly right: number;\r\n}\r\n\r\nexport const currentSpeedsState = atom<CurrentSpeedsState>({\r\n  key: \"currentSpeedsState\",\r\n  default: {\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\n// represents motor currents in amps\r\nexport interface CurrentsState {\r\n  readonly left: number;\r\n  readonly right: number;\r\n}\r\n\r\nexport const currentsState = atom<CurrentsState>({\r\n  key: \"currentsState\",\r\n  default: {\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\n// represents encoder steps values\r\nexport interface EncodersState {\r\n  readonly left: number;\r\n  readonly right: number;\r\n}\r\n\r\nexport const encodersState = atom<EncodersState>({\r\n  key: \"encodersState\",\r\n  default: {\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport interface LidarMeasurement {\r\n  readonly angle: number;\r\n  readonly distance: number;\r\n  readonly quality: number;\r\n  readonly timestamp: number;\r\n}\r\n\r\nexport const lidarMeasurementsState = atom<LidarMeasurement[]>({\r\n  key: \"lidarMeasurementsState\",\r\n  default: [],\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport interface LidarStatus {\r\n  readonly isRunning: boolean;\r\n  readonly isValid: boolean;\r\n  readonly targetRpm: number;\r\n  readonly currentRpm: number;\r\n  readonly motorPwm: number;\r\n}\r\n\r\nexport const lidarStatusState = atom<LidarStatus | undefined>({\r\n  key: \"lidarStatusState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport const loadState = atom<number | undefined>({\r\n  key: \"loadState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport const loopFrequencyState = atom<number | undefined>({\r\n  key: \"loopFrequencyState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport const motorsConnectedState = atom({\r\n  key: \"motorsConnectedState\",\r\n  default: false,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport const serverIpState = atom<string | undefined>({\r\n  key: \"serverIpState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\n// represents target motor speeds in encoder counts per second (QPPS)\r\nexport interface TargetSpeedsState {\r\n  readonly left: number;\r\n  readonly right: number;\r\n}\r\n\r\nexport const targetSpeedsState = atom<TargetSpeedsState>({\r\n  key: \"targetSpeedsState\",\r\n  default: {\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\n// represents usb connection details\r\nexport interface UsbState {\r\n  readonly vendorId: number;\r\n  readonly productId: number;\r\n  readonly name: string;\r\n}\r\n\r\nexport const usbState = atom<UsbState | undefined>({\r\n  key: \"usbState\",\r\n  default: undefined,\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nexport const voltageState = atom<number | undefined>({\r\n  key: \"voltageState\",\r\n  default: undefined,\r\n});\r\n","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { ButtonGroup, ButtonGroupButton } from \"../../components/ButtonGroup/ButtonGroup\";\r\nimport { Column } from \"../../components/Column/Column\";\r\nimport { List, ListItem } from \"../../components/List/List\";\r\nimport { useRenderCount } from \"../../components/RenderCount/RenderCount\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\nimport { robot } from \"../../services/robot\";\r\nimport { activeTransportNameState } from \"../../state/activeTransportNameState\";\r\nimport { aliveState } from \"../../state/aliveState\";\r\nimport { attitudeState } from \"../../state/attitudeState\";\r\nimport { buttonsState } from \"../../state/buttonsState\";\r\nimport { currentSpeedsState } from \"../../state/currentSpeedsState\";\r\nimport { currentsState } from \"../../state/currentsState\";\r\nimport { encodersState } from \"../../state/encodersState\";\r\nimport { lastHeartbeatTimeState } from \"../../state/lastHeartbeatTimeState\";\r\nimport { lidarMeasurementsState } from \"../../state/lidarMeasurementsState\";\r\nimport { lidarStatusState } from \"../../state/lidarStatusState\";\r\nimport { loadState } from \"../../state/loadState\";\r\nimport { logMessagesState } from \"../../state/logMessagesState\";\r\nimport { loopFrequencyState } from \"../../state/loopFrequencyState\";\r\nimport { motorsConnectedState } from \"../../state/motorsConnectedState\";\r\nimport { serialStatusState } from \"../../state/serialStatusState\";\r\nimport { serverIpState } from \"../../state/serverIpState\";\r\nimport { targetSpeedsState } from \"../../state/targetSpeedsState\";\r\nimport { timerState } from \"../../state/timerState\";\r\nimport { transportStatusState } from \"../../state/transportStatusState\";\r\nimport { usbState } from \"../../state/usbState\";\r\nimport { voltageState } from \"../../state/voltageState\";\r\n\r\nexport const StateExperiment: React.FC = () => {\r\n  const history = useHistory();\r\n\r\n  const activeTransportName = useRecoilValue(activeTransportNameState);\r\n  const serverIp = useRecoilValue(serverIpState);\r\n  const transportStatus = useRecoilValue(transportStatusState);\r\n  const serialStatus = useRecoilValue(serialStatusState);\r\n  // TODO: generates warning \"index.js:1 Warning: Cannot update a component (`Batcher`) while rendering a different component..\"\r\n  const isAlive = useRecoilValue(aliveState);\r\n  const areMotorsConnected = useRecoilValue(motorsConnectedState);\r\n  const timer = useRecoilValue(timerState);\r\n  const lastHeartbeatTime = useRecoilValue(lastHeartbeatTimeState);\r\n  const logMessages = useRecoilValue(logMessagesState);\r\n  const voltage = useRecoilValue(voltageState);\r\n  const load = useRecoilValue(loadState);\r\n  const loopFrequency = useRecoilValue(loopFrequencyState);\r\n  const attitude = useRecoilValue(attitudeState);\r\n  const buttons = useRecoilValue(buttonsState);\r\n  const currents = useRecoilValue(currentsState);\r\n  const targetSpeeds = useRecoilValue(targetSpeedsState);\r\n  const currentSpeeds = useRecoilValue(currentSpeedsState);\r\n  const encoders = useRecoilValue(encodersState);\r\n  const lidarStatus = useRecoilValue(lidarStatusState);\r\n  const usb = useRecoilValue(usbState);\r\n  const lidarMeasurements = useRecoilValue(lidarMeasurementsState);\r\n  const renderCount = useRenderCount(\"StateExperiment\");\r\n\r\n  // request initial state\r\n  useEffect(() => robot.requestState(), []);\r\n\r\n  return (\r\n    <View>\r\n      <TitleBar\r\n        title=\"State experiment\"\r\n        onBack={() =>\r\n          history.replace(\r\n            buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: \"settings\", page: \"experiments\" }),\r\n          )\r\n        }\r\n      />\r\n      <Column expanded scrollable>\r\n        <List>\r\n          <ListItem compact trailing={activeTransportName ?? \"n/a\"}>\r\n            Active transport name\r\n          </ListItem>\r\n          <ListItem compact trailing={serverIp ?? \"n/a\"}>\r\n            Server ip\r\n          </ListItem>\r\n          <ListItem compact trailing={transportStatus}>\r\n            Transport status\r\n          </ListItem>\r\n          <ListItem compact trailing={serialStatus}>\r\n            USB serial status\r\n          </ListItem>\r\n          <ListItem compact trailing={isAlive ? \"YES\" : \"NO\"}>\r\n            Firmware connection alive\r\n          </ListItem>\r\n          <ListItem compact trailing={areMotorsConnected ? \"YES\" : \"NO\"}>\r\n            Motors connected\r\n          </ListItem>\r\n          <ListItem compact trailing={new Date(timer).toLocaleTimeString()}>\r\n            Timer\r\n          </ListItem>\r\n          <ListItem compact trailing={lastHeartbeatTime ? lastHeartbeatTime.toLocaleTimeString() : \"n/a\"}>\r\n            Last heartbeat time\r\n          </ListItem>\r\n          <ListItem\r\n            compact\r\n            trailing={logMessages.length}\r\n            onClick={() =>\r\n              history.push(\r\n                buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, {\r\n                  menu: \"settings\",\r\n                  page: \"experiments\",\r\n                  modifier: \"log\",\r\n                }),\r\n              )\r\n            }\r\n          >\r\n            Log message count\r\n          </ListItem>\r\n          <ListItem compact trailing={voltage ? `${voltage.toFixed(1)}V` : \"n/a\"}>\r\n            Voltage\r\n          </ListItem>\r\n          <ListItem compact trailing={load ? `${load}%` : \"n/a\"}>\r\n            Firmware main loop load\r\n          </ListItem>\r\n          <ListItem compact trailing={loopFrequency ? `${loopFrequency}Hz` : \"n/a\"}>\r\n            Firmware main loop update frequency\r\n          </ListItem>\r\n          <ListItem compact trailing={attitude ? `${attitude.roll.toFixed(2)}` : \"n/a\"}>\r\n            Attitude roll\r\n          </ListItem>\r\n          <ListItem compact trailing={attitude ? `${attitude.pitch.toFixed(2)}` : \"n/a\"}>\r\n            Attitude pitch\r\n          </ListItem>\r\n          <ListItem compact trailing={attitude ? `${attitude.yaw.toFixed(2)}` : \"n/a\"}>\r\n            Attitude yaw\r\n          </ListItem>\r\n          <ListItem compact trailing={buttons.left ? \"pressed\" : \"released\"}>\r\n            Left button\r\n          </ListItem>\r\n          <ListItem compact trailing={buttons.right ? \"pressed\" : \"released\"}>\r\n            Right button\r\n          </ListItem>\r\n          <ListItem compact trailing={buttons.start ? \"pressed\" : \"released\"}>\r\n            Start button\r\n          </ListItem>\r\n          <ListItem compact trailing={`${currents.left.toFixed(2)}A`} onClick={() => robot.requestCurrent()}>\r\n            Left motor current\r\n          </ListItem>\r\n          <ListItem compact trailing={`${currents.right.toFixed(2)}A`} onClick={() => robot.requestCurrent()}>\r\n            Right motor current\r\n          </ListItem>\r\n          <ListItem compact trailing={targetSpeeds.left}>\r\n            Left motor target speed\r\n          </ListItem>\r\n          <ListItem compact trailing={targetSpeeds.right}>\r\n            Right motor target speed\r\n          </ListItem>\r\n          <ListItem compact trailing={currentSpeeds.left}>\r\n            Left motor current speed\r\n          </ListItem>\r\n          <ListItem compact trailing={currentSpeeds.right}>\r\n            Right motor current speed\r\n          </ListItem>\r\n          <ListItem compact trailing={encoders.left}>\r\n            Left encoder\r\n          </ListItem>\r\n          <ListItem compact trailing={encoders.right}>\r\n            Right encoder\r\n          </ListItem>\r\n          <ListItem compact trailing={lidarStatus ? (lidarStatus.isRunning ? \"YES\" : \"NO\") : \"n/a\"}>\r\n            Lidar running\r\n          </ListItem>\r\n          <ListItem compact trailing={lidarStatus ? (lidarStatus.isValid ? \"YES\" : \"NO\") : \"n/a\"}>\r\n            Lidar valid\r\n          </ListItem>\r\n          <ListItem compact trailing={lidarStatus ? lidarStatus.targetRpm : \"n/a\"}>\r\n            Lidar target RPM\r\n          </ListItem>\r\n          <ListItem compact trailing={lidarStatus ? lidarStatus.currentRpm : \"n/a\"}>\r\n            Lidar current RPM\r\n          </ListItem>\r\n          <ListItem compact trailing={lidarStatus ? `${lidarStatus.motorPwm}%` : \"n/a\"}>\r\n            Lidar PWM duty cycle\r\n          </ListItem>\r\n          <ListItem compact trailing={usb?.vendorId ?? \"n/a\"}>\r\n            USB vendor id\r\n          </ListItem>\r\n          <ListItem compact trailing={usb?.productId ?? \"n/a\"}>\r\n            USB product id\r\n          </ListItem>\r\n          <ListItem compact trailing={usb?.name ?? \"n/a\"}>\r\n            USB name\r\n          </ListItem>\r\n          <ListItem compact trailing={lidarMeasurements.length}>\r\n            Lidar measurement count\r\n          </ListItem>\r\n          <ListItem compact trailing={renderCount}>\r\n            Render count\r\n          </ListItem>\r\n        </List>\r\n      </Column>\r\n      <ButtonGroup equalWidth>\r\n        <ButtonGroupButton\r\n          tertiary\r\n          onClick={() =>\r\n            robot.setMotorTargetRpms({\r\n              left: 60,\r\n              right: 60,\r\n            })\r\n          }\r\n        >\r\n          Start motors\r\n        </ButtonGroupButton>\r\n        <ButtonGroupButton tertiary onClick={() => robot.stop()}>\r\n          Stop motors\r\n        </ButtonGroupButton>\r\n        <ButtonGroupButton tertiary onClick={() => robot.requestState()}>\r\n          Request state\r\n        </ButtonGroupButton>\r\n      </ButtonGroup>\r\n    </View>\r\n  );\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { TransportListener } from \"../lib/transport\";\r\nimport { multiTransport } from \"../services/multiTransport\";\r\nimport { websocketTransport } from \"../services/websocketTransport\";\r\nimport { websocketHostState } from \"../state/websocketHostState\";\r\n\r\nexport function useTransportListener(listener: TransportListener) {\r\n  const websocketHost = useRecoilValue(websocketHostState);\r\n\r\n  // register transport listener\r\n  useEffect(() => {\r\n    multiTransport.addListener(listener);\r\n\r\n    // attempt to establish connection\r\n    void multiTransport.connect();\r\n\r\n    return () => {\r\n      multiTransport.removeListener(listener);\r\n    };\r\n  }, [listener]);\r\n\r\n  // update websocket host if state changes\r\n  useEffect(() => {\r\n    const existingWebsocketHost = websocketTransport.getOptions().host;\r\n\r\n    // skip if host missing or has not changed\r\n    if (!websocketHost || websocketHost === existingWebsocketHost) {\r\n      return;\r\n    }\r\n\r\n    websocketTransport.updateOptions({\r\n      host: websocketHost,\r\n    });\r\n    websocketTransport.connect();\r\n  }, [websocketHost]);\r\n}\r\n","import React, { useState, useMemo } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { ButtonGroup, ButtonGroupButton } from \"../../components/ButtonGroup/ButtonGroup\";\r\nimport { Column } from \"../../components/Column/Column\";\r\nimport { ListItem, List } from \"../../components/List/List\";\r\nimport { P } from \"../../components/Paragraph/Paragraph\";\r\nimport { useRenderCount } from \"../../components/RenderCount/RenderCount\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { useLog } from \"../../hooks/useLog\";\r\nimport { useTransportListener } from \"../../hooks/useTransportListener\";\r\nimport { TransportStatus, TransportListener } from \"../../lib/transport\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\nimport { robot } from \"../../services/robot\";\r\nimport { logMessagesState } from \"../../state/logMessagesState\";\r\n\r\nexport const TransportExperiment: React.FC = () => {\r\n  const history = useHistory();\r\n  const [connectionState, setConnectionState] = useState(TransportStatus.DISCONNECTED);\r\n  const logMessages = useRecoilValue(logMessagesState);\r\n  const renderCount = useRenderCount(\"TransportExperiment\");\r\n  const log = useLog();\r\n\r\n  // transport listener, just logs everything\r\n  const transportListener = useMemo<TransportListener>(\r\n    () => ({\r\n      onStatusChanged: (transport, newState, _previousState) => {\r\n        setConnectionState(newState);\r\n\r\n        log.info(`${transport.getName()} state changed to ${newState}`);\r\n      },\r\n      onError: (_transport, error) => {\r\n        log.error(`transport error occurred${error ? ` (${error.message})` : \"\"}`);\r\n      },\r\n      onMessageSent: (transport, message, wasSentSuccessfully: boolean) => {\r\n        if (wasSentSuccessfully) {\r\n          log.send(`${message}${!wasSentSuccessfully ? \" [SENDING FAILED]\" : \"\"}`, transport.getName());\r\n        } else {\r\n          log.error(`sending message \"${message}\" failed`, transport.getName());\r\n        }\r\n      },\r\n      onMessageReceived: (transport, message) => {\r\n        log.receive(message, transport.getName());\r\n      },\r\n    }),\r\n    // we don't want to create new listener when log changes\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  );\r\n\r\n  useTransportListener(transportListener);\r\n\r\n  return (\r\n    <View>\r\n      <TitleBar\r\n        title=\"Transport experiment\"\r\n        onBack={() =>\r\n          history.replace(\r\n            buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: \"settings\", page: \"experiments\" }),\r\n          )\r\n        }\r\n      />\r\n      <Column expanded scrollable>\r\n        <List>\r\n          <ListItem compact trailing={connectionState}>\r\n            Connection state\r\n          </ListItem>\r\n          <ListItem compact trailing={renderCount}>\r\n            Render count\r\n          </ListItem>\r\n        </List>\r\n        <Column expanded padded compact autoscroll>\r\n          {logMessages.map(({ type, message }, index) => (\r\n            <P small key={index}>\r\n              [{type}] {message}\r\n            </P>\r\n          ))}\r\n        </Column>\r\n      </Column>\r\n      <ButtonGroup equalWidth>\r\n        <ButtonGroupButton tertiary onClick={() => robot.ping()}>\r\n          Ping\r\n        </ButtonGroupButton>\r\n        <ButtonGroupButton\r\n          tertiary\r\n          onClick={() =>\r\n            robot.setMotorTargetRpms({\r\n              left: 60,\r\n              right: 60,\r\n            })\r\n          }\r\n        >\r\n          Start motors\r\n        </ButtonGroupButton>\r\n        <ButtonGroupButton tertiary onClick={() => robot.stop()}>\r\n          Stop motors\r\n        </ButtonGroupButton>\r\n      </ButtonGroup>\r\n    </View>\r\n  );\r\n};\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBatteryIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    fill: \"#FFFFFF\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"35px\",\n    height: \"32px\",\n    viewBox: \"0 0 35 32\",\n    enableBackground: \"new 0 0 35 32\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.5,25H11c0.276,0,0.5-0.224,0.5-0.5S11.276,24,11,24H1.5C1.225,24,1,23.776,1,23.5v-15 C1,8.224,1.225,8,1.5,8H11c0.276,0,0.5-0.224,0.5-0.5S11.276,7,11,7H1.5C0.673,7,0,7.673,0,8.5v15C0,24.327,0.673,25,1.5,25z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31,12V8.5C31,7.673,30.327,7,29.5,7H20c-0.276,0-0.5,0.224-0.5,0.5S19.724,8,20,8h9.5 C29.775,8,30,8.224,30,8.5v15c0,0.276-0.225,0.5-0.5,0.5H19c-0.276,0-0.5,0.224-0.5,0.5S18.724,25,19,25h10.5 c0.827,0,1.5-0.673,1.5-1.5V21h2.5c0.827,0,1.5-0.673,1.5-1.5v-6c0-0.827-0.673-1.5-1.5-1.5H31z M34,13.5v6 c0,0.276-0.225,0.5-0.5,0.5H31v-7h2.5C33.775,13,34,13.224,34,13.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.909,31.733c0.06,0.023,0.122,0.035,0.183,0.035c0.176,0,0.344-0.093,0.435-0.253l10.65-18.768 c0.088-0.155,0.087-0.344-0.003-0.498C24.085,12.095,23.92,12,23.742,12h-7.076l3.062-11.605c0.062-0.236-0.056-0.483-0.278-0.583 c-0.221-0.099-0.484-0.025-0.621,0.178L7.326,17.222c-0.103,0.154-0.112,0.351-0.024,0.514C7.389,17.898,7.558,18,7.742,18h7.947 l-3.084,13.153C12.548,31.396,12.678,31.643,12.909,31.733z M16.807,17.614c0.035-0.149,0-0.305-0.095-0.425S16.473,17,16.32,17 H8.677l9.32-13.961l-2.464,9.334c-0.04,0.15-0.008,0.31,0.087,0.433S15.861,13,16.017,13h6.867l-8.512,14.999L16.807,17.614z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBatteryIcon);\nexport default __webpack_public_path__ + \"static/media/battery-icon.db60378c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef, useCallback } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Flex } from \"../../components/Flex/Flex\";\r\nimport { FlexElement } from \"../../components/Flex/Flex\";\r\nimport { TitleBar } from \"../../components/TitleBar/TitleBar\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { useVisualizer } from \"../../hooks/useVisualizer\";\r\nimport { Visualizer, LayerOptions, FrameInfo } from \"../../lib/visualizer\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\n\r\nexport const VisualizerExperiment: React.FC = () => {\r\n  const history = useHistory();\r\n  const visualizerContainerRef = useRef<FlexElement>(null);\r\n\r\n  const setupVisualizer = useCallback((visualizer: Visualizer) => {\r\n    const options = {\r\n      radius: 4,\r\n      cellSize: 0.1,\r\n    };\r\n\r\n    const mapLayerOptions: LayerOptions = {\r\n      getTransform: (layer) => {\r\n        const screenOrigin = {\r\n          x: layer.width / 2,\r\n          y: layer.height / 2,\r\n        };\r\n        const rotation = -Math.PI / 2;\r\n        const scale = layer.size / 2 / (options.radius + options.cellSize);\r\n\r\n        return {\r\n          horizontalScaling: -1,\r\n          verticalSkewing: 0,\r\n          horizontalSkewing: 0,\r\n          verticalScaling: 1,\r\n          horizontalTranslation: screenOrigin.x,\r\n          verticalTranslation: screenOrigin.y,\r\n          rotation,\r\n          scale,\r\n        };\r\n      },\r\n    };\r\n\r\n    const renderBackground = ({ layer, frame }: FrameInfo) => {\r\n      // only draw the first frame\r\n      if (frame > 0) {\r\n        return;\r\n      }\r\n\r\n      const gridSize = (options.radius * 2) / options.cellSize;\r\n      const circleStep = options.radius / 4;\r\n\r\n      // draw full size background grid\r\n      layer.drawGrid(\r\n        {\r\n          cellWidth: options.cellSize,\r\n          cellHeight: options.cellSize,\r\n          columns: 2 * Math.ceil(layer.height / layer.getScale() / options.cellSize / 2),\r\n          rows: 2 * Math.ceil(layer.width / layer.getScale() / options.cellSize / 2),\r\n          centered: true,\r\n        },\r\n        { strokeStyle: \"#222\" },\r\n      );\r\n\r\n      // draw map sized active grid\r\n      layer.drawGrid(\r\n        {\r\n          rows: gridSize,\r\n          columns: gridSize,\r\n          cellWidth: options.cellSize,\r\n          cellHeight: options.cellSize,\r\n          centered: true,\r\n        },\r\n        { strokeStyle: \"#333\" },\r\n      );\r\n\r\n      // draw radius circles\r\n      for (let circleRadius = circleStep; circleRadius <= options.radius; circleRadius += circleStep) {\r\n        layer.drawCircle({ radius: circleRadius }, { strokeStyle: \"#444\" });\r\n        layer.drawText(\r\n          {\r\n            origin: { x: 0, y: circleRadius },\r\n            text: `${circleRadius.toFixed(2)}m`,\r\n            offset: { x: 10, y: 0 },\r\n          },\r\n          { fillStyle: \"#444\", textBaseline: \"middle\" },\r\n        );\r\n      }\r\n\r\n      // draw coordinates system\r\n      layer.drawCoordinateSystem();\r\n    };\r\n\r\n    visualizer.createLayer({\r\n      ...mapLayerOptions,\r\n      render: renderBackground,\r\n    });\r\n  }, []);\r\n\r\n  useVisualizer(visualizerContainerRef, setupVisualizer);\r\n\r\n  return (\r\n    <View>\r\n      <TitleBar\r\n        title=\"Visualizer experiment\"\r\n        onBack={() =>\r\n          history.replace(\r\n            buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: \"settings\", page: \"experiments\" }),\r\n          )\r\n        }\r\n      />\r\n      <Flex expanded ref={visualizerContainerRef} />\r\n    </View>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PageList, Page } from \"../../components/PageList/PageList\";\r\nimport { MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildPath } from \"../../services/buildPath\";\r\nimport { LogExperiment } from \"./LogExperiment\";\r\nimport { MainMenuExperiment } from \"./MainMenuExperiment\";\r\nimport { SoundExperiment } from \"./SoundExperiment\";\r\nimport { StateExperiment } from \"./StateExperiment\";\r\nimport { TransportExperiment } from \"./TransportExperiment\";\r\nimport { VisualizerExperiment } from \"./VisualizerExperiment\";\r\n\r\nconst pages: Page[] = [\r\n  {\r\n    name: \"transport\",\r\n    title: \"Transport experiment\",\r\n    page: <TransportExperiment />,\r\n  },\r\n  {\r\n    name: \"log\",\r\n    title: \"Log experiment\",\r\n    page: <LogExperiment />,\r\n  },\r\n  {\r\n    name: \"state\",\r\n    title: \"State experiment\",\r\n    page: <StateExperiment />,\r\n  },\r\n  {\r\n    name: \"sound\",\r\n    title: \"Sound experiment\",\r\n    page: <SoundExperiment />,\r\n  },\r\n  {\r\n    name: \"main-menu\",\r\n    title: \"Main menu experiment\",\r\n    page: <MainMenuExperiment />,\r\n  },\r\n  {\r\n    name: \"visualizer\",\r\n    title: \"Visualizer experiment\",\r\n    page: <VisualizerExperiment />,\r\n  },\r\n];\r\n\r\nexport const ExperimentsView: React.FC = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <PageList\r\n      title=\"Experiments\"\r\n      pages={pages}\r\n      onBack={() => history.replace(\"/\")}\r\n      buildPagePath={(page, removeOptional) =>\r\n        buildPath<MainMenuViewParams>(\r\n          MAIN_MENU_VIEW_PATH,\r\n          {\r\n            menu: \"settings\",\r\n            page: \"experiments\",\r\n            modifier: page.name,\r\n          },\r\n          removeOptional,\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Page, PageList } from \"../../components/PageList/PageList\";\r\nimport { MAIN_MENU_VIEW_PATH, MainMenuViewParams } from \"../../routes\";\r\nimport { buildPath } from \"../../services/buildPath\";\r\nimport { ConfigureConnectionView } from \"../ConfigureConnectionView/ConfigureConnectionView\";\r\nimport { ExperimentsView } from \"../ExperimentsView/ExperimentsView\";\r\n\r\nconst pages: Page[] = [\r\n  {\r\n    name: \"connection\",\r\n    title: \"Configure connection\",\r\n    page: <ConfigureConnectionView />,\r\n  },\r\n  {\r\n    name: \"experiments\",\r\n    title: \"Experiments\",\r\n    page: <ExperimentsView />,\r\n  },\r\n];\r\n\r\nexport const SettingsView: React.FC = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <PageList\r\n      title=\"Settings\"\r\n      pages={pages}\r\n      onBack={() => history.goBack()}\r\n      buildPagePath={(page, removeOptional) =>\r\n        buildPath<MainMenuViewParams>(\r\n          MAIN_MENU_VIEW_PATH,\r\n          {\r\n            menu: \"settings\",\r\n            page: page.name,\r\n          },\r\n          removeOptional,\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSerialIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 64 64\",\n    height: \"64px\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 64 64\",\n    width: \"64px\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"   M5,13.8v16.9c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V13.8H5z\",\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    strokeWidth: 2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"   M59,47.7c0,1.1-0.9,2-2,2H41c-1.1,0-2-0.9-2-2v-10c0-1.1,0.9-2,2-2h16c1.1,0,2,0.9,2,2V47.7z\",\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    strokeWidth: 2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"   M15,32.7v16.6c0,4.4,3.6,8,8,8h2c4.4,0,8-3.6,8-8V26.7c0-4.4,3.6-8,8-8l0,0c4.4,0,8,3.6,8,8s0,8,0,8\",\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    strokeWidth: 2\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    height: 7.1,\n    stroke: \"#FFFFFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    strokeWidth: 2,\n    width: 15,\n    x: 7.5,\n    y: 6.7\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    height: 3.6,\n    stroke: \"#FFFFFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    strokeWidth: 2,\n    width: 15,\n    x: 41.5,\n    y: 49.7\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    strokeWidth: 2,\n    x1: 21.3,\n    x2: 21.3,\n    y1: 17.7,\n    y2: 28.2\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    strokeWidth: 2,\n    x1: 55.7,\n    x2: 55.7,\n    y1: 38.9,\n    y2: 45.7\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSerialIcon);\nexport default __webpack_public_path__ + \"static/media/serial-icon.4c088b93.svg\";\nexport { ForwardRef as ReactComponent };","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Column } from \"../Column/Column\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { P } from \"../Paragraph/Paragraph\";\r\nimport styles from \"./Status.module.scss\";\r\n\r\nexport type StateStatus = \"good\" | \"warn\" | \"error\";\r\n\r\nexport interface StatusProps extends FlexProps {\r\n  title: string;\r\n  description: string;\r\n  status: StateStatus;\r\n  icon: React.ReactNode;\r\n}\r\n\r\nexport const Status: React.FC<StatusProps> = ({ title, description, status, icon, ...rest }) => (\r\n  <Column\r\n    center\r\n    className={classNames(styles.status, {\r\n      [styles[\"status--good\"]]: status === \"good\",\r\n      [styles[\"status--warn\"]]: status === \"warn\",\r\n      [styles[\"status--error\"]]: status === \"error\",\r\n    })}\r\n    {...rest}\r\n  >\r\n    <Container className={styles[\"icon-wrap\"]}>{icon}</Container>\r\n    <P compact center>\r\n      {title}\r\n    </P>\r\n    <P compact small center>\r\n      {description}\r\n    </P>\r\n  </Column>\r\n);\r\n","import React from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { config } from \"../../config\";\r\nimport { aliveState } from \"../../state/aliveState\";\r\nimport { voltageState } from \"../../state/voltageState\";\r\nimport { ReactComponent as BatteryIcon } from \"../../theme/icons/battery-icon.svg\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Status, StateStatus } from \"../Status/Status\";\r\n\r\nexport const BatteryStatus: React.FC<FlexProps> = ({ ...rest }) => {\r\n  const isAlive = useRecoilValue(aliveState);\r\n  const voltage = useRecoilValue(voltageState);\r\n\r\n  const getTitle = () => {\r\n    if (isAlive && voltage !== undefined) {\r\n      if (voltage < config.battery.critical) {\r\n        return \"Battery critical\";\r\n      } else if (voltage < config.battery.low) {\r\n        return \"Battery low\";\r\n      }\r\n    }\r\n\r\n    return \"Battery\";\r\n  };\r\n\r\n  const getDescription = () => {\r\n    if (!isAlive) {\r\n      return \"Offline\";\r\n    } else if (voltage === undefined) {\r\n      return \"Unknown\";\r\n    }\r\n\r\n    return `${voltage.toFixed(1)}V`;\r\n  };\r\n\r\n  const getStatus = (): StateStatus => {\r\n    if (!isAlive) {\r\n      return \"error\";\r\n    } else if (voltage === undefined) {\r\n      return \"warn\";\r\n    } else if (voltage < config.battery.critical) {\r\n      return \"error\";\r\n    } else if (voltage < config.battery.low) {\r\n      return \"warn\";\r\n    }\r\n\r\n    return \"good\";\r\n  };\r\n\r\n  return (\r\n    <Status title={getTitle()} description={getDescription()} status={getStatus()} icon={<BatteryIcon />} {...rest} />\r\n  );\r\n};\r\n","var _path, _path2, _path3, _path4;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLidarIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 128 128\",\n    height: \"128px\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 128 128\",\n    width: \"128px\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.521,81.436c-0.577,0-1.149-0.248-1.545-0.729c-4.751-5.769-11.759-9.077-19.227-9.077  c-7.226,0-14.085,3.134-18.82,8.601c-0.723,0.834-1.986,0.926-2.821,0.201c-0.835-0.724-0.925-1.986-0.202-2.822  c5.496-6.342,13.458-9.979,21.844-9.979c8.668,0,16.801,3.839,22.314,10.534c0.702,0.854,0.58,2.113-0.272,2.815  C85.419,81.287,84.968,81.436,84.521,81.436z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M98.78,64.712c-0.549,0-1.096-0.225-1.491-0.666c-8.532-9.529-20.758-14.994-33.541-14.994  c-12.533,0-24.598,5.29-33.1,14.512c-0.749,0.811-2.013,0.864-2.826,0.114c-0.813-0.749-0.863-2.014-0.115-2.826  c9.258-10.042,22.394-15.801,36.041-15.801c13.919,0,27.23,5.951,36.521,16.325c0.736,0.823,0.667,2.087-0.156,2.824  C99.731,64.543,99.255,64.712,98.78,64.712z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M112.047,48.984c-0.538,0-1.074-0.216-1.469-0.643C98.543,35.317,81.473,27.847,63.746,27.847  c-17.73,0-34.199,7.106-46.371,20.009c-0.759,0.805-2.025,0.84-2.827,0.083c-0.804-0.759-0.841-2.024-0.083-2.827  C27.4,31.399,44.902,23.847,63.746,23.847c18.839,0,36.979,7.938,49.77,21.78c0.75,0.812,0.7,2.077-0.111,2.827  C113.02,48.808,112.533,48.984,112.047,48.984z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.969,103.207c-4.607,0-8.355-3.75-8.355-8.359c0-4.605,3.748-8.353,8.355-8.353s8.355,3.747,8.355,8.353  C72.324,99.457,68.576,103.207,63.969,103.207z M63.969,90.495c-2.401,0-4.355,1.953-4.355,4.353c0,2.404,1.954,4.359,4.355,4.359  s4.355-1.955,4.355-4.359C68.324,92.448,66.37,90.495,63.969,90.495z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLidarIcon);\nexport default __webpack_public_path__ + \"static/media/lidar-icon.b27614db.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { aliveState } from \"../../state/aliveState\";\r\nimport { loadState } from \"../../state/loadState\";\r\nimport { loopFrequencyState } from \"../../state/loopFrequencyState\";\r\nimport { motorsConnectedState } from \"../../state/motorsConnectedState\";\r\nimport { ReactComponent as FirmwareIcon } from \"../../theme/icons/serial-icon.svg\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Status, StateStatus } from \"../Status/Status\";\r\n\r\nexport const FirmwareStatus: React.FC<FlexProps> = ({ ...rest }) => {\r\n  const isAlive = useRecoilValue(aliveState);\r\n  const areMotorsConnected = useRecoilValue(motorsConnectedState);\r\n  const load = useRecoilValue(loadState);\r\n  const loopFrequency = useRecoilValue(loopFrequencyState);\r\n\r\n  const getDescription = () => {\r\n    if (!isAlive) {\r\n      return \"Not responsive\";\r\n    } else if (!areMotorsConnected) {\r\n      return \"Motors offline\";\r\n    }\r\n\r\n    if (load === undefined || loopFrequency === undefined) {\r\n      return \"Online\";\r\n    }\r\n\r\n    return `${Math.round(load)}% / ${loopFrequency}Hz`;\r\n  };\r\n\r\n  const getStatus = (): StateStatus => {\r\n    if (isAlive) {\r\n      if (!areMotorsConnected) {\r\n        return \"warn\";\r\n      } else if (load !== undefined && load > 100) {\r\n        return \"warn\";\r\n      } else if (loopFrequency !== undefined && loopFrequency < 59) {\r\n        return \"warn\";\r\n      }\r\n\r\n      return \"good\";\r\n    }\r\n\r\n    return \"error\";\r\n  };\r\n\r\n  return (\r\n    <Status title=\"Firmware\" description={getDescription()} status={getStatus()} icon={<FirmwareIcon />} {...rest} />\r\n  );\r\n};\r\n","import classNames from \"classnames\";\r\nimport React, { CSSProperties } from \"react\";\r\nimport { FlexProps, Flex } from \"../Flex/Flex\";\r\nimport styles from \"./Grid.module.scss\";\r\n\r\nexport interface GridProps extends FlexProps {\r\n  rowsTemplate?: string;\r\n  columnsTemplate?: string;\r\n}\r\n\r\nexport const Grid: React.FC<GridProps> = ({ rowsTemplate, columnsTemplate, className, style, children, ...rest }) => {\r\n  const augmentedStyle: CSSProperties = {\r\n    ...style,\r\n  };\r\n\r\n  if (rowsTemplate) {\r\n    augmentedStyle.gridTemplateRows = rowsTemplate;\r\n  }\r\n\r\n  if (columnsTemplate) {\r\n    augmentedStyle.gridTemplateColumns = columnsTemplate;\r\n  }\r\n\r\n  return (\r\n    <Flex className={classNames(styles.grid, className)} style={augmentedStyle} {...rest}>\r\n      {children}\r\n    </Flex>\r\n  );\r\n};\r\n","var _style, _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClearIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 64 64\"\n    },\n    viewBox: \"0 0 64 64\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\r\\n\\t\\t.st0 {\\r\\n\\t\\t\\tfill: #858578;\\r\\n\\t\\t}\\r\\n\\t\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Icon-Trash\",\n    transform: \"translate(232.000000, 228.000000)\"\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st0\",\n    id: \"Fill-6\",\n    points: \"-207.5,-205.1 -204.5,-205.1 -204.5,-181.1 -207.5,-181.1    \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st0\",\n    id: \"Fill-7\",\n    points: \"-201.5,-205.1 -198.5,-205.1 -198.5,-181.1 -201.5,-181.1    \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st0\",\n    id: \"Fill-8\",\n    points: \"-195.5,-205.1 -192.5,-205.1 -192.5,-181.1 -195.5,-181.1    \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st0\",\n    id: \"Fill-9\",\n    points: \"-219.5,-214.1 -180.5,-214.1 -180.5,-211.1 -219.5,-211.1    \"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M-192.6-212.6h-2.8v-3c0-0.9-0.7-1.6-1.6-1.6h-6c-0.9,0-1.6,0.7-1.6,1.6v3h-2.8v-3     c0-2.4,2-4.4,4.4-4.4h6c2.4,0,4.4,2,4.4,4.4V-212.6\",\n    id: \"Fill-10\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M-191-172.1h-18c-2.4,0-4.5-2-4.7-4.4l-2.8-36l3-0.2l2.8,36c0.1,0.9,0.9,1.6,1.7,1.6h18     c0.9,0,1.7-0.8,1.7-1.6l2.8-36l3,0.2l-2.8,36C-186.5-174-188.6-172.1-191-172.1\",\n    id: \"Fill-11\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClearIcon);\nexport default __webpack_public_path__ + \"static/media/clear-icon.34101cef.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { aliveState } from \"../../state/aliveState\";\r\nimport { lidarStatusState } from \"../../state/lidarStatusState\";\r\nimport { ReactComponent as LidarIcon } from \"../../theme/icons/lidar-icon.svg\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Status, StateStatus } from \"../Status/Status\";\r\n\r\nexport const LidarStatus: React.FC<FlexProps> = ({ ...rest }) => {\r\n  const isAlive = useRecoilValue(aliveState);\r\n  const lidarStatus = useRecoilValue(lidarStatusState);\r\n\r\n  const getDescription = (): string => {\r\n    if (!isAlive) {\r\n      return \"Offline\";\r\n    }\r\n\r\n    if (!lidarStatus) {\r\n      return \"Not available\";\r\n    }\r\n\r\n    if (!lidarStatus.isRunning) {\r\n      return \"Stopped\";\r\n    } else if (!lidarStatus.isValid) {\r\n      return \"Not valid\";\r\n    }\r\n\r\n    return `${lidarStatus.currentRpm} / ${lidarStatus.targetRpm} RPM`;\r\n  };\r\n\r\n  const getStatus = (): StateStatus => {\r\n    if (!lidarStatus || !isAlive) {\r\n      return \"error\";\r\n    }\r\n\r\n    if (!lidarStatus.isRunning) {\r\n      return \"good\";\r\n    }\r\n\r\n    if (lidarStatus.isRunning && lidarStatus.isValid) {\r\n      return \"good\";\r\n    }\r\n\r\n    if (lidarStatus.isRunning && !lidarStatus.isValid) {\r\n      return \"warn\";\r\n    }\r\n\r\n    return \"error\";\r\n  };\r\n\r\n  return <Status title=\"Lidar\" description={getDescription()} status={getStatus()} icon={<LidarIcon />} {...rest} />;\r\n};\r\n","var _defs, _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMotorsIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 64 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\r\\n      .cls-1,\\r\\n      .cls-2 {\\r\\n        fill: none;\\r\\n      }\\r\\n\\r\\n      .cls-1 {\\r\\n        stroke: #FFFFFF;\\r\\n        stroke-linecap: round;\\r\\n        stroke-linejoin: round;\\r\\n        stroke-width: 2px;\\r\\n      }\\r\\n    \"))), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    \"data-name\": \"katman 2\",\n    id: \"katman_2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icons\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M37.71,12.83A20,20,0,1,1,30,12.1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M52.4,19.36A23.89,23.89,0,0,1,56,32\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M43.77,11.08A24,24,0,0,1,49,15\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M18.76,52A24.11,24.11,0,0,1,15,49\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"cls-1\",\n    points: \"44.44 25 19.56 59 19.56 59 34.98 31 20.98 31 33.39 5 42.39 5 30.44 25 44.44 25\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-2\",\n    height: 64,\n    width: 64\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMotorsIcon);\nexport default __webpack_public_path__ + \"static/media/motors-icon.fe71b855.svg\";\nexport { ForwardRef as ReactComponent };","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { logMessagesState, LogMessage, LogMessageType } from \"../../state/logMessagesState\";\r\nimport { ReactComponent as ClearlIcon } from \"../../theme/icons/clear-icon.svg\";\r\nimport { Column } from \"../Column/Column\";\r\nimport { Container } from \"../Container/Container\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Row } from \"../Row/Row\";\r\nimport styles from \"./Log.module.scss\";\r\n\r\nexport const Log: React.FC<FlexProps> = ({ className, ...rest }) => {\r\n  const [logMessages, setLogMessages] = useRecoilState(logMessagesState);\r\n\r\n  return (\r\n    <Container className={classNames(styles.log, className)} {...rest}>\r\n      <Column expanded scrollable autoscroll>\r\n        {logMessages.map((message, index) => (\r\n          <LogItem key={index} message={message} />\r\n        ))}\r\n      </Column>\r\n      <ClearlIcon className={styles[\"clear-button\"]} onClick={() => setLogMessages([])} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport interface LogItemProps extends FlexProps {\r\n  message: LogMessage;\r\n}\r\n\r\nexport const LogItem: React.FC<LogItemProps> = ({ message, className, ...rest }) => (\r\n  <Row>\r\n    <Container tiny compact className={styles[\"message-line\"]}>\r\n      {message.index + 1}\r\n    </Container>\r\n    <Container\r\n      tiny\r\n      compact\r\n      expanded\r\n      className={classNames(\r\n        styles[\"log-item\"],\r\n        {\r\n          [styles[\"log-item--info\"]]: message.type === LogMessageType.INFO,\r\n          [styles[\"log-item--send\"]]: message.type === LogMessageType.SEND,\r\n          [styles[\"log-item--receive\"]]: message.type === LogMessageType.RECEIVE,\r\n          [styles[\"log-item--warn\"]]: message.type === LogMessageType.WARN,\r\n          [styles[\"log-item--error\"]]: message.type === LogMessageType.ERROR,\r\n        },\r\n        className,\r\n      )}\r\n      {...rest}\r\n    >\r\n      {getMessageTypeName(message.type)} {message.message}\r\n    </Container>\r\n  </Row>\r\n);\r\n\r\nfunction getMessageTypeName(messageType: LogMessageType) {\r\n  switch (messageType) {\r\n    case LogMessageType.RECEIVE:\r\n      return \"<\";\r\n\r\n    case LogMessageType.SEND:\r\n      return \">\";\r\n\r\n    case LogMessageType.INFO:\r\n      return \"!\";\r\n\r\n    case LogMessageType.WARN:\r\n      return \"#\";\r\n\r\n    case LogMessageType.ERROR:\r\n      return \"@\";\r\n  }\r\n}\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTransportIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 73 60\"\n    },\n    viewBox: \"0 0 73 60\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_3\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.2,31.8l-6.8-6.8C7.6,20.7,8,14.3,12.2,10.5C16,7,21.9,7,25.8,10.5l6.8,6.9l2.1-2.1l-6.9-6.9    C22.7,3.3,14.3,3.5,9.2,8.7c-4.9,5.1-4.9,13.2,0,18.3l6.8,6.9c5.2,5.1,13.5,5.1,18.7,0l-2.1-2.1C28.6,35.7,22.2,35.7,18.2,31.8z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.8,33l-6.8-6.9c-5.2-5.1-13.5-5.1-18.6,0l2.1,2.1c4-4,10.4-4,14.4,0l6.8,6.9c4,4,4,10.4,0,14.4s-10.4,4-14.4,0    l-6.8-6.9l-2.1,2.1l6.8,6.8c5,5.3,13.3,5.6,18.6,0.6s5.6-13.3,0.6-18.6C64.1,33.3,64,33.1,63.8,33z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    height: 23.4,\n    transform: \"matrix(0.7071 -0.7071 0.7071 0.7071 -10.4473 34.6268)\",\n    width: 3,\n    x: 35.1,\n    y: 18.2\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTransportIcon);\nexport default __webpack_public_path__ + \"static/media/transport-icon.92c7411b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useCallback } from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { useRemoteControl } from \"../../hooks/useRemoteControl\";\r\nimport { aliveState } from \"../../state/aliveState\";\r\nimport { motorsConnectedState } from \"../../state/motorsConnectedState\";\r\n// import { targetMotorRpmsState } from \"../../state/targetMotorRpmsState\";\r\nimport { ReactComponent as MotorsIcon } from \"../../theme/icons/motors-icon.svg\";\r\nimport { ReactComponent as RemoteIcon } from \"../../theme/icons/remote-icon.svg\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Status, StateStatus } from \"../Status/Status\";\r\n\r\nexport const MotorsStatus: React.FC<FlexProps> = ({ onClick, ...rest }) => {\r\n  const [isRemoteControlMode, setIsRemoteControlMode] = useState(false);\r\n  const isAlive = useRecoilValue(aliveState);\r\n  const motorsConnected = useRecoilValue(motorsConnectedState);\r\n  // const targetMotorRpms = useRecoilValue(targetMotorRpmsState);\r\n  const { gamepadName } = useRemoteControl(isRemoteControlMode);\r\n\r\n  const getTitle = () => {\r\n    if (isRemoteControlMode) {\r\n      return \"Remote control\";\r\n    }\r\n\r\n    return \"Motors\";\r\n  };\r\n\r\n  const getDescription = () => {\r\n    if (!isAlive) {\r\n      return \"Offline\";\r\n    }\r\n\r\n    if (!motorsConnected) {\r\n      return \"Not connected\";\r\n    }\r\n\r\n    if (isRemoteControlMode && !gamepadName) {\r\n      return \"No controller\";\r\n    }\r\n\r\n    return \"Online\";\r\n\r\n    // if (targetMotorRpms.left === 0 && targetMotorRpms.right === 0) {\r\n    //   return \"Stopped\";\r\n    // }\r\n\r\n    // return `${targetMotorRpms.left.toFixed(0)} / ${targetMotorRpms.right.toFixed(0)} RPM`;\r\n  };\r\n\r\n  const getStatus = (): StateStatus => {\r\n    if (isRemoteControlMode && !gamepadName) {\r\n      return \"warn\";\r\n    }\r\n\r\n    if (isAlive && motorsConnected) {\r\n      return \"good\";\r\n    }\r\n\r\n    return \"error\";\r\n  };\r\n\r\n  const handleClick = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n      setIsRemoteControlMode(!isRemoteControlMode);\r\n\r\n      // pass on click event\r\n      if (onClick) {\r\n        onClick(e);\r\n      }\r\n    },\r\n    [isRemoteControlMode, onClick],\r\n  );\r\n\r\n  return (\r\n    <Status\r\n      title={getTitle()}\r\n      description={getDescription()}\r\n      status={getStatus()}\r\n      icon={isRemoteControlMode ? <RemoteIcon /> : <MotorsIcon />}\r\n      onClick={handleClick}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { assertUnreachable } from \"../../services/assertUnreachable\";\r\nimport { serialStatusState, SerialStatus as SerialStatusEnum } from \"../../state/serialStatusState\";\r\nimport { ReactComponent as SerialIcon } from \"../../theme/icons/serial-icon.svg\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Status, StateStatus } from \"../Status/Status\";\r\n\r\nexport const SerialStatus: React.FC<FlexProps> = ({ ...rest }) => {\r\n  const serialStatus = useRecoilValue(serialStatusState);\r\n\r\n  const getDescription = (): string => {\r\n    switch (serialStatus) {\r\n      case SerialStatusEnum.CONNECTING:\r\n        return \"Connecting\";\r\n\r\n      case SerialStatusEnum.CONNECTED:\r\n        return \"Connected\";\r\n\r\n      case SerialStatusEnum.DISCONNECTED:\r\n        return \"Disconnected\";\r\n\r\n      case SerialStatusEnum.NOT_SUPPORTED:\r\n        return \"Not supported\";\r\n\r\n      case SerialStatusEnum.DEVICE_NOT_FOUND:\r\n        return \"Not found\";\r\n\r\n      case SerialStatusEnum.DISABLED:\r\n        return \"Disabled\";\r\n\r\n      default:\r\n        return assertUnreachable(\r\n          serialStatus,\r\n          `Unexpected serial status \"${serialStatus}\" not handled, this should not happen`,\r\n        );\r\n    }\r\n  };\r\n\r\n  const getStatus = (): StateStatus => {\r\n    switch (serialStatus) {\r\n      case SerialStatusEnum.CONNECTING:\r\n        return \"warn\";\r\n\r\n      case SerialStatusEnum.CONNECTED:\r\n        return \"good\";\r\n\r\n      case SerialStatusEnum.DISCONNECTED:\r\n        return \"error\";\r\n\r\n      case SerialStatusEnum.NOT_SUPPORTED:\r\n        return \"error\";\r\n\r\n      case SerialStatusEnum.DEVICE_NOT_FOUND:\r\n        return \"error\";\r\n\r\n      case SerialStatusEnum.DISABLED:\r\n        return \"error\";\r\n\r\n      default:\r\n        return assertUnreachable(\r\n          serialStatus,\r\n          `Unexpected serial status \"${serialStatus}\" not handled, this should not happen`,\r\n        );\r\n    }\r\n  };\r\n\r\n  return <Status title=\"Serial\" description={getDescription()} status={getStatus()} icon={<SerialIcon />} {...rest} />;\r\n};\r\n","import React from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { TransportStatus as TransportStatusEnum } from \"../../lib/transport\";\r\nimport { assertUnreachable } from \"../../services/assertUnreachable\";\r\nimport { activeTransportNameState } from \"../../state/activeTransportNameState\";\r\nimport { serverIpState } from \"../../state/serverIpState\";\r\nimport { transportStatusState } from \"../../state/transportStatusState\";\r\nimport { ReactComponent as TransportIcon } from \"../../theme/icons/transport-icon.svg\";\r\nimport { FlexProps } from \"../Flex/Flex\";\r\nimport { Status, StateStatus } from \"../Status/Status\";\r\n\r\nexport const TransportStatus: React.FC<FlexProps> = ({ ...rest }) => {\r\n  const activeTransportName = useRecoilValue(activeTransportNameState);\r\n  const transportStatus = useRecoilValue(transportStatusState);\r\n  const serverIp = useRecoilValue(serverIpState);\r\n\r\n  const getDescription = (): string => {\r\n    if (transportStatus === TransportStatusEnum.CONNECTED && serverIp !== undefined) {\r\n      return serverIp;\r\n    }\r\n\r\n    switch (transportStatus) {\r\n      case TransportStatusEnum.DISCONNECTED:\r\n        return \"Disconnected\";\r\n\r\n      case TransportStatusEnum.CONNECTING:\r\n        return \"Connecting\";\r\n\r\n      case TransportStatusEnum.RECONNECTING:\r\n        return \"Reconnecting\";\r\n\r\n      case TransportStatusEnum.CONNECTED:\r\n        return \"Connected\";\r\n\r\n      default:\r\n        return assertUnreachable(\r\n          transportStatus,\r\n          `Unexpected transport status \"${transportStatus}\" not handled, this should not happen`,\r\n        );\r\n    }\r\n  };\r\n\r\n  const getStatus = (): StateStatus => {\r\n    switch (transportStatus) {\r\n      case TransportStatusEnum.DISCONNECTED:\r\n        return \"error\";\r\n\r\n      case TransportStatusEnum.CONNECTING:\r\n        return \"warn\";\r\n\r\n      case TransportStatusEnum.RECONNECTING:\r\n        return \"warn\";\r\n\r\n      case TransportStatusEnum.CONNECTED:\r\n        return \"good\";\r\n\r\n      default:\r\n        return assertUnreachable(\r\n          transportStatus,\r\n          `Unexpected transport status \"${transportStatus}\" not handled, this should not happen`,\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Status\r\n      title={activeTransportName ?? \"Transport\"}\r\n      description={getDescription()}\r\n      status={getStatus()}\r\n      icon={<TransportIcon />}\r\n      onClick={() => window.location.reload()}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { BatteryStatus } from \"../../components/BatteryStatus/BatteryStatus\";\r\nimport { FirmwareStatus } from \"../../components/FirmwareStatus/FirmwareStatus\";\r\nimport { Grid } from \"../../components/Grid/Grid\";\r\nimport { LidarStatus } from \"../../components/LidarStatus/LidarStatus\";\r\nimport { Log } from \"../../components/Log/Log\";\r\nimport { MotorsStatus } from \"../../components/MotorsStatus/MotorsStatus\";\r\nimport { SerialStatus } from \"../../components/SerialStatus/SerialStatus\";\r\nimport { TransportStatus } from \"../../components/TransportStatus/TransportStatus\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { robot } from \"../../services/robot\";\r\nimport styles from \"./StatusView.module.scss\";\r\n\r\nexport const StatusView: React.FC = () => (\r\n  <View>\r\n    <Grid className={styles[\"status-grid\"]}>\r\n      <SerialStatus onClick={() => robot.requestState()} />\r\n      <TransportStatus />\r\n      <FirmwareStatus />\r\n      <BatteryStatus />\r\n      <LidarStatus />\r\n      <MotorsStatus />\r\n    </Grid>\r\n    <Log expanded />\r\n  </View>\r\n);\r\n","import React, { useCallback } from \"react\";\r\nimport { useHistory, useRouteMatch, Redirect, Switch, Route } from \"react-router-dom\";\r\nimport { Container } from \"../../components/Container/Container\";\r\nimport { MainMenu, MainMenuItem } from \"../../components/MainMenu/MainMenu\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { useDisableScrolling } from \"../../hooks/useDisableScrolling\";\r\nimport { MainMenuViewMenu, MainMenuViewParams, MAIN_MENU_VIEW_PATH } from \"../../routes\";\r\nimport { buildPath } from \"../../services/buildPath\";\r\nimport { buildUrl } from \"../../services/buildUrl\";\r\nimport { ReactComponent as ControllerIcon } from \"../../theme/icons/controller-icon.svg\";\r\nimport { ReactComponent as MapIcon } from \"../../theme/icons/map-icon.svg\";\r\nimport { ReactComponent as RemoteIcon } from \"../../theme/icons/remote-icon.svg\";\r\nimport { ReactComponent as SettingsIcon } from \"../../theme/icons/settings-icon.svg\";\r\nimport { ReactComponent as StatusIcon } from \"../../theme/icons/status-icon.svg\";\r\nimport { ControllerView } from \"../ControllerView/ControllerView\";\r\nimport { MapView } from \"../MapView/MapView\";\r\nimport { RemoteView } from \"../RemoteView/RemoteView\";\r\nimport { SettingsView } from \"../SettingsView/SettingsView\";\r\nimport { StatusView } from \"../StatusView/StatusView\";\r\n\r\ninterface MenuInfo {\r\n  name: MainMenuViewMenu;\r\n  page?: string;\r\n  title: string;\r\n  icon: React.ReactNode;\r\n  content: React.ReactNode;\r\n}\r\n\r\nconst menus: MenuInfo[] = [\r\n  {\r\n    name: \"status\",\r\n    title: \"Status\",\r\n    icon: <StatusIcon />,\r\n    content: <StatusView />,\r\n  },\r\n  {\r\n    name: \"map\",\r\n    title: \"Map\",\r\n    icon: <MapIcon />,\r\n    content: <MapView />,\r\n  },\r\n  {\r\n    name: \"controller\",\r\n    title: \"Controller\",\r\n    icon: <ControllerIcon />,\r\n    content: <ControllerView />,\r\n  },\r\n  {\r\n    name: \"remote\",\r\n    title: \"Remote\",\r\n    icon: <RemoteIcon />,\r\n    content: <RemoteView />,\r\n  },\r\n  {\r\n    name: \"settings\",\r\n    title: \"Settings\",\r\n    icon: <SettingsIcon />,\r\n    content: <SettingsView />,\r\n  },\r\n];\r\n\r\nconst defaultMenu = menus[0];\r\n\r\nexport const MainMenuView: React.FC = () => {\r\n  const { params } = useRouteMatch<MainMenuViewParams>();\r\n  const history = useHistory();\r\n\r\n  useDisableScrolling();\r\n\r\n  const activeMenuInfo = getMenuByName(params.menu);\r\n\r\n  const handleMainMenuItemClick = useCallback(\r\n    (index: number) => {\r\n      const menu = getMenuByIndex(index);\r\n\r\n      history.push(\r\n        buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: menu.name, page: menu.page }),\r\n      );\r\n    },\r\n    [history],\r\n  );\r\n\r\n  // redirect to default menu if none could by found by name\r\n  if (!activeMenuInfo) {\r\n    return <Redirect to={buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: defaultMenu.name })} />;\r\n  }\r\n\r\n  const activeMenuIndex = menus.indexOf(activeMenuInfo);\r\n\r\n  return (\r\n    <View>\r\n      <Container expanded>\r\n        <Switch>\r\n          {menus.map((menu) => (\r\n            <Route key={menu.name} path={buildPath<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: menu.name })}>\r\n              {menu.content}\r\n            </Route>\r\n          ))}\r\n        </Switch>\r\n      </Container>\r\n      <MainMenu activeItemIndex={activeMenuIndex} onItemClick={handleMainMenuItemClick}>\r\n        {menus.map((menu) => (\r\n          <MainMenuItem key={menu.name} icon={menu.icon}>\r\n            {menu.title}\r\n          </MainMenuItem>\r\n        ))}\r\n      </MainMenu>\r\n    </View>\r\n  );\r\n};\r\n\r\nfunction getMenuByName(name?: string) {\r\n  return menus.find((menu) => menu.name === name);\r\n}\r\n\r\nfunction getMenuByIndex(index: number) {\r\n  const menu = menus[index];\r\n\r\n  if (!menu) {\r\n    throw new Error(`Menu with index \"${index}\" does not exist, this should not happen`);\r\n  }\r\n\r\n  return menu;\r\n}\r\n","import React from \"react\";\r\nimport { BlockButton } from \"../../components/BlockButton/BlockButton\";\r\nimport { Column } from \"../../components/Column/Column\";\r\n// import { Container } from \"../../components/Container/Container\";\r\nimport { Expanded } from \"../../components/Expanded/Expanded\";\r\nimport { GridBox } from \"../../components/GridBox/GridBox\";\r\n// import Lottie from \"../../components/Lottie/Lottie\";\r\nimport { P } from \"../../components/Paragraph/Paragraph\";\r\nimport { TextButton } from \"../../components/TextButton/TextButton\";\r\nimport { View } from \"../../components/View/View\";\r\nimport { config } from \"../../config\";\r\n// import errorAnimation from \"../../theme/animations/error-animation.json\";\r\nimport styles from \"./ErrorView.module.scss\";\r\n\r\nexport interface ErrorViewProps {\r\n  error: Error | string;\r\n  title?: string;\r\n}\r\n\r\nexport const ErrorView: React.FC<ErrorViewProps> = ({ error, title }) => {\r\n  const message =\r\n    error instanceof Error\r\n      ? config.debug\r\n        ? error.message\r\n        : \"System error occured, we're working on the issue. Please try again later\"\r\n      : error;\r\n\r\n  return (\r\n    <View scrollable>\r\n      <Column limited padded expanded className={styles[\"error-view\"]}>\r\n        <Expanded />\r\n        <GridBox />\r\n        <P center darker>\r\n          {title || \"Oops, something went wrong!\"}\r\n        </P>\r\n        <GridBox />\r\n        <P center small className={styles.message}>\r\n          {message}\r\n        </P>\r\n        <GridBox />\r\n        <Expanded />\r\n        {/* <Container className={styles.animation}>\r\n          <Lottie loop animationData={errorAnimation} />\r\n        </Container>\r\n        <Expanded /> */}\r\n        <GridBox />\r\n        <BlockButton onClick={() => (window.location.href = \"/\")}>Start over</BlockButton>\r\n        <GridBox half />\r\n        <TextButton onClick={() => window.location.reload()}>Attempt to reload</TextButton>\r\n      </Column>\r\n    </View>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ErrorView } from \"../ErrorView/ErrorView\";\r\n\r\nexport const NotFoundView: React.FC = () => (\r\n  <ErrorView title=\"Not found\" error=\"Requested page could not be found or You don't have the required permissions.\" />\r\n);\r\n","import React from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { CONFIGURE_CONNECTION_VIEW_PATH, MAIN_MENU_VIEW_PATH, MainMenuViewParams } from \"./routes\";\r\nimport { buildUrl } from \"./services/buildUrl\";\r\nimport { websocketHostState } from \"./state/websocketHostState\";\r\nimport { ConfigureConnectionView } from \"./views/ConfigureConnectionView/ConfigureConnectionView\";\r\nimport { MainMenuView } from \"./views/MainMenuView/MainMenuView\";\r\nimport { NotFoundView } from \"./views/NotFoundView/NotFoundView\";\r\n\r\nexport const App: React.FC = () => {\r\n  // decide where to redirect index path\r\n  const websocketHost = useRecoilValue(websocketHostState);\r\n  const isWebsocketHostDefined = websocketHost !== undefined;\r\n  const rootRedirectPath = isWebsocketHostDefined\r\n    ? buildUrl<MainMenuViewParams>(MAIN_MENU_VIEW_PATH, { menu: \"status\" })\r\n    : buildUrl(CONFIGURE_CONNECTION_VIEW_PATH);\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Redirect to={rootRedirectPath} />\r\n        </Route>\r\n        <Route path={MAIN_MENU_VIEW_PATH}>\r\n          <MainMenuView />\r\n        </Route>\r\n        <Route path={CONFIGURE_CONNECTION_VIEW_PATH}>\r\n          <ConfigureConnectionView />\r\n        </Route>\r\n        <Route>\r\n          <NotFoundView />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ErrorView } from \"../../views/ErrorView/ErrorView\";\r\n\r\ninterface ErrorBoundaryProps {\r\n  errorLogger?: (error: Error, info: React.ErrorInfo) => void;\r\n}\r\n\r\ninterface ErrorBoundaryState {\r\n  error?: Error;\r\n}\r\n\r\nexport default class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  state: ErrorBoundaryState = { error: undefined };\r\n\r\n  static getDerivedStateFromError(error: Error) {\r\n    return { error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, info: React.ErrorInfo) {\r\n    if (this.props.errorLogger) {\r\n      this.props.errorLogger(error, info);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // render error if exists\r\n    if (this.state.error) {\r\n      return <ErrorView error={this.state.error} />;\r\n    }\r\n\r\n    // render normal children if there's no error condition\r\n    return this.props.children;\r\n  }\r\n}\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nexport function useInterval(callback: () => void, delay: number | null) {\r\n  const callbackRef = useRef<() => void | null>();\r\n\r\n  useEffect(() => {\r\n    callbackRef.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    const tick = () => {\r\n      const cb = callbackRef.current;\r\n\r\n      if (!cb) {\r\n        return;\r\n      }\r\n\r\n      cb();\r\n    };\r\n\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n","import React from \"react\";\r\nimport { useLowBatteryAlarm } from \"../../hooks/useLowBatteryAlarm\";\r\n\r\nexport const LowBatteryAlarm: React.FC = () => {\r\n  useLowBatteryAlarm();\r\n\r\n  return null;\r\n};\r\n","import { useRecoilValue } from \"recoil\";\r\nimport useSound from \"use-sound\";\r\nimport { config } from \"../config\";\r\nimport { aliveState } from \"../state/aliveState\";\r\nimport { voltageState } from \"../state/voltageState\";\r\nimport { useInterval } from \"./useInterval\";\r\n\r\nexport function useLowBatteryAlarm() {\r\n  const isAlive = useRecoilValue(aliveState);\r\n  const batteryVoltage = useRecoilValue(voltageState);\r\n  const isBatteryCritical = isAlive && batteryVoltage !== undefined && batteryVoltage <= config.battery.critical;\r\n  const [play] = useSound(\"/sounds/low-battery.mp3\");\r\n\r\n  useInterval(() => {\r\n    if (!isBatteryCritical) {\r\n      return;\r\n    }\r\n\r\n    play();\r\n  }, config.battery.alarmInterval);\r\n}\r\n","export function assertArgumentCount(args: unknown[], expectedCount: number) {\r\n  if (args.length !== expectedCount) {\r\n    throw new Error(`Command expected ${expectedCount} arguments but got ${args.length}`);\r\n  }\r\n}\r\n","import { config } from \"../config\";\r\n\r\nconst rotationsPerMinutePerEncoderCountsPerSecond =\r\n  (1 / (config.vehicle.encoderCountsPerRotation * config.vehicle.gearboxRatio)) * 60.0;\r\n\r\nexport function encoderCountsPerSecondToRotationsPerMinute(countsPerSecond: number) {\r\n  return countsPerSecond * rotationsPerMinutePerEncoderCountsPerSecond;\r\n}\r\n","import { selector } from \"recoil\";\r\nimport { Pose } from \"../lib/tracked-vehicle-kinematics\";\r\nimport { odometryPoseState } from \"./odometryPoseState\";\r\nimport { odometryStepsState } from \"./odometryStepsState\";\r\n\r\n// combines odometry position and steps because they need to be updated at the same time\r\nexport const odometryState = selector<[Pose, Pose[]]>({\r\n  key: \"odometryState\",\r\n  get: ({ get }) => {\r\n    const odometryPose = get(odometryPoseState);\r\n    const odometrySteps = get(odometryStepsState);\r\n\r\n    return [odometryPose, odometrySteps];\r\n  },\r\n  set: ({ /*get, */ set }, args) => {\r\n    const [odometryPose, odometrySteps] = args as [Pose, Pose[]];\r\n\r\n    set(odometryPoseState, odometryPose);\r\n    set(odometryStepsState, odometrySteps);\r\n  },\r\n});\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { config } from \"../config\";\r\nimport { MotorValue, TrackedVehicleKinematics } from \"../lib/tracked-vehicle-kinematics\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { encoderCountsPerSecondToRotationsPerMinute } from \"../services/encoderCountsPerSecondToRotationsPerMinute\";\r\nimport { getEuclideanDistance } from \"../services/getEuclideanDistance\";\r\nimport { kinematics } from \"../services/kinematics\";\r\nimport { currentSpeedsState } from \"../state/currentSpeedsState\";\r\nimport { encodersState } from \"../state/encodersState\";\r\nimport { odometryState } from \"../state/odometryState\";\r\n\r\nexport function useHandleEncoderCommand() {\r\n  const setEncoders = useSetRecoilState(encodersState);\r\n  const setCurrentSpeeds = useSetRecoilState(currentSpeedsState);\r\n  const setOdometry = useSetRecoilState(odometryState);\r\n\r\n  // for example \"e:1253:1314\" means left motor has travelled 1253 steps and right 1314 steps\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 3);\r\n\r\n    // get arguments\r\n    const leftCountsSinceLastUpdate = parseInt(args[0], 10);\r\n    const rightCountsSinceLastUpdate = parseInt(args[1], 10);\r\n    const timeSinceLastEncoderReportUs = parseInt(args[2], 10);\r\n\r\n    // time since last encoders report in seconds\r\n    const dt = timeSinceLastEncoderReportUs / 1000000;\r\n\r\n    // update encoder values\r\n    setEncoders({\r\n      left: leftCountsSinceLastUpdate,\r\n      right: rightCountsSinceLastUpdate,\r\n    });\r\n\r\n    // calculate current speeds in encoder counts per second\r\n    const currentSpeeds = {\r\n      left: leftCountsSinceLastUpdate / dt,\r\n      right: rightCountsSinceLastUpdate / dt,\r\n    };\r\n\r\n    // current speed is in encoder counts per second (QPPS)\r\n    setCurrentSpeeds(currentSpeeds);\r\n\r\n    // convert speeds from encoder counts per second to rotation per minute\r\n    const motorRpms: MotorValue = {\r\n      left: encoderCountsPerSecondToRotationsPerMinute(currentSpeeds.left),\r\n      right: encoderCountsPerSecondToRotationsPerMinute(currentSpeeds.right),\r\n    };\r\n\r\n    // calculate kinematic motion based on track motor rpms\r\n    const motion = kinematics.getMotionFromMotorRpms(motorRpms);\r\n\r\n    setOdometry(([currentOdometryPose, currentOdometrySteps]) => {\r\n      // calculate updated pose based on motion\r\n      const updatedPose = TrackedVehicleKinematics.getUpdatedPose(currentOdometryPose, motion, dt);\r\n\r\n      // resove previous odometry step (there's always initial step available)\r\n      const previousOdometryStep = currentOdometrySteps[currentOdometrySteps.length - 1];\r\n\r\n      // calculate distance from new to previous step position\r\n      const distance = getEuclideanDistance(updatedPose.position, previousOdometryStep.position);\r\n\r\n      // start with same odometry steps as before\r\n      const updatedOdometrySteps = [...currentOdometrySteps];\r\n\r\n      // don't add new odometry step if distance from last is too small\r\n      if (distance >= config.odometry.minimumStepDistanceMeters) {\r\n        // remove first odometry step if maximum number of steps has been reached\r\n        if (updatedOdometrySteps.length + 1 > config.odometry.maxStepCount) {\r\n          updatedOdometrySteps.shift();\r\n        }\r\n\r\n        // add new odometry step\r\n        updatedOdometrySteps.push(updatedPose);\r\n      }\r\n\r\n      // update odometry position info\r\n      return [updatedPose, updatedOdometrySteps];\r\n    });\r\n  };\r\n}\r\n","export interface Point2D {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport function getEuclideanDistance(a: Point2D, b: Point2D) {\r\n  return Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\r\n}\r\n","import { useMemo } from \"react\";\r\nimport { useHandleAttitudeCommand } from \"../handlers/useHandleAttitudeCommand\";\r\nimport { useHandleButtonCommand } from \"../handlers/useHandleButtonCommand\";\r\nimport { useHandleCurrentCommand } from \"../handlers/useHandleCurrentCommand\";\r\nimport { useHandleEncoderCommand } from \"../handlers/useHandleEncoderCommand\";\r\nimport { useHandleHeartbeatCommand } from \"../handlers/useHandleHeartbeatCommand\";\r\nimport { useHandleIpCommand } from \"../handlers/useHandleIpCommand\";\r\nimport { useHandleLidarMeasurementCommand } from \"../handlers/useHandleLidarMeasurementCommand\";\r\nimport { useHandleLidarStateCommand } from \"../handlers/useHandleLidarStateCommand\";\r\nimport { useHandleMotorsCommand } from \"../handlers/useHandleMotorsCommand\";\r\nimport { useHandleResetCommand } from \"../handlers/useHandleResetCommand\";\r\nimport { useHandleSerialStatusCommand } from \"../handlers/useHandleSerialCommand\";\r\nimport { useHandleTargetSpeedCommand } from \"../handlers/useHandleTargetSpeedCommand\";\r\nimport { useHandleUsbCommand } from \"../handlers/useHandleUsbCommand\";\r\nimport { useHandleVoltageCommand } from \"../handlers/useHandleVoltageCommand\";\r\nimport { useLog } from \"./useLog\";\r\n\r\ntype CommandHandlerFn = (args: string[]) => void;\r\n\r\nexport function useHandleCommand() {\r\n  const log = useLog();\r\n\r\n  // command handlers\r\n  const handleHeartbeatCommand = useHandleHeartbeatCommand();\r\n  const handleAttitudeCommand = useHandleAttitudeCommand();\r\n  const handleEncoderCommand = useHandleEncoderCommand();\r\n  const handleCurrentCommand = useHandleCurrentCommand();\r\n  const handleVoltageCommand = useHandleVoltageCommand();\r\n  const handleButtonCommand = useHandleButtonCommand();\r\n  const handleTargetSpeedCommand = useHandleTargetSpeedCommand();\r\n  const handleLidarStateCommand = useHandleLidarStateCommand();\r\n  const handleLidarMeasurementCommand = useHandleLidarMeasurementCommand();\r\n  const handleSerialStatusCommand = useHandleSerialStatusCommand();\r\n  const handleMotorsCommand = useHandleMotorsCommand();\r\n  const handleIpCommand = useHandleIpCommand();\r\n  const handleResetCommand = useHandleResetCommand();\r\n  const handleUsbCommand = useHandleUsbCommand();\r\n\r\n  // map of command names to handlers\r\n  const handlerMap: Record<string, CommandHandlerFn | undefined> = useMemo(\r\n    () => ({\r\n      h: handleHeartbeatCommand,\r\n      a: handleAttitudeCommand,\r\n      e: handleEncoderCommand,\r\n      c: handleCurrentCommand,\r\n      v: handleVoltageCommand,\r\n      b: handleButtonCommand,\r\n      t: handleTargetSpeedCommand,\r\n      l: handleLidarStateCommand,\r\n      m: handleLidarMeasurementCommand,\r\n      serial: handleSerialStatusCommand,\r\n      motors: handleMotorsCommand,\r\n      ip: handleIpCommand,\r\n      reset: handleResetCommand,\r\n      usb: handleUsbCommand,\r\n      // TODO: implement \"rpm:300\"\r\n    }),\r\n    [\r\n      handleHeartbeatCommand,\r\n      handleAttitudeCommand,\r\n      handleEncoderCommand,\r\n      handleCurrentCommand,\r\n      handleVoltageCommand,\r\n      handleButtonCommand,\r\n      handleTargetSpeedCommand,\r\n      handleLidarStateCommand,\r\n      handleLidarMeasurementCommand,\r\n      handleSerialStatusCommand,\r\n      handleMotorsCommand,\r\n      handleIpCommand,\r\n      handleResetCommand,\r\n      handleUsbCommand,\r\n    ],\r\n  );\r\n\r\n  // return method that accepts command with arguments and forwards it to correct handler\r\n  return (command: string, args: string[]) => {\r\n    const handler = handlerMap[command];\r\n\r\n    if (!handler) {\r\n      log.warn(`missing handler for command \"${command}\" (${args.join(\", \")})`);\r\n\r\n      return;\r\n    }\r\n\r\n    handler(args);\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { lastHeartbeatTimeState } from \"../state/lastHeartbeatTimeState\";\r\nimport { loadState } from \"../state/loadState\";\r\nimport { loopFrequencyState } from \"../state/loopFrequencyState\";\r\n\r\nexport function useHandleHeartbeatCommand() {\r\n  const setLoad = useSetRecoilState(loadState);\r\n  const setLoopFrequency = useSetRecoilState(loopFrequencyState);\r\n  const setLastHeartbeatTimeState = useSetRecoilState(lastHeartbeatTimeState);\r\n\r\n  // for example \"b:100:12\" means 100Hz update rate at 12% load\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 2);\r\n\r\n    const loopFrequency = parseInt(args[0], 10);\r\n    const loadPercentage = parseInt(args[1], 10);\r\n\r\n    setLoad(loadPercentage);\r\n    setLoopFrequency(loopFrequency);\r\n    setLastHeartbeatTimeState(new Date());\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { attitudeState } from \"../state/attitudeState\";\r\n\r\nexport function useHandleAttitudeCommand() {\r\n  const setAttitude = useSetRecoilState(attitudeState);\r\n\r\n  // for example \"a:123:234:345\" means roll 1.23 degrees roll, 2.32 degrees pitch, 3.45 degrees yaw\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 3);\r\n\r\n    const roll = parseInt(args[0], 10) / 100;\r\n    const pitch = parseInt(args[1], 10) / 100;\r\n    const yaw = parseInt(args[2], 10) / 100;\r\n\r\n    setAttitude({\r\n      roll,\r\n      pitch,\r\n      yaw,\r\n    });\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { currentsState } from \"../state/currentsState\";\r\n\r\nexport function useHandleCurrentCommand() {\r\n  const setCurrents = useSetRecoilState(currentsState);\r\n\r\n  // for example \"current:1253:1314\" means 12.53A for the left motor and 13.14A for the right\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 2);\r\n\r\n    // current is reported in 100ths of amps\r\n    const left = parseInt(args[0], 10) / 100.0;\r\n    const right = parseInt(args[1], 10) / 100.0;\r\n\r\n    setCurrents({\r\n      left,\r\n      right,\r\n    });\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { voltageState } from \"../state/voltageState\";\r\n\r\nexport function useHandleVoltageCommand() {\r\n  const setVoltage = useSetRecoilState(voltageState);\r\n\r\n  // for example \"voltage:162\" means 16.2 volts\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 1);\r\n\r\n    // voltage is reported in 10ths of volts\r\n    const voltage = parseInt(args[0], 10) / 10.0;\r\n\r\n    setVoltage(voltage);\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { buttonsState } from \"../state/buttonsState\";\r\n\r\ntype ButtonName = \"left\" | \"right\" | \"start\";\r\n\r\nexport function useHandleButtonCommand() {\r\n  const setButtons = useSetRecoilState(buttonsState);\r\n\r\n  // for example \"button:start:1\" means start button is pressed, \"button:left:0\" means left bumper was released\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 2);\r\n\r\n    const buttonName = args[0] as ButtonName;\r\n    const isPressed = parseInt(args[1], 10) === 1;\r\n\r\n    setButtons((buttons) => ({\r\n      left: buttonName === \"left\" ? isPressed : buttons.left,\r\n      right: buttonName === \"right\" ? isPressed : buttons.right,\r\n      start: buttonName === \"start\" ? isPressed : buttons.start,\r\n    }));\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { targetSpeedsState } from \"../state/targetSpeedsState\";\r\n\r\nexport function useHandleTargetSpeedCommand() {\r\n  const setTargetSpeeds = useSetRecoilState(targetSpeedsState);\r\n\r\n  // for example \"s:1253:1314\" means left speed 1253 and right speed 1314\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 2);\r\n\r\n    const left = parseInt(args[0], 10);\r\n    const right = parseInt(args[1], 10);\r\n\r\n    setTargetSpeeds({\r\n      left,\r\n      right,\r\n    });\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { lidarStatusState } from \"../state/lidarStatusState\";\r\n\r\nexport function useHandleLidarStateCommand() {\r\n  const setLidarStatus = useSetRecoilState(lidarStatusState);\r\n\r\n  // for example \"l:1:1:3002:2987:56\" means lidar is running and valid\r\n  // with target rpm 300.2, current rpm 298.7 and pwm duty 56%\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 5);\r\n\r\n    const isRunning = parseInt(args[0], 10) === 1;\r\n    const isValid = parseInt(args[1], 10) === 1;\r\n    const targetRpm = parseInt(args[2], 10) / 10;\r\n    const currentRpm = parseInt(args[3], 10) / 10;\r\n    const motorPwm = parseInt(args[4], 10) / 100;\r\n\r\n    setLidarStatus({\r\n      isRunning,\r\n      isValid,\r\n      targetRpm,\r\n      currentRpm,\r\n      motorPwm,\r\n    });\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { lidarMeasurementsState, LidarMeasurement } from \"../state/lidarMeasurementsState\";\r\n\r\nconst maxMeasurementCount = 360;\r\n\r\nexport function useHandleLidarMeasurementCommand() {\r\n  const setLidarMeasurements = useSetRecoilState(lidarMeasurementsState);\r\n\r\n  // for example \"m:a1:a2:a3:b1:b2:b3:d1:d2:d3:e1:e2:e3\" means four measurements with angle, distance, quality\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 12);\r\n\r\n    const receivedMeasurements: LidarMeasurement[] = [];\r\n\r\n    // add received measurements\r\n    for (let i = 0; i < 4; i++) {\r\n      receivedMeasurements.push({\r\n        angle: parseInt(args[0 + i * 3], 10),\r\n        distance: parseInt(args[1 + i * 3], 10),\r\n        quality: parseInt(args[2 + i * 3], 10),\r\n        timestamp: Date.now(),\r\n      });\r\n    }\r\n\r\n    // update measurements\r\n    setLidarMeasurements((existingLidarMeasurements) => {\r\n      const excessiveMeasurementCount = Math.max(\r\n        existingLidarMeasurements.length + receivedMeasurements.length - 360,\r\n        0,\r\n      );\r\n\r\n      const newMeasurements = [...existingLidarMeasurements.slice(excessiveMeasurementCount), ...receivedMeasurements];\r\n\r\n      // sanity check\r\n      if (newMeasurements.length > maxMeasurementCount) {\r\n        throw new Error(\r\n          `Expected not to accumulate more than ${maxMeasurementCount} measurements but got ${newMeasurements.length}, this should not happen`,\r\n        );\r\n      }\r\n\r\n      return newMeasurements;\r\n    });\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { SerialStatus, serialStatusState } from \"../state/serialStatusState\";\r\n\r\ntype SerialType = \"usb\" | \"bluetooth\";\r\n\r\nexport function useHandleSerialStatusCommand() {\r\n  const setSerialStatus = useSetRecoilState(serialStatusState);\r\n\r\n  // for example \"button:start:1\" means start button is pressed, \"button:left:0\" means left bumper was released\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 2);\r\n\r\n    const serialType = args[0] as SerialType;\r\n    const serialStatus = args[1] as SerialStatus;\r\n\r\n    // only support usb serial\r\n    if (serialType !== \"usb\") {\r\n      return;\r\n    }\r\n\r\n    setSerialStatus(serialStatus);\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { motorsConnectedState } from \"../state/motorsConnectedState\";\r\n\r\nexport function useHandleMotorsCommand() {\r\n  const setMotorsConnected = useSetRecoilState(motorsConnectedState);\r\n\r\n  // for example \"motors:1\" means communication with the motors board is working (motors:0 for not working)\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 1);\r\n\r\n    const isConnected = parseInt(args[0], 10) === 1;\r\n\r\n    setMotorsConnected(isConnected);\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { serverIpState } from \"../state/serverIpState\";\r\n\r\nexport function useHandleIpCommand() {\r\n  const setServerIp = useSetRecoilState(serverIpState);\r\n\r\n  // for example \"ip:192.168.1.123\"\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 1);\r\n\r\n    const serverIp = args[0];\r\n\r\n    setServerIp(serverIp);\r\n  };\r\n}\r\n","import { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { robot } from \"../services/robot\";\r\n\r\nexport function useHandleResetCommand() {\r\n  // for example \"reset\", sent when native connection is reset\r\n  return (args: string[]) => {\r\n    // not expecting any arguments\r\n    assertArgumentCount(args, 0);\r\n\r\n    // ask for current robot state\r\n    robot.requestState();\r\n  };\r\n}\r\n","import { useSetRecoilState } from \"recoil\";\r\nimport { assertArgumentCount } from \"../services/assertArgumentCount\";\r\nimport { usbState } from \"../state/usbState\";\r\n\r\nexport function useHandleUsbCommand() {\r\n  const setUsb = useSetRecoilState(usbState);\r\n\r\n  // for example \"usb:7936:8210:CDC DEVICE\" means usb device called \"CDC DEVICE\" with vendor id 7936 and product id 8210\r\n  return (args: string[]) => {\r\n    assertArgumentCount(args, 3);\r\n\r\n    const vendorId = parseInt(args[0], 10);\r\n    const productId = parseInt(args[1], 10);\r\n    const name = args[2];\r\n\r\n    setUsb({\r\n      vendorId,\r\n      productId,\r\n      name,\r\n    });\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { useStateRouter } from \"../../hooks/useStateRouter\";\r\n\r\nexport const StateRouter: React.FC = () => {\r\n  // listens for events from multi-transport and forwards it to state\r\n  useStateRouter();\r\n\r\n  return null;\r\n};\r\n","import { useMemo, useEffect } from \"react\";\r\nimport { useSetRecoilState } from \"recoil\";\r\nimport { config } from \"../config\";\r\nimport { TransportListener, TransportStatus } from \"../lib/transport\";\r\nimport { multiTransport } from \"../services/multiTransport\";\r\nimport { robot } from \"../services/robot\";\r\nimport { activeTransportNameState } from \"../state/activeTransportNameState\";\r\nimport { timerState } from \"../state/timerState\";\r\nimport { transportStatusState } from \"../state/transportStatusState\";\r\nimport { useHandleCommand } from \"./useHandleCommand\";\r\nimport { useInterval } from \"./useInterval\";\r\nimport { useLog } from \"./useLog\";\r\nimport { useTransportListener } from \"./useTransportListener\";\r\n\r\n// const messageQueue: string[] = [];\r\n// const noLogCommands = [\"e\", \"b\", \"l\", \"a\"];\r\n\r\n// listens for events from multi-transport and forwards it to state\r\nexport function useStateRouter() {\r\n  const setTransportStatus = useSetRecoilState(transportStatusState);\r\n  const setActiveTransportName = useSetRecoilState(activeTransportNameState);\r\n  const setTimer = useSetRecoilState(timerState);\r\n  const log = useLog();\r\n  const handleCommand = useHandleCommand();\r\n\r\n  useInterval(() => {\r\n    setTimer(Date.now());\r\n  }, 1000);\r\n\r\n  useEffect(() => {\r\n    // test log messages\r\n    // log.info(\"info message that is quite long so it will span several lines\");\r\n    // log.send(\"send message\");\r\n    // log.receive(\"receive message\");\r\n    // log.warn(\"warn message\");\r\n    // log.error(\"error message\");\r\n\r\n    const currentTransportState = multiTransport.getState();\r\n\r\n    // set initial transport state\r\n    setTransportStatus(currentTransportState);\r\n\r\n    // update timer every second (useful to check something at interval)\r\n  }, [log, setTransportStatus]);\r\n\r\n  // configure transport listener\r\n  const transportListener = useMemo<TransportListener>(\r\n    () => ({\r\n      // called when active transport state changes\r\n      onStatusChanged: (transport, newStatus, previousStatus) => {\r\n        setTransportStatus(newStatus);\r\n        setActiveTransportName(transport.getName());\r\n\r\n        // request state once connected\r\n        if (newStatus === TransportStatus.CONNECTED) {\r\n          robot.requestState();\r\n        }\r\n\r\n        log.info(`${transport.getName()} state changed from ${previousStatus} to ${newStatus}`);\r\n      },\r\n\r\n      // called on transport error\r\n      onError: (_transport, error) => {\r\n        log.error(`transport error occurred${error ? ` (${error.message})` : \"\"}`);\r\n      },\r\n\r\n      // called when transport message is sent\r\n      onMessageSent: (transport, message, wasSentSuccessfully: boolean) => {\r\n        const [command] = message.split(\":\");\r\n\r\n        // don't log blacklisted messages\r\n        if (!config.log.ignoreSentCommands.includes(command)) {\r\n          if (wasSentSuccessfully) {\r\n            log.send(`${message}${!wasSentSuccessfully ? \" [SENDING FAILED]\" : \"\"}`, transport.getName());\r\n          } else {\r\n            log.error(`sending message \"${message}\" failed`, transport.getName());\r\n          }\r\n        }\r\n      },\r\n\r\n      // called when transport message is received\r\n      onMessageReceived: (transport, message) => {\r\n        const [command, ...args] = message.split(\":\");\r\n\r\n        // don't blacklisted messages\r\n        if (!config.log.ignoreReceivedCommands.includes(command)) {\r\n          log.receive(message, transport.getName());\r\n        }\r\n\r\n        // handle the command\r\n        handleCommand(command, args);\r\n      },\r\n    }),\r\n    // we don't want to create new listener when log changes\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  );\r\n\r\n  // adds new multi-transport listeners and forwards the events to state\r\n  useTransportListener(transportListener);\r\n}\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { FlexProps } from \"../../components/Flex/Flex\";\r\nimport { Loading } from \"../../components/Loading/Loading\";\r\nimport { View } from \"../../components/View/View\";\r\nimport styles from \"./LoadingView.module.scss\";\r\n\r\nexport const LoadingView: React.FC<FlexProps> = React.memo(function LoadingView({ className, ...rest }) {\r\n  return (\r\n    <View center className={classNames(styles[\"loading-view\"], className)} {...rest}>\r\n      <Loading large />\r\n    </View>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { RecoilRoot } from \"recoil\";\r\nimport { App } from \"./App\";\r\nimport \"./theme/main.scss\";\r\nimport ErrorBoundary from \"./components/ErrorBoundary/ErrorBoundary\";\r\nimport { LowBatteryAlarm } from \"./components/LowBatteryAlarm/LowBatteryAlarm\";\r\nimport { StateRouter } from \"./components/StateRouter/StateRouter\";\r\nimport { LoadingView } from \"./views/LoadingView/LoadingView\";\r\n\r\nexport const Root: React.FC = () => (\r\n  <React.StrictMode>\r\n    <RecoilRoot>\r\n      <ErrorBoundary>\r\n        <React.Suspense fallback={<LoadingView />}>\r\n          <App />\r\n        </React.Suspense>\r\n      </ErrorBoundary>\r\n      <StateRouter />\r\n      <LowBatteryAlarm />\r\n    </RecoilRoot>\r\n  </React.StrictMode>\r\n);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { Root } from \"./Root\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\n// render root component\r\nReactDOM.render(<Root />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n// use hot reload if available\r\n// if (module.hot) {\r\n//   module.hot.accept(\"./Root\", () => {\r\n//     // clear old console messages and notify about hot-reload\r\n//     console.clear();\r\n//     console.log(\"-- Hot reloaded the app (press F5 for full reload) --\");\r\n\r\n//     // get updated root component\r\n//     const NextRoot = require(\"./Root\").Root;\r\n\r\n//     // render updated root\r\n//     ReactDOM.render(<NextRoot />, document.getElementById(\"root\"));\r\n//   });\r\n// }\r\n"],"sourceRoot":""}